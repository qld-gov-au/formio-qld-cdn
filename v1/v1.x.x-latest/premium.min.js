/*! For license information please see premium.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("Formio")):"function"==typeof define&&define.amd?define(["Formio"],e):"object"==typeof exports?exports.premium=e(require("Formio")):t.premium=e(t.Formio)}(self,(function(t){return function(){var e={86131:function(t,e){e.Z=function(t){return'<div class="row">\n  <div class="col-sm-2">\n    Users\n  </div>\n</div>'}},26213:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<div class="list-group-item">\n  <div class="list-group-subheader">\n    <div class="row">\n      <div class="col-sm-2">\n        User '+(null==(e=rowIndex+1)?"":e)+"\n      </div>\n      ",t.self.options.readOnly||(n+='\n      <div class="col-sm-2">\n        <div class="btn-group pull-right">\n          <button class="btn btn-default btn-light btn-sm editCard"><i class="'+(null==(e=t.iconClass("edit"))?"":e)+'"></i></button>\n          <button class="btn btn-danger btn-sm removeCard"><i class="'+(null==(e=t.iconClass("trash"))?"":e)+'"></i></button>\n        </div>\n      </div>\n      '),n+="\n    </div>\n  </div>\n  ",t.util.eachComponent(t.components,(function(i){n+="\n  ",i.hasOwnProperty("tableView")&&!i.tableView||!t.isVisibleInRow(i)||(n+='\n  <div class="row">\n    <div class="col-sm-2">\n      '+(null==(e=i.key)?"":e)+'\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-sm-2">\n      '+(null==(e=t.getView(i,t.row[i.key]))?"":e)+"\n    </div>\n  </div>\n  "),n+="\n  "})),n+="\n</div>"}},35353:function(t,e){e.Z=function(t){var e;return""+'<div class="d-flex">\n  <button class="btn btn-secondary" ref="'+(null==(e=t.ref)?"":e)+'">\n    <i class="fa fa-barcode component-icon"></i> '+(null==(e=t.label)?"":e)+'\n  </button>\n  <div class="info-text">\n    '+(null==(e=t.dataValue?t.dataValue:"No code")?"":e)+"\n  </div>\n</div>\n"}},1752:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<div ref="tableContainer"></div>\n\n<div class="formio-component-modal-wrapper formio-component-modal-wrapper-'+(null==(e=t.component.type)?"":e)+'" ref="componentModalWrapper">\n  <div class="formio-dialog formio-dialog-theme-default component-rendering-hidden" ref="dataTableModalWrapper">\n    <div class="formio-dialog-overlay" ref="dataTableModalOverlay"></div>\n    <div class="formio-dialog-content" ref="dataTableModalContents">\n      <div ref="dataTableModalContents">\n        <ul class="editgrid-listgroup list-group\n            '+(null==(e=t.component.striped?"table-striped":"")?"":e)+"\n            "+(null==(e=t.component.bordered?"table-bordered":"")?"":e)+"\n            "+(null==(e=t.component.hover?"table-hover":"")?"":e)+"\n            "+(null==(e=t.component.condensed?"table-sm":"")?"":e)+'\n            ">\n          ',t.header&&(n+='\n          <li class="list-group-item list-group-header">\n            '+(null==(e=t.header)?"":e)+"\n          </li>\n          "),n+="\n          ",t.rows.forEach((function(i,r){n+='\n          <li class="list-group-item" ref="'+(null==(e=t.ref.row)?"":e)+'">\n            '+(null==(e=i)?"":e)+"\n            ",t.openRows[r]&&!t.readOnly&&(n+='\n            <div class="editgrid-actions">\n              <button class="btn btn-primary" ref="'+(null==(e=t.ref.saveRow)?"":e)+'">'+(null==(e=t.t(t.component.saveRow||"Save",{_userInput:!0}))?"":e)+"</button>\n              ",t.component.removeRow&&(n+='\n              <button class="btn btn-danger" ref="'+(null==(e=t.ref.cancelRow)?"":e)+'">'+(null==(e=t.t(t.component.removeRow||"Cancel",{_userInput:!0}))?"":e)+"</button>\n              "),n+="\n            </div>\n            "),n+='\n            <div class="has-error">\n              <div class="editgrid-row-error help-block">\n                '+(null==(e=t.errors[r])?"":e)+"\n              </div>\n            </div>\n          </li>\n          "})),n+="\n          ",t.footer&&(n+='\n          <li class="list-group-item list-group-footer">\n            '+(null==(e=t.footer)?"":e)+"\n          </li>\n          "),n+='\n        </ul>\n      </div>\n      <button class="formio-dialog-close float-right btn btn-secondary btn-sm" aria-label="close" ref="dataTableModalClose"></button>\n    </div>\n  </div>\n</div>\n'}},55066:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<ul class="editgrid-listgroup list-group\n    '+(null==(e=t.component.striped?"table-striped":"")?"":e)+"\n    "+(null==(e=t.component.bordered?"table-bordered":"")?"":e)+"\n    "+(null==(e=t.component.hover?"table-hover":"")?"":e)+"\n    "+(null==(e=t.component.condensed?"table-sm":"")?"":e)+'\n    ">\n  ',t.header&&(n+='\n  <li class="list-group-item list-group-header">\n    '+(null==(e=t.header)?"":e)+"\n  </li>\n  "),n+="\n  ",t.rows.forEach((function(i,r){n+='\n  <li class="list-group-item" ref="'+(null==(e=t.ref.row)?"":e)+'">\n    '+(null==(e=i)?"":e)+"\n    ",t.openRows[r]&&!t.readOnly&&(n+='\n    <div class="editgrid-actions">\n      <button class="btn btn-primary" ref="'+(null==(e=t.ref.saveRow)?"":e)+'">'+(null==(e=t.t(t.component.saveRow||"Save",{_userInput:!0}))?"":e)+"</button>\n      ",t.component.removeRow&&(n+='\n      <button class="btn btn-danger" ref="'+(null==(e=t.ref.cancelRow)?"":e)+'">'+(null==(e=t.t(t.component.removeRow||"Cancel",{_userInput:!0}))?"":e)+"</button>\n      "),n+="\n    </div>\n    "),n+='\n    <div class="has-error">\n      <div class="editgrid-row-error help-block">\n        '+(null==(e=t.errors[r])?"":e)+"\n      </div>\n    </div>\n  </li>\n  "})),n+="\n  ",t.footer&&(n+='\n  <li class="list-group-item list-group-footer">\n    '+(null==(e=t.footer)?"":e)+"\n  </li>\n  "),n+="\n</ul>\n"}},82656:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<ul class="dynamicWizard-listgroup list-group\n    '+(null==(e=t.component.striped?"table-striped":"")?"":e)+"\n    "+(null==(e=t.component.bordered?"table-bordered":"")?"":e)+"\n    "+(null==(e=t.component.hover?"table-hover":"")?"":e)+"\n    "+(null==(e=t.component.condensed?"table-sm":"")?"":e)+'\n    ">\n  ',t.readOnly||!t.isChangingMode||t.isDisabled?(n+="\n  ",t.header&&(n+='\n  <li class="list-group-item list-group-header">\n    '+(null==(e=t.header)?"":e)+"\n  </li>\n  "),n+="\n  ",t.rows.forEach((function(i,r){n+='\n  <li class="list-group-card" ref="'+(null==(e=t.ref.row)?"":e)+'">\n    '+(null==(e=i)?"":e)+'\n    <div class="has-error">\n      <div class="dynamicWizard-row-error help-block">\n        '+(null==(e=t.errors[r])?"":e)+"\n      </div>\n    </div>\n  </li>\n  "})),n+="\n  ",t.footer&&(n+='\n  <li class="list-group-item list-group-footer">\n    '+(null==(e=t.footer)?"":e)+"\n  </li>\n  "),n+="\n  "):n+='\n  <li class="list-group-field" ref="'+(null==(e=t.ref.row)?"":e)+'">\n    '+(null==(e=t.currentComponent)?"":e)+"\n  </li>\n  ",n+="\n</ul>\n",t.readOnly||t.isBlocking||(n+="\n",t.isChangingMode?(n+='\n<ul class="list-inline" id="'+(null==(e=t.dynamicWizardKey)?"":e)+'-nav">\n  ',t.buttons.cancel&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-secondary btn-wizard-nav-cancel"\n      ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-cancel">'+(null==(e=t.t("cancel"))?"":e)+"</button>\n  </li>\n  "),n+="\n  ",t.buttons.previous&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-primary btn-wizard-nav-previous"\n      ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-previous">'+(null==(e=t.t("previous"))?"":e)+"</button>\n  </li>\n  "),n+="\n  ",t.buttons.next&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-primary btn-wizard-nav-next" ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-next">'+(null==(e=t.t("next"))?"":e)+"</button>\n  </li>\n  "),n+="\n</ul>\n"):(n+="\n",t.hasAddButton&&(n+='\n  <p>Would you like to add another?</p>\n  <button class="btn btn-primary" ref="'+(null==(e=t.ref.agreeButton)?"":e)+'">\n    '+(null==(e=t.t("Yes"))?"":e)+"\n  </button>\n"),n+="\n"),n+="\n"),n}},11970:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<ul class="dynamicWizard-listgroup list-group\n    '+(null==(e=t.component.striped?"table-striped":"")?"":e)+"\n    "+(null==(e=t.component.bordered?"table-bordered":"")?"":e)+"\n    "+(null==(e=t.component.hover?"table-hover":"")?"":e)+"\n    "+(null==(e=t.component.condensed?"table-sm":"")?"":e)+'\n    ">\n  ',t.readOnly||!t.isChangingMode||t.isDisabled?(n+="\n  ",t.header&&(n+='\n  <li class="list-group-item list-group-header">\n    '+(null==(e=t.header)?"":e)+"\n  </li>\n  "),n+="\n  ",t.rows.forEach((function(i,r){n+='\n  <li class="list-group-card" ref="'+(null==(e=t.ref.row)?"":e)+'">\n    '+(null==(e=i)?"":e)+'\n    <div class="has-error">\n      <div class="dynamicWizard-row-error help-block">\n        '+(null==(e=t.errors[r])?"":e)+"\n      </div>\n    </div>\n  </li>\n  "})),n+="\n  ",t.footer&&(n+='\n  <li class="list-group-item list-group-footer">\n    '+(null==(e=t.footer)?"":e)+"\n  </li>\n  "),n+="\n  "):n+='\n  <li class="list-group-field" ref="'+(null==(e=t.ref.row)?"":e)+'">\n    '+(null==(e=t.currentComponent)?"":e)+"\n  </li>\n  ",n+="\n</ul>\n",t.readOnly||t.isBlocking||(n+="\n",t.isChangingMode?(n+='\n<ul class="list-inline" id="'+(null==(e=t.dynamicWizardKey)?"":e)+'-nav">\n  ',t.buttons.cancel&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-secondary btn-wizard-nav-cancel"\n      ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-cancel">'+(null==(e=t.t("cancel"))?"":e)+"</button>\n  </li>\n  "),n+="\n  ",t.buttons.previous&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-primary btn-wizard-nav-previous"\n      ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-previous">'+(null==(e=t.t("previous"))?"":e)+"</button>\n  </li>\n  "),n+="\n  ",t.buttons.next&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-primary btn-wizard-nav-next" ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-next">'+(null==(e=t.t("next"))?"":e)+"</button>\n  </li>\n  "),n+="\n</ul>\n"):(n+="\n",t.hasAddButton&&(n+='\n  <p>Would you like to add another?</p>\n  <button class="btn btn-primary" ref="'+(null==(e=t.ref.agreeButton)?"":e)+'">\n    '+(null==(e=t.t("Yes"))?"":e)+"\n  </button>\n"),n+="\n"),n+="\n"),n}},13782:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,t.isPDF&&(n+='\n  <p style="\n    '+(null==(e=t.styles)?"":e)+'\n    color: #fff;\n    margin: 0;\n  ">\n    [[ s | '+(null==(e=t.component.order)?"":e)+" ]]\n  </p>\n"),n+="\n",t.isBuilder&&(n+='\n  <p style="\n    '+(null==(e=t.styles)?"":e)+'\n    text-align: center;\n    background-color: #e0e0e0;\n    border: 1px solid #ddd;\n  ">\n    '+(null==(e=t.t("Signature"))?"":e)+"\n  </p>\n  ",t.actionSetUp||(n+='\n    <div class="alert alert-warning">\n      <p>'+(null==(e=t.t("SignRequest action is not set up."))?"":e)+"</p>\n    </div>\n  "),n+="\n"),n+"\n"}},62175:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<div class="formio-sketchpad-body">\n  <div class="formio-sketchpad-header" ref="header">\n    <div class="btn-toolbar formio-sketchpad-toolbar" role="toolbar">\n      ',!t.disabled&&t.buttonGroups.forEach((function(i){n+='\n        <div class="btn-group formio-sketchpad-toolbar-group" role="group">\n          ',i.forEach((function(i){n+='\n            <div class="btn formio-sketchpad-toolbar-button formio-sketchpad-toolbar-button-'+(null==(e=i.key)?"":e)+'" ref="'+(null==(e=i.key)?"":e)+'" title="'+(null==(e=i.title)?"":e)+'">\n              <i class="'+(null==(e=i.icon)?"":e)+'"></i>\n              ',i.input&&(n+='\n                <input type="'+(null==(e=i.input.type)?"":e)+'" class="formio-sketchpad-toolbar-input '+(null==(e=i.input.class)?"":e)+'" ref="'+(null==(e=i.key)?"":e)+'-input"\n                '+(null==(e=t.self.buttonAttributes(i))?"":e)+"/>\n              "),n+="\n            </div>\n          "})),n+="\n        </div>\n      "})),n+='\n    </div>\n  </div>\n  <div class="formio-sketchpad-container" ref="drawingContainer">\n    <div class="formio-sketchpad-background" ref="background">\n      ',t.component.image||t.component.imageUrl||(n+="\n          Background image is not specified. Sketchpad doesn\\'t work without background image\n      "),n+="\n      ",t.component.imageUrl&&"svg"!==t.component.imageType&&(n+='\n        <img ref="backgroundImage" alt="'+(null==(e=t.t("sketchpad background"))?"":e)+'"/>\n      '),n+='\n    </div>\n    <div class="formio-sketchpad-canvas" ref="canvas"></div>\n  </div>\n  <div class="formio-sketchpad-footer" ref="footer">\n    <div class="formio-sketchpad-meta-info"><div><span ref="totalMultiplier">'+(null==(e=t.zoomInfo.totalMultiplier)?"":e)+"</span>x</div>\n  </div>\n</div></div>\n"}},48352:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<div class="formio-tagpad-container clearfix">\n  <div ref="canvasContainer" class="formio-tagpad-image-container" style="max-width: '+(null==(e=t.canvasMaxWidth)?"":e)+"; max-height: "+(null==(e=t.canvasMaxHeight)?"":e)+';">\n      <div ref="background" class="formio-tagpad-background">\n        ',t.component.image||t.component.imageUrl||(n+="\n            Background image is not specified. Tagpad doesn\\'t work without background image\n        "),n+="\n        ",t.component.imageUrl&&(n+="\n            <img src="+(null==(e=t.component.imageUrl)?"":e)+' ref="image" alt="" width="100%"/>\n        '),n+='\n      </div>\n      <div ref="canvas" class="formio-tagpad-canvas"></div>\n  </div>\n  <div ref="formContainer" class="formio-tagpad-form-container">\n      <div class="formio-tagpad-form">\n        ',t.selectedDot?(n+='\n          <p class="formio-tagpad-form-title">Dot: '+(null==(e=t.selectedDot.index+1)?"":e)+'</p>\n          <div  ref="form">'+(null==(e=t.components)?"":e)+"</div>\n          ",t.buttons.removeDot&&(n+='\n            <button class="btn btn-sm btn-danger formio-tagpad-remove-button" ref="removeDot">\n              <i class="fa fa-trash"></i>\n            </button>\n          '),n+="\n        "):!t.hasDots||t.disabled||t.component.disabled||t.self.shouldDisabled?(t.component.disabled||t.disabled||t.self.shouldDisabled)&&(n+='\n          <div class="formio-tagpad-all-data">'+(null==(e=t.self.getDataAsString())?"":e)+"</div>\n        "):n+='\n          <p class="formio-tagpad-form-title">No dot selected</p>\n        ',n+"\n      </div>\n  </div>\n</div>\n"}},10333:function(t,e){e.Z=function(t){var e;return""+'<div class="d-flex">\n  <button class="btn btn-secondary" ref="'+(null==(e=t.ref)?"":e)+'">\n    <i class="fa fa-barcode component-icon"></i> '+(null==(e=t.label)?"":e)+'\n  </button>\n  <div class="info-text">\n    '+(null==(e=t.dataValue?t.dataValue:"No code")?"":e)+"\n  </div>\n</div>\n"}},52209:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<div ref="tableContainer"></div>\n<div class="formio-component-modal-wrapper formio-component-modal-wrapper-'+(null==(e=t.component.type)?"":e)+'" ref="componentModalWrapper">\n  <div class="formio-dialog formio-dialog-theme-default component-rendering-hidden" ref="dataTableModalWrapper">\n    <div class="formio-dialog-overlay" ref="dataTableModalOverlay"></div>\n    <div class="formio-dialog-content" ref="dataTableModalContents">\n      <div ref="dataTableModalContents">\n        <ul class="editgrid-listgroup list-group\n            '+(null==(e=t.component.striped?"table-striped":"")?"":e)+"\n            "+(null==(e=t.component.bordered?"table-bordered":"")?"":e)+"\n            "+(null==(e=t.component.hover?"table-hover":"")?"":e)+"\n            "+(null==(e=t.component.condensed?"table-sm":"")?"":e)+'\n            ">\n          ',t.header&&(n+='\n          <li class="list-group-item list-group-header">\n            '+(null==(e=t.header)?"":e)+"\n          </li>\n          "),n+="\n          ",t.rows.forEach((function(i,r){n+='\n          <li class="list-group-item" ref="'+(null==(e=t.ref.row)?"":e)+'">\n            '+(null==(e=i)?"":e)+"\n            ",t.openRows[r]&&!t.readOnly&&(n+='\n            <div class="editgrid-actions">\n              <button class="btn btn-primary" ref="'+(null==(e=t.ref.saveRow)?"":e)+'">'+(null==(e=t.t(t.component.saveRow||"Save",{_userInput:!0}))?"":e)+"</button>\n              ",t.component.removeRow&&(n+='\n              <button class="btn btn-danger" ref="'+(null==(e=t.ref.cancelRow)?"":e)+'">'+(null==(e=t.t(t.component.removeRow||"Cancel",{_userInput:!0}))?"":e)+"</button>\n              "),n+="\n            </div>\n            "),n+='\n            <div class="has-error">\n              <div class="editgrid-row-error help-block">\n                '+(null==(e=t.errors[r])?"":e)+"\n              </div>\n            </div>\n          </li>\n          "})),n+="\n          ",t.footer&&(n+='\n          <li class="list-group-item list-group-footer">\n            '+(null==(e=t.footer)?"":e)+"\n          </li>\n          "),n+='\n        </ul>\n      </div>\n      <button class="formio-dialog-close float-right btn btn-secondary btn-sm" aria-label="close" ref="dataTableModalClose"></button>\n    </div>\n  </div>\n</div>\n\n'}},80339:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<ul class="editgrid-listgroup list-group\n    '+(null==(e=t.component.striped?"table-striped":"")?"":e)+"\n    "+(null==(e=t.component.bordered?"table-bordered":"")?"":e)+"\n    "+(null==(e=t.component.hover?"table-hover":"")?"":e)+"\n    "+(null==(e=t.component.condensed?"table-sm":"")?"":e)+'\n    ">\n  ',t.header&&(n+='\n  <li class="list-group-item list-group-header">\n    '+(null==(e=t.header)?"":e)+"\n  </li>\n  "),n+="\n  ",t.rows.forEach((function(i,r){n+='\n  <li class="list-group-item" ref="'+(null==(e=t.ref.row)?"":e)+'">\n    '+(null==(e=i)?"":e)+"\n    ",t.openRows[r]&&!t.readOnly&&(n+='\n    <div class="editgrid-actions">\n      <button class="btn btn-primary" ref="'+(null==(e=t.ref.saveRow)?"":e)+'">'+(null==(e=t.t(t.component.saveRow||"Save",{_userInput:!0}))?"":e)+"</button>\n      ",t.component.removeRow&&(n+='\n      <button class="btn btn-danger" ref="'+(null==(e=t.ref.cancelRow)?"":e)+'">'+(null==(e=t.t(t.component.removeRow||"Cancel",{_userInput:!0}))?"":e)+"</button>\n      "),n+="\n    </div>\n    "),n+='\n    <div class="has-error">\n      <div class="editgrid-row-error help-block">\n        '+(null==(e=t.errors[r])?"":e)+"\n      </div>\n    </div>\n  </li>\n  "})),n+="\n  ",t.footer&&(n+='\n  <li class="list-group-item list-group-footer">\n    '+(null==(e=t.footer)?"":e)+"\n  </li>\n  "),n+="\n</ul>\n"}},43290:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<ul class="dynamicWizard-listgroup list-group\n    '+(null==(e=t.component.striped?"table-striped":"")?"":e)+"\n    "+(null==(e=t.component.bordered?"table-bordered":"")?"":e)+"\n    "+(null==(e=t.component.hover?"table-hover":"")?"":e)+"\n    "+(null==(e=t.component.condensed?"table-sm":"")?"":e)+'\n    ">\n  ',t.readOnly||!t.isChangingMode||t.isDisabled?(n+="\n  ",t.header&&(n+='\n  <li class="list-group-item list-group-header">\n    '+(null==(e=t.header)?"":e)+"\n  </li>\n  "),n+="\n  ",t.rows.forEach((function(i,r){n+='\n  <li class="list-group-card" ref="'+(null==(e=t.ref.row)?"":e)+'">\n    '+(null==(e=i)?"":e)+'\n    <div class="has-error">\n      <div class="dynamicWizard-row-error help-block">\n        '+(null==(e=t.errors[r])?"":e)+"\n      </div>\n    </div>\n  </li>\n  "})),n+="\n  ",t.footer&&(n+='\n  <li class="list-group-item list-group-footer">\n    '+(null==(e=t.footer)?"":e)+"\n  </li>\n  "),n+="\n  "):n+='\n  <li class="list-group-field" ref="'+(null==(e=t.ref.row)?"":e)+'">\n    '+(null==(e=t.currentComponent)?"":e)+"\n  </li>\n  ",n+="\n</ul>\n",t.readOnly||t.isBlocking||(n+="\n",t.isChangingMode?(n+='\n<ul class="list-inline" id="'+(null==(e=t.dynamicWizardKey)?"":e)+'-nav">\n  ',t.buttons.cancel&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-secondary btn-wizard-nav-cancel"\n      ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-cancel">'+(null==(e=t.t("cancel"))?"":e)+"</button>\n  </li>\n  "),n+="\n  ",t.buttons.previous&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-primary btn-wizard-nav-previous"\n      ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-previous">'+(null==(e=t.t("previous"))?"":e)+"</button>\n  </li>\n  "),n+="\n  ",t.buttons.next&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-primary btn-wizard-nav-next" ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-next">'+(null==(e=t.t("next"))?"":e)+"</button>\n  </li>\n  "),n+="\n</ul>\n"):(n+="\n",t.hasAddButton&&(n+='\n  <p>Would you like to add another?</p>\n  <button class="btn btn-primary" ref="'+(null==(e=t.ref.agreeButton)?"":e)+'">\n    '+(null==(e=t.t("Yes"))?"":e)+"\n  </button>\n"),n+="\n"),n+="\n"),n}},60469:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<ul class="dynamicWizard-listgroup list-group\n    '+(null==(e=t.component.striped?"table-striped":"")?"":e)+"\n    "+(null==(e=t.component.bordered?"table-bordered":"")?"":e)+"\n    "+(null==(e=t.component.hover?"table-hover":"")?"":e)+"\n    "+(null==(e=t.component.condensed?"table-sm":"")?"":e)+'\n    ">\n  ',t.readOnly||!t.isChangingMode||t.isDisabled?(n+="\n  ",t.header&&(n+='\n  <li class="list-group-item list-group-header">\n    '+(null==(e=t.header)?"":e)+"\n  </li>\n  "),n+="\n  ",t.rows.forEach((function(i,r){n+='\n  <li class="list-group-card" ref="'+(null==(e=t.ref.row)?"":e)+'">\n    '+(null==(e=i)?"":e)+'\n    <div class="has-error">\n      <div class="dynamicWizard-row-error help-block">\n        '+(null==(e=t.errors[r])?"":e)+"\n      </div>\n    </div>\n  </li>\n  "})),n+="\n  ",t.footer&&(n+='\n  <li class="list-group-item list-group-footer">\n    '+(null==(e=t.footer)?"":e)+"\n  </li>\n  "),n+="\n  "):n+='\n  <li class="list-group-field" ref="'+(null==(e=t.ref.row)?"":e)+'">\n    '+(null==(e=t.currentComponent)?"":e)+"\n  </li>\n  ",n+="\n</ul>\n",t.readOnly||t.isBlocking||(n+="\n",t.isChangingMode?(n+='\n<ul class="list-inline" id="'+(null==(e=t.dynamicWizardKey)?"":e)+'-nav">\n  ',t.buttons.cancel&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-secondary btn-wizard-nav-cancel"\n      ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-cancel">'+(null==(e=t.t("cancel"))?"":e)+"</button>\n  </li>\n  "),n+="\n  ",t.buttons.previous&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-primary btn-wizard-nav-previous"\n      ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-previous">'+(null==(e=t.t("previous"))?"":e)+"</button>\n  </li>\n  "),n+="\n  ",t.buttons.next&&(n+='\n  <li class="list-inline-item">\n    <button class="btn btn-primary btn-wizard-nav-next" ref="'+(null==(e=t.dynamicWizardKey)?"":e)+'-next">'+(null==(e=t.t("next"))?"":e)+"</button>\n  </li>\n  "),n+="\n</ul>\n"):(n+="\n",t.hasAddButton&&(n+='\n  <p>Would you like to add another?</p>\n  <button class="btn btn-primary" ref="'+(null==(e=t.ref.agreeButton)?"":e)+'">\n    '+(null==(e=t.t("Yes"))?"":e)+"\n  </button>\n"),n+="\n"),n+="\n"),n}},432:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<div class="formio-sketchpad-body">\n  <div class="formio-sketchpad-header" ref="header">\n    <div class="btn-toolbar formio-sketchpad-toolbar" role="toolbar">\n      ',!t.disabled&&t.buttonGroups.forEach((function(i){n+='\n        <div class="btn-group formio-sketchpad-toolbar-group" role="group">\n          ',i.forEach((function(i){n+='\n            <div class="btn formio-sketchpad-toolbar-button formio-sketchpad-toolbar-button-'+(null==(e=i.key)?"":e)+'" ref="'+(null==(e=i.key)?"":e)+'" title="'+(null==(e=i.title)?"":e)+'">\n              <i class="'+(null==(e=i.icon)?"":e)+'"></i>\n              ',i.input&&(n+='\n                <input type="'+(null==(e=i.input.type)?"":e)+'" class="formio-sketchpad-toolbar-input '+(null==(e=i.input.class)?"":e)+'" ref="'+(null==(e=i.key)?"":e)+'-input"\n                '+(null==(e=t.self.buttonAttributes(i))?"":e)+"/>\n              "),n+="\n            </div>\n          "})),n+="\n        </div>\n      "})),n+='\n    </div>\n  </div>\n  <div class="formio-sketchpad-container" ref="drawingContainer">\n    <div class="formio-sketchpad-background" ref="background">\n      ',t.component.image||t.component.imageUrl||(n+="\n          Background image is not specified. Sketchpad doesn\\'t work without background image\n      "),n+="\n      ",t.component.imageUrl&&"svg"!==t.component.imageType&&(n+='\n        <img ref="backgroundImage" alt=""/>\n      '),n+='\n    </div>\n    <div class="formio-sketchpad-canvas" ref="canvas"></div>\n  </div>\n  <div class="formio-sketchpad-footer" ref="footer">\n    <div class="formio-sketchpad-meta-info"><div><span ref="totalMultiplier">'+(null==(e=t.zoomInfo.totalMultiplier)?"":e)+"</span>x</div>\n  </div>\n</div></div>\n"}},76005:function(t,e){e.Z=function(t){var e,n="";return Array.prototype.join,n+='<div class="formio-tagpad-container clearfix">\n  <div ref="canvasContainer" class="formio-tagpad-image-container" style="max-width: '+(null==(e=t.canvasMaxWidth)?"":e)+"; max-height: "+(null==(e=t.canvasMaxHeight)?"":e)+';">\n      <div ref="background" class="formio-tagpad-background">\n        ',t.component.image||t.component.imageUrl||(n+="\n            Background image is not specified. Tagpad doesn\\'t work without background image\n        "),n+="\n        ",t.component.imageUrl&&(n+="\n            <img src="+(null==(e=t.component.imageUrl)?"":e)+' ref="image" alt="" width="100%"/>\n        '),n+='\n      </div>\n      <div ref="canvas" class="formio-tagpad-canvas"></div>\n  </div>\n  <div ref="formContainer" class="formio-tagpad-form-container">\n      <div class="formio-tagpad-form">\n        ',t.selectedDot?(n+='\n          <p class="formio-tagpad-form-title">Dot: '+(null==(e=t.selectedDot.index+1)?"":e)+'</p>\n          <div  ref="form">'+(null==(e=t.components)?"":e)+"</div>\n          ",t.buttons.removeDot&&(n+='\n            <button class="btn btn-sm btn-danger formio-tagpad-remove-button" ref="removeDot">\n              <i class="fa fa-trash"></i>\n            </button>\n          '),n+="\n        "):!t.hasDots||t.disabled||t.component.disabled||t.self.shouldDisabled?(t.component.disabled||t.disabled||t.self.shouldDisabled)&&(n+='\n          <div class="formio-tagpad-all-data">'+(null==(e=t.self.getDataAsString())?"":e)+"</div>\n        "):n+='\n          <p class="formio-tagpad-form-title">No dot selected</p>\n        ',n+"\n      </div>\n  </div>\n</div>\n"}},96486:function(t,e,n){var i;t=n.nmd(t),function(){var r,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,c=128,h=1/0,u=9007199254740991,d=NaN,f=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],g="[object Arguments]",m="[object Array]",v="[object Boolean]",y="[object Date]",_="[object Error]",b="[object Function]",w="[object GeneratorFunction]",x="[object Map]",k="[object Number]",S="[object Object]",R="[object Promise]",C="[object RegExp]",O="[object Set]",E="[object String]",A="[object Symbol]",M="[object WeakMap]",T="[object ArrayBuffer]",P="[object DataView]",F="[object Float32Array]",j="[object Float64Array]",I="[object Int8Array]",z="[object Int16Array]",L="[object Int32Array]",D="[object Uint8Array]",B="[object Uint8ClampedArray]",V="[object Uint16Array]",W="[object Uint32Array]",U=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,Y=RegExp(H.source),X=RegExp(G.source),Z=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),it=/^\s+/,rt=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ct=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,vt=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="a-z\\xdf-\\xf6\\xf8-\\xff",kt="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rt="["+St+"]",Ct="["+wt+"]",Ot="\\d+",Et="["+xt+"]",At="[^\\ud800-\\udfff"+St+Ot+"\\u2700-\\u27bf"+xt+kt+"]",Mt="\\ud83c[\\udffb-\\udfff]",Tt="[^\\ud800-\\udfff]",Pt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",jt="["+kt+"]",It="(?:"+Et+"|"+At+")",zt="(?:"+jt+"|"+At+")",Lt="(?:['’](?:d|ll|m|re|s|t|ve))?",Dt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Bt="(?:"+Ct+"|"+Mt+")?",Vt="[\\ufe0e\\ufe0f]?",Wt=Vt+Bt+"(?:\\u200d(?:"+[Tt,Pt,Ft].join("|")+")"+Vt+Bt+")*",Ut="(?:"+["[\\u2700-\\u27bf]",Pt,Ft].join("|")+")"+Wt,Nt="(?:"+[Tt+Ct+"?",Ct,Pt,Ft,"[\\ud800-\\udfff]"].join("|")+")",qt=RegExp("['’]","g"),Ht=RegExp(Ct,"g"),Gt=RegExp(Mt+"(?="+Mt+")|"+Nt+Wt,"g"),Yt=RegExp([jt+"?"+Et+"+"+Lt+"(?="+[Rt,jt,"$"].join("|")+")",zt+"+"+Dt+"(?="+[Rt,jt+It,"$"].join("|")+")",jt+"?"+It+"+"+Lt,jt+"+"+Dt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ot,Ut].join("|"),"g"),Xt=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),Zt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$t=-1,Jt={};Jt[F]=Jt[j]=Jt[I]=Jt[z]=Jt[L]=Jt[D]=Jt[B]=Jt[V]=Jt[W]=!0,Jt[g]=Jt[m]=Jt[T]=Jt[v]=Jt[P]=Jt[y]=Jt[_]=Jt[b]=Jt[x]=Jt[k]=Jt[S]=Jt[C]=Jt[O]=Jt[E]=Jt[M]=!1;var Qt={};Qt[g]=Qt[m]=Qt[T]=Qt[P]=Qt[v]=Qt[y]=Qt[F]=Qt[j]=Qt[I]=Qt[z]=Qt[L]=Qt[x]=Qt[k]=Qt[S]=Qt[C]=Qt[O]=Qt[E]=Qt[A]=Qt[D]=Qt[B]=Qt[V]=Qt[W]=!0,Qt[_]=Qt[b]=Qt[M]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,ie="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,re="object"==typeof self&&self&&self.Object===Object&&self,oe=ie||re||Function("return this")(),se=e&&!e.nodeType&&e,ae=se&&t&&!t.nodeType&&t,le=ae&&ae.exports===se,ce=le&&ie.process,he=function(){try{return ae&&ae.require&&ae.require("util").types||ce&&ce.binding&&ce.binding("util")}catch(t){}}(),ue=he&&he.isArrayBuffer,de=he&&he.isDate,fe=he&&he.isMap,pe=he&&he.isRegExp,ge=he&&he.isSet,me=he&&he.isTypedArray;function ve(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ye(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function _e(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function be(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function xe(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function ke(t,e){return!(null==t||!t.length)&&Fe(t,e,0)>-1}function Se(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Re(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function Ce(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function Oe(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Ee(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function Ae(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Me=Le("length");function Te(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function Pe(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Fe(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):Pe(t,Ie,n)}function je(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function Ie(t){return t!=t}function ze(t,e){var n=null==t?0:t.length;return n?Ve(t,e)/n:d}function Le(t){return function(e){return null==e?r:e[t]}}function De(t){return function(e){return null==t?r:t[e]}}function Be(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function Ve(t,e){for(var n,i=-1,o=t.length;++i<o;){var s=e(t[i]);s!==r&&(n=n===r?s:n+s)}return n}function We(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Ue(t){return t?t.slice(0,an(t)+1).replace(it,""):t}function Ne(t){return function(e){return t(e)}}function qe(t,e){return Re(e,(function(e){return t[e]}))}function He(t,e){return t.has(e)}function Ge(t,e){for(var n=-1,i=t.length;++n<i&&Fe(e,t[n],0)>-1;);return n}function Ye(t,e){for(var n=t.length;n--&&Fe(e,t[n],0)>-1;);return n}function Xe(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var Ze=De({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ke=De({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function $e(t){return"\\"+te[t]}function Je(t){return Xt.test(t)}function Qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function tn(t,e){return function(n){return t(e(n))}}function en(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[r++]=n)}return o}function nn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function rn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function on(t){return Je(t)?function(t){for(var e=Gt.lastIndex=0;Gt.test(t);)++e;return e}(t):Me(t)}function sn(t){return Je(t)?function(t){return t.match(Gt)||[]}(t):function(t){return t.split("")}(t)}function an(t){for(var e=t.length;e--&&rt.test(t.charAt(e)););return e}var ln=De({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function t(e){var n,i=(e=null==e?oe:cn.defaults(oe.Object(),e,cn.pick(oe,Kt))).Array,rt=e.Date,wt=e.Error,xt=e.Function,kt=e.Math,St=e.Object,Rt=e.RegExp,Ct=e.String,Ot=e.TypeError,Et=i.prototype,At=xt.prototype,Mt=St.prototype,Tt=e["__core-js_shared__"],Pt=At.toString,Ft=Mt.hasOwnProperty,jt=0,It=(n=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",zt=Mt.toString,Lt=Pt.call(St),Dt=oe._,Bt=Rt("^"+Pt.call(Ft).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=le?e.Buffer:r,Wt=e.Symbol,Ut=e.Uint8Array,Nt=Vt?Vt.allocUnsafe:r,Gt=tn(St.getPrototypeOf,St),Xt=St.create,te=Mt.propertyIsEnumerable,ie=Et.splice,re=Wt?Wt.isConcatSpreadable:r,se=Wt?Wt.iterator:r,ae=Wt?Wt.toStringTag:r,ce=function(){try{var t=co(St,"defineProperty");return t({},"",{}),t}catch(t){}}(),he=e.clearTimeout!==oe.clearTimeout&&e.clearTimeout,Me=rt&&rt.now!==oe.Date.now&&rt.now,De=e.setTimeout!==oe.setTimeout&&e.setTimeout,hn=kt.ceil,un=kt.floor,dn=St.getOwnPropertySymbols,fn=Vt?Vt.isBuffer:r,pn=e.isFinite,gn=Et.join,mn=tn(St.keys,St),vn=kt.max,yn=kt.min,_n=rt.now,bn=e.parseInt,wn=kt.random,xn=Et.reverse,kn=co(e,"DataView"),Sn=co(e,"Map"),Rn=co(e,"Promise"),Cn=co(e,"Set"),On=co(e,"WeakMap"),En=co(St,"create"),An=On&&new On,Mn={},Tn=Bo(kn),Pn=Bo(Sn),Fn=Bo(Rn),jn=Bo(Cn),In=Bo(On),zn=Wt?Wt.prototype:r,Ln=zn?zn.valueOf:r,Dn=zn?zn.toString:r;function Bn(t){if(na(t)&&!Hs(t)&&!(t instanceof Nn)){if(t instanceof Un)return t;if(Ft.call(t,"__wrapped__"))return Vo(t)}return new Un(t)}var Vn=function(){function t(){}return function(e){if(!ea(e))return{};if(Xt)return Xt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Wn(){}function Un(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Nn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Gn;++e<n;)this.add(t[e])}function Xn(t){var e=this.__data__=new Hn(t);this.size=e.size}function Zn(t,e){var n=Hs(t),i=!n&&qs(t),r=!n&&!i&&Zs(t),o=!n&&!i&&!r&&ha(t),s=n||i||r||o,a=s?We(t.length,Ct):[],l=a.length;for(var c in t)!e&&!Ft.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||vo(c,l))||a.push(c);return a}function Kn(t){var e=t.length;return e?t[Gi(0,e-1)]:r}function $n(t,e){return jo(Or(t),si(e,0,t.length))}function Jn(t){return jo(Or(t))}function Qn(t,e,n){(n!==r&&!Ws(t[e],n)||n===r&&!(e in t))&&ri(t,e,n)}function ti(t,e,n){var i=t[e];Ft.call(t,e)&&Ws(i,n)&&(n!==r||e in t)||ri(t,e,n)}function ei(t,e){for(var n=t.length;n--;)if(Ws(t[n][0],e))return n;return-1}function ni(t,e,n,i){return ui(t,(function(t,r,o){e(i,t,n(t),o)})),i}function ii(t,e){return t&&Er(e,Pa(e),t)}function ri(t,e,n){"__proto__"==e&&ce?ce(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function oi(t,e){for(var n=-1,o=e.length,s=i(o),a=null==t;++n<o;)s[n]=a?r:Oa(t,e[n]);return s}function si(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function ai(t,e,n,i,o,s){var a,l=1&e,c=2&e,h=4&e;if(n&&(a=o?n(t,i,o,s):n(t)),a!==r)return a;if(!ea(t))return t;var u=Hs(t);if(u){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ft.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return Or(t,a)}else{var d=fo(t),f=d==b||d==w;if(Zs(t))return wr(t,l);if(d==S||d==g||f&&!o){if(a=c||f?{}:go(t),!l)return c?function(t,e){return Er(t,uo(t),e)}(t,function(t,e){return t&&Er(e,Fa(e),t)}(a,t)):function(t,e){return Er(t,ho(t),e)}(t,ii(a,t))}else{if(!Qt[d])return o?t:{};a=function(t,e,n){var i,r=t.constructor;switch(e){case T:return xr(t);case v:case y:return new r(+t);case P:return function(t,e){var n=e?xr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case F:case j:case I:case z:case L:case D:case B:case V:case W:return kr(t,n);case x:return new r;case k:case E:return new r(t);case C:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new r;case A:return i=t,Ln?St(Ln.call(i)):{}}}(t,d,l)}}s||(s=new Xn);var p=s.get(t);if(p)return p;s.set(t,a),aa(t)?t.forEach((function(i){a.add(ai(i,e,n,i,t,s))})):ia(t)&&t.forEach((function(i,r){a.set(r,ai(i,e,n,r,t,s))}));var m=u?r:(h?c?no:eo:c?Fa:Pa)(t);return _e(m||t,(function(i,r){m&&(i=t[r=i]),ti(a,r,ai(i,e,n,r,t,s))})),a}function li(t,e,n){var i=n.length;if(null==t)return!i;for(t=St(t);i--;){var o=n[i],s=e[o],a=t[o];if(a===r&&!(o in t)||!s(a))return!1}return!0}function ci(t,e,n){if("function"!=typeof t)throw new Ot(o);return Mo((function(){t.apply(r,n)}),e)}function hi(t,e,n,i){var r=-1,o=ke,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Re(e,Ne(n))),i?(o=Se,s=!1):e.length>=200&&(o=He,s=!1,e=new Yn(e));t:for(;++r<a;){var h=t[r],u=null==n?h:n(h);if(h=i||0!==h?h:0,s&&u==u){for(var d=c;d--;)if(e[d]===u)continue t;l.push(h)}else o(e,u,i)||l.push(h)}return l}Bn.templateSettings={escape:Z,evaluate:K,interpolate:$,variable:"",imports:{_:Bn}},Bn.prototype=Wn.prototype,Bn.prototype.constructor=Bn,Un.prototype=Vn(Wn.prototype),Un.prototype.constructor=Un,Nn.prototype=Vn(Wn.prototype),Nn.prototype.constructor=Nn,qn.prototype.clear=function(){this.__data__=En?En(null):{},this.size=0},qn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qn.prototype.get=function(t){var e=this.__data__;if(En){var n=e[t];return n===s?r:n}return Ft.call(e,t)?e[t]:r},qn.prototype.has=function(t){var e=this.__data__;return En?e[t]!==r:Ft.call(e,t)},qn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=En&&e===r?s:e,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=ei(e,t);return!(n<0||(n==e.length-1?e.pop():ie.call(e,n,1),--this.size,0))},Hn.prototype.get=function(t){var e=this.__data__,n=ei(e,t);return n<0?r:e[n][1]},Hn.prototype.has=function(t){return ei(this.__data__,t)>-1},Hn.prototype.set=function(t,e){var n=this.__data__,i=ei(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(Sn||Hn),string:new qn}},Gn.prototype.delete=function(t){var e=ao(this,t).delete(t);return this.size-=e?1:0,e},Gn.prototype.get=function(t){return ao(this,t).get(t)},Gn.prototype.has=function(t){return ao(this,t).has(t)},Gn.prototype.set=function(t,e){var n=ao(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Yn.prototype.add=Yn.prototype.push=function(t){return this.__data__.set(t,s),this},Yn.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Xn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Xn.prototype.get=function(t){return this.__data__.get(t)},Xn.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hn){var i=n.__data__;if(!Sn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gn(i)}return n.set(t,e),this.size=n.size,this};var ui=Tr(_i),di=Tr(bi,!0);function fi(t,e){var n=!0;return ui(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function pi(t,e,n){for(var i=-1,o=t.length;++i<o;){var s=t[i],a=e(s);if(null!=a&&(l===r?a==a&&!ca(a):n(a,l)))var l=a,c=s}return c}function gi(t,e){var n=[];return ui(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function mi(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=mo),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?mi(a,e-1,n,i,r):Ce(r,a):i||(r[r.length]=a)}return r}var vi=Pr(),yi=Pr(!0);function _i(t,e){return t&&vi(t,e,Pa)}function bi(t,e){return t&&yi(t,e,Pa)}function wi(t,e){return xe(e,(function(e){return Js(t[e])}))}function xi(t,e){for(var n=0,i=(e=vr(e,t)).length;null!=t&&n<i;)t=t[Do(e[n++])];return n&&n==i?t:r}function ki(t,e,n){var i=e(t);return Hs(t)?i:Ce(i,n(t))}function Si(t){return null==t?t===r?"[object Undefined]":"[object Null]":ae&&ae in St(t)?function(t){var e=Ft.call(t,ae),n=t[ae];try{t[ae]=r;var i=!0}catch(t){}var o=zt.call(t);return i&&(e?t[ae]=n:delete t[ae]),o}(t):function(t){return zt.call(t)}(t)}function Ri(t,e){return t>e}function Ci(t,e){return null!=t&&Ft.call(t,e)}function Oi(t,e){return null!=t&&e in St(t)}function Ei(t,e,n){for(var o=n?Se:ke,s=t[0].length,a=t.length,l=a,c=i(a),h=1/0,u=[];l--;){var d=t[l];l&&e&&(d=Re(d,Ne(e))),h=yn(d.length,h),c[l]=!n&&(e||s>=120&&d.length>=120)?new Yn(l&&d):r}d=t[0];var f=-1,p=c[0];t:for(;++f<s&&u.length<h;){var g=d[f],m=e?e(g):g;if(g=n||0!==g?g:0,!(p?He(p,m):o(u,m,n))){for(l=a;--l;){var v=c[l];if(!(v?He(v,m):o(t[l],m,n)))continue t}p&&p.push(m),u.push(g)}}return u}function Ai(t,e,n){var i=null==(t=Co(t,e=vr(e,t)))?t:t[Do($o(e))];return null==i?r:ve(i,t,n)}function Mi(t){return na(t)&&Si(t)==g}function Ti(t,e,n,i,o){return t===e||(null==t||null==e||!na(t)&&!na(e)?t!=t&&e!=e:function(t,e,n,i,o,s){var a=Hs(t),l=Hs(e),c=a?m:fo(t),h=l?m:fo(e),u=(c=c==g?S:c)==S,d=(h=h==g?S:h)==S,f=c==h;if(f&&Zs(t)){if(!Zs(e))return!1;a=!0,u=!1}if(f&&!u)return s||(s=new Xn),a||ha(t)?Qr(t,e,n,i,o,s):function(t,e,n,i,r,o,s){switch(n){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!o(new Ut(t),new Ut(e)));case v:case y:case k:return Ws(+t,+e);case _:return t.name==e.name&&t.message==e.message;case C:case E:return t==e+"";case x:var a=Qe;case O:var l=1&i;if(a||(a=nn),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;i|=2,s.set(t,e);var h=Qr(a(t),a(e),i,r,o,s);return s.delete(t),h;case A:if(Ln)return Ln.call(t)==Ln.call(e)}return!1}(t,e,c,n,i,o,s);if(!(1&n)){var p=u&&Ft.call(t,"__wrapped__"),b=d&&Ft.call(e,"__wrapped__");if(p||b){var w=p?t.value():t,R=b?e.value():e;return s||(s=new Xn),o(w,R,n,i,s)}}return!!f&&(s||(s=new Xn),function(t,e,n,i,o,s){var a=1&n,l=eo(t),c=l.length;if(c!=eo(e).length&&!a)return!1;for(var h=c;h--;){var u=l[h];if(!(a?u in e:Ft.call(e,u)))return!1}var d=s.get(t),f=s.get(e);if(d&&f)return d==e&&f==t;var p=!0;s.set(t,e),s.set(e,t);for(var g=a;++h<c;){var m=t[u=l[h]],v=e[u];if(i)var y=a?i(v,m,u,e,t,s):i(m,v,u,t,e,s);if(!(y===r?m===v||o(m,v,n,i,s):y)){p=!1;break}g||(g="constructor"==u)}if(p&&!g){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,n,i,o,s))}(t,e,n,i,Ti,o))}function Pi(t,e,n,i){var o=n.length,s=o,a=!i;if(null==t)return!s;for(t=St(t);o--;){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){var c=(l=n[o])[0],h=t[c],u=l[1];if(a&&l[2]){if(h===r&&!(c in t))return!1}else{var d=new Xn;if(i)var f=i(h,u,c,t,e,d);if(!(f===r?Ti(u,h,3,i,d):f))return!1}}return!0}function Fi(t){return!(!ea(t)||(e=t,It&&It in e))&&(Js(t)?Bt:gt).test(Bo(t));var e}function ji(t){return"function"==typeof t?t:null==t?rl:"object"==typeof t?Hs(t)?Bi(t[0],t[1]):Di(t):fl(t)}function Ii(t){if(!xo(t))return mn(t);var e=[];for(var n in St(t))Ft.call(t,n)&&"constructor"!=n&&e.push(n);return e}function zi(t,e){return t<e}function Li(t,e){var n=-1,r=Ys(t)?i(t.length):[];return ui(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function Di(t){var e=lo(t);return 1==e.length&&e[0][2]?So(e[0][0],e[0][1]):function(n){return n===t||Pi(n,t,e)}}function Bi(t,e){return _o(t)&&ko(e)?So(Do(t),e):function(n){var i=Oa(n,t);return i===r&&i===e?Ea(n,t):Ti(e,i,3)}}function Vi(t,e,n,i,o){t!==e&&vi(e,(function(s,a){if(o||(o=new Xn),ea(s))!function(t,e,n,i,o,s,a){var l=Eo(t,n),c=Eo(e,n),h=a.get(c);if(h)Qn(t,n,h);else{var u=s?s(l,c,n+"",t,e,a):r,d=u===r;if(d){var f=Hs(c),p=!f&&Zs(c),g=!f&&!p&&ha(c);u=c,f||p||g?Hs(l)?u=l:Xs(l)?u=Or(l):p?(d=!1,u=wr(c,!0)):g?(d=!1,u=kr(c,!0)):u=[]:oa(c)||qs(c)?(u=l,qs(l)?u=ya(l):ea(l)&&!Js(l)||(u=go(c))):d=!1}d&&(a.set(c,u),o(u,c,i,s,a),a.delete(c)),Qn(t,n,u)}}(t,e,a,n,Vi,i,o);else{var l=i?i(Eo(t,a),s,a+"",t,e,o):r;l===r&&(l=s),Qn(t,a,l)}}),Fa)}function Wi(t,e){var n=t.length;if(n)return vo(e+=e<0?n:0,n)?t[e]:r}function Ui(t,e,n){e=e.length?Re(e,(function(t){return Hs(t)?function(e){return xi(e,1===t.length?t[0]:t)}:t})):[rl];var i=-1;return e=Re(e,Ne(so())),function(t,e){var i=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var l=Sr(r[i],o[i]);if(l)return i>=a?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}));i--;)t[i]=t[i].value;return t}(Li(t,(function(t,n,r){return{criteria:Re(e,(function(e){return e(t)})),index:++i,value:t}})))}function Ni(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=xi(t,s);n(a,s)&&$i(o,vr(s,t),a)}return o}function qi(t,e,n,i){var r=i?je:Fe,o=-1,s=e.length,a=t;for(t===e&&(e=Or(e)),n&&(a=Re(t,Ne(n)));++o<s;)for(var l=0,c=e[o],h=n?n(c):c;(l=r(a,h,l,i))>-1;)a!==t&&ie.call(a,l,1),ie.call(t,l,1);return t}function Hi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;vo(r)?ie.call(t,r,1):cr(t,r)}}return t}function Gi(t,e){return t+un(wn()*(e-t+1))}function Yi(t,e){var n="";if(!t||e<1||e>u)return n;do{e%2&&(n+=t),(e=un(e/2))&&(t+=t)}while(e);return n}function Xi(t,e){return To(Ro(t,e,rl),t+"")}function Zi(t){return Kn(Wa(t))}function Ki(t,e){var n=Wa(t);return jo(n,si(e,0,n.length))}function $i(t,e,n,i){if(!ea(t))return t;for(var o=-1,s=(e=vr(e,t)).length,a=s-1,l=t;null!=l&&++o<s;){var c=Do(e[o]),h=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var u=l[c];(h=i?i(u,c,l):r)===r&&(h=ea(u)?u:vo(e[o+1])?[]:{})}ti(l,c,h),l=l[c]}return t}var Ji=An?function(t,e){return An.set(t,e),t}:rl,Qi=ce?function(t,e){return ce(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:rl;function tr(t){return jo(Wa(t))}function er(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=i(o);++r<o;)s[r]=t[r+e];return s}function nr(t,e){var n;return ui(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function ir(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!ca(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return rr(t,e,rl,n)}function rr(t,e,n,i){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,l=null===e,c=ca(e),h=e===r;o<s;){var u=un((o+s)/2),d=n(t[u]),f=d!==r,p=null===d,g=d==d,m=ca(d);if(a)var v=i||g;else v=h?g&&(i||f):l?g&&f&&(i||!p):c?g&&f&&!p&&(i||!m):!p&&!m&&(i?d<=e:d<e);v?o=u+1:s=u}return yn(s,4294967294)}function or(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!Ws(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function sr(t){return"number"==typeof t?t:ca(t)?d:+t}function ar(t){if("string"==typeof t)return t;if(Hs(t))return Re(t,ar)+"";if(ca(t))return Dn?Dn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function lr(t,e,n){var i=-1,r=ke,o=t.length,s=!0,a=[],l=a;if(n)s=!1,r=Se;else if(o>=200){var c=e?null:Yr(t);if(c)return nn(c);s=!1,r=He,l=new Yn}else l=e?[]:a;t:for(;++i<o;){var h=t[i],u=e?e(h):h;if(h=n||0!==h?h:0,s&&u==u){for(var d=l.length;d--;)if(l[d]===u)continue t;e&&l.push(u),a.push(h)}else r(l,u,n)||(l!==a&&l.push(u),a.push(h))}return a}function cr(t,e){return null==(t=Co(t,e=vr(e,t)))||delete t[Do($o(e))]}function hr(t,e,n,i){return $i(t,e,n(xi(t,e)),i)}function ur(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?er(t,i?0:o,i?o+1:r):er(t,i?o+1:0,i?r:o)}function dr(t,e){var n=t;return n instanceof Nn&&(n=n.value()),Oe(e,(function(t,e){return e.func.apply(e.thisArg,Ce([t],e.args))}),n)}function fr(t,e,n){var r=t.length;if(r<2)return r?lr(t[0]):[];for(var o=-1,s=i(r);++o<r;)for(var a=t[o],l=-1;++l<r;)l!=o&&(s[o]=hi(s[o]||a,t[l],e,n));return lr(mi(s,1),e,n)}function pr(t,e,n){for(var i=-1,o=t.length,s=e.length,a={};++i<o;){var l=i<s?e[i]:r;n(a,t[i],l)}return a}function gr(t){return Xs(t)?t:[]}function mr(t){return"function"==typeof t?t:rl}function vr(t,e){return Hs(t)?t:_o(t,e)?[t]:Lo(_a(t))}var yr=Xi;function _r(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:er(t,e,n)}var br=he||function(t){return oe.clearTimeout(t)};function wr(t,e){if(e)return t.slice();var n=t.length,i=Nt?Nt(n):new t.constructor(n);return t.copy(i),i}function xr(t){var e=new t.constructor(t.byteLength);return new Ut(e).set(new Ut(t)),e}function kr(t,e){var n=e?xr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Sr(t,e){if(t!==e){var n=t!==r,i=null===t,o=t==t,s=ca(t),a=e!==r,l=null===e,c=e==e,h=ca(e);if(!l&&!h&&!s&&t>e||s&&a&&c&&!l&&!h||i&&a&&c||!n&&c||!o)return 1;if(!i&&!s&&!h&&t<e||h&&n&&o&&!i&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}function Rr(t,e,n,r){for(var o=-1,s=t.length,a=n.length,l=-1,c=e.length,h=vn(s-a,0),u=i(c+h),d=!r;++l<c;)u[l]=e[l];for(;++o<a;)(d||o<s)&&(u[n[o]]=t[o]);for(;h--;)u[l++]=t[o++];return u}function Cr(t,e,n,r){for(var o=-1,s=t.length,a=-1,l=n.length,c=-1,h=e.length,u=vn(s-l,0),d=i(u+h),f=!r;++o<u;)d[o]=t[o];for(var p=o;++c<h;)d[p+c]=e[c];for(;++a<l;)(f||o<s)&&(d[p+n[a]]=t[o++]);return d}function Or(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function Er(t,e,n,i){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var l=e[s],c=i?i(n[l],t[l],l,n,t):r;c===r&&(c=t[l]),o?ri(n,l,c):ti(n,l,c)}return n}function Ar(t,e){return function(n,i){var r=Hs(n)?ye:ni,o=e?e():{};return r(n,t,so(i,2),o)}}function Mr(t){return Xi((function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:r,a=o>2?n[2]:r;for(s=t.length>3&&"function"==typeof s?(o--,s):r,a&&yo(n[0],n[1],a)&&(s=o<3?r:s,o=1),e=St(e);++i<o;){var l=n[i];l&&t(e,l,i,s)}return e}))}function Tr(t,e){return function(n,i){if(null==n)return n;if(!Ys(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=St(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function Pr(t){return function(e,n,i){for(var r=-1,o=St(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function Fr(t){return function(e){var n=Je(e=_a(e))?sn(e):r,i=n?n[0]:e.charAt(0),o=n?_r(n,1).join(""):e.slice(1);return i[t]()+o}}function jr(t){return function(e){return Oe(Ja(qa(e).replace(qt,"")),t,"")}}function Ir(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Vn(t.prototype),i=t.apply(n,e);return ea(i)?i:n}}function zr(t){return function(e,n,i){var o=St(e);if(!Ys(e)){var s=so(n,3);e=Pa(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,i);return a>-1?o[s?e[a]:a]:r}}function Lr(t){return to((function(e){var n=e.length,i=n,s=Un.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new Ot(o);if(s&&!l&&"wrapper"==ro(a))var l=new Un([],!0)}for(i=l?i:n;++i<n;){var c=ro(a=e[i]),h="wrapper"==c?io(a):r;l=h&&bo(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?l[ro(h[0])].apply(l,h[3]):1==a.length&&bo(a)?l[c]():l.thru(a)}return function(){var t=arguments,i=t[0];if(l&&1==t.length&&Hs(i))return l.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function Dr(t,e,n,o,s,a,l,h,u,d){var f=e&c,p=1&e,g=2&e,m=24&e,v=512&e,y=g?r:Ir(t);return function r(){for(var c=arguments.length,_=i(c),b=c;b--;)_[b]=arguments[b];if(m)var w=oo(r),x=Xe(_,w);if(o&&(_=Rr(_,o,s,m)),a&&(_=Cr(_,a,l,m)),c-=x,m&&c<d){var k=en(_,w);return Hr(t,e,Dr,r.placeholder,n,_,k,h,u,d-c)}var S=p?n:this,R=g?S[t]:t;return c=_.length,h?_=Oo(_,h):v&&c>1&&_.reverse(),f&&u<c&&(_.length=u),this&&this!==oe&&this instanceof r&&(R=y||Ir(R)),R.apply(S,_)}}function Br(t,e){return function(n,i){return function(t,e,n,i){return _i(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function Vr(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=ar(n),i=ar(i)):(n=sr(n),i=sr(i)),o=t(n,i)}return o}}function Wr(t){return to((function(e){return e=Re(e,Ne(so())),Xi((function(n){var i=this;return t(e,(function(t){return ve(t,i,n)}))}))}))}function Ur(t,e){var n=(e=e===r?" ":ar(e)).length;if(n<2)return n?Yi(e,t):e;var i=Yi(e,hn(t/on(e)));return Je(e)?_r(sn(i),0,t).join(""):i.slice(0,t)}function Nr(t){return function(e,n,o){return o&&"number"!=typeof o&&yo(e,n,o)&&(n=o=r),e=pa(e),n===r?(n=e,e=0):n=pa(n),function(t,e,n,r){for(var o=-1,s=vn(hn((e-t)/(n||1)),0),a=i(s);s--;)a[r?s:++o]=t,t+=n;return a}(e,n,o=o===r?e<n?1:-1:pa(o),t)}}function qr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=va(e),n=va(n)),t(e,n)}}function Hr(t,e,n,i,o,s,a,c,h,u){var d=8&e;e|=d?l:64,4&(e&=~(d?64:l))||(e&=-4);var f=[t,e,o,d?s:r,d?a:r,d?r:s,d?r:a,c,h,u],p=n.apply(r,f);return bo(t)&&Ao(p,f),p.placeholder=i,Po(p,t,e)}function Gr(t){var e=kt[t];return function(t,n){if(t=va(t),(n=null==n?0:yn(ga(n),292))&&pn(t)){var i=(_a(t)+"e").split("e");return+((i=(_a(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Yr=Cn&&1/nn(new Cn([,-0]))[1]==h?function(t){return new Cn(t)}:cl;function Xr(t){return function(e){var n=fo(e);return n==x?Qe(e):n==O?rn(e):function(t,e){return Re(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Zr(t,e,n,s,h,u,d,f){var p=2&e;if(!p&&"function"!=typeof t)throw new Ot(o);var g=s?s.length:0;if(g||(e&=-97,s=h=r),d=d===r?d:vn(ga(d),0),f=f===r?f:ga(f),g-=h?h.length:0,64&e){var m=s,v=h;s=h=r}var y=p?r:io(t),_=[t,e,n,s,h,m,v,u,d,f];if(y&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,s=i==c&&8==n||i==c&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var l=e[3];if(l){var h=t[3];t[3]=h?Rr(h,l,e[4]):l,t[4]=h?en(t[3],a):e[4]}(l=e[5])&&(h=t[5],t[5]=h?Cr(h,l,e[6]):l,t[6]=h?en(t[5],a):e[6]),(l=e[7])&&(t[7]=l),i&c&&(t[8]=null==t[8]?e[8]:yn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(_,y),t=_[0],e=_[1],n=_[2],s=_[3],h=_[4],!(f=_[9]=_[9]===r?p?0:t.length:vn(_[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var o=Ir(t);return function s(){for(var a=arguments.length,l=i(a),c=a,h=oo(s);c--;)l[c]=arguments[c];var u=a<3&&l[0]!==h&&l[a-1]!==h?[]:en(l,h);return(a-=u.length)<n?Hr(t,e,Dr,s.placeholder,r,l,u,r,r,n-a):ve(this&&this!==oe&&this instanceof s?o:t,this,l)}}(t,e,f):e!=l&&33!=e||h.length?Dr.apply(r,_):function(t,e,n,r){var o=1&e,s=Ir(t);return function e(){for(var a=-1,l=arguments.length,c=-1,h=r.length,u=i(h+l),d=this&&this!==oe&&this instanceof e?s:t;++c<h;)u[c]=r[c];for(;l--;)u[c++]=arguments[++a];return ve(d,o?n:this,u)}}(t,e,n,s);else var b=function(t,e,n){var i=1&e,r=Ir(t);return function e(){return(this&&this!==oe&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return Po((y?Ji:Ao)(b,_),t,e)}function Kr(t,e,n,i){return t===r||Ws(t,Mt[n])&&!Ft.call(i,n)?e:t}function $r(t,e,n,i,o,s){return ea(t)&&ea(e)&&(s.set(e,t),Vi(t,e,r,$r,s),s.delete(e)),t}function Jr(t){return oa(t)?r:t}function Qr(t,e,n,i,o,s){var a=1&n,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var h=s.get(t),u=s.get(e);if(h&&u)return h==e&&u==t;var d=-1,f=!0,p=2&n?new Yn:r;for(s.set(t,e),s.set(e,t);++d<l;){var g=t[d],m=e[d];if(i)var v=a?i(m,g,d,e,t,s):i(g,m,d,t,e,s);if(v!==r){if(v)continue;f=!1;break}if(p){if(!Ae(e,(function(t,e){if(!He(p,e)&&(g===t||o(g,t,n,i,s)))return p.push(e)}))){f=!1;break}}else if(g!==m&&!o(g,m,n,i,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function to(t){return To(Ro(t,r,Go),t+"")}function eo(t){return ki(t,Pa,ho)}function no(t){return ki(t,Fa,uo)}var io=An?function(t){return An.get(t)}:cl;function ro(t){for(var e=t.name+"",n=Mn[e],i=Ft.call(Mn,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function oo(t){return(Ft.call(Bn,"placeholder")?Bn:t).placeholder}function so(){var t=Bn.iteratee||ol;return t=t===ol?ji:t,arguments.length?t(arguments[0],arguments[1]):t}function ao(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function lo(t){for(var e=Pa(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,ko(r)]}return e}function co(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Fi(n)?n:r}var ho=dn?function(t){return null==t?[]:(t=St(t),xe(dn(t),(function(e){return te.call(t,e)})))}:ml,uo=dn?function(t){for(var e=[];t;)Ce(e,ho(t)),t=Gt(t);return e}:ml,fo=Si;function po(t,e,n){for(var i=-1,r=(e=vr(e,t)).length,o=!1;++i<r;){var s=Do(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&ta(r)&&vo(s,r)&&(Hs(t)||qs(t))}function go(t){return"function"!=typeof t.constructor||xo(t)?{}:Vn(Gt(t))}function mo(t){return Hs(t)||qs(t)||!!(re&&t&&t[re])}function vo(t,e){var n=typeof t;return!!(e=null==e?u:e)&&("number"==n||"symbol"!=n&&vt.test(t))&&t>-1&&t%1==0&&t<e}function yo(t,e,n){if(!ea(n))return!1;var i=typeof e;return!!("number"==i?Ys(n)&&vo(e,n.length):"string"==i&&e in n)&&Ws(n[e],t)}function _o(t,e){if(Hs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ca(t))||Q.test(t)||!J.test(t)||null!=e&&t in St(e)}function bo(t){var e=ro(t),n=Bn[e];if("function"!=typeof n||!(e in Nn.prototype))return!1;if(t===n)return!0;var i=io(n);return!!i&&t===i[0]}(kn&&fo(new kn(new ArrayBuffer(1)))!=P||Sn&&fo(new Sn)!=x||Rn&&fo(Rn.resolve())!=R||Cn&&fo(new Cn)!=O||On&&fo(new On)!=M)&&(fo=function(t){var e=Si(t),n=e==S?t.constructor:r,i=n?Bo(n):"";if(i)switch(i){case Tn:return P;case Pn:return x;case Fn:return R;case jn:return O;case In:return M}return e});var wo=Tt?Js:vl;function xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Mt)}function ko(t){return t==t&&!ea(t)}function So(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in St(n))}}function Ro(t,e,n){return e=vn(e===r?t.length-1:e,0),function(){for(var r=arguments,o=-1,s=vn(r.length-e,0),a=i(s);++o<s;)a[o]=r[e+o];o=-1;for(var l=i(e+1);++o<e;)l[o]=r[o];return l[e]=n(a),ve(t,this,l)}}function Co(t,e){return e.length<2?t:xi(t,er(e,0,-1))}function Oo(t,e){for(var n=t.length,i=yn(e.length,n),o=Or(t);i--;){var s=e[i];t[i]=vo(s,n)?o[s]:r}return t}function Eo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ao=Fo(Ji),Mo=De||function(t,e){return oe.setTimeout(t,e)},To=Fo(Qi);function Po(t,e,n){var i=e+"";return To(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return _e(p,(function(n){var i="_."+n[0];e&n[1]&&!ke(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(at):[]}(i),n)))}function Fo(t){var e=0,n=0;return function(){var i=_n(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function jo(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var s=Gi(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Io,zo,Lo=(Io=Is((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,i,r){e.push(i?r.replace(ht,"$1"):n||t)})),e}),(function(t){return 500===zo.size&&zo.clear(),t})),zo=Io.cache,Io);function Do(t){if("string"==typeof t||ca(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bo(t){if(null!=t){try{return Pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Vo(t){if(t instanceof Nn)return t.clone();var e=new Un(t.__wrapped__,t.__chain__);return e.__actions__=Or(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Wo=Xi((function(t,e){return Xs(t)?hi(t,mi(e,1,Xs,!0)):[]})),Uo=Xi((function(t,e){var n=$o(e);return Xs(n)&&(n=r),Xs(t)?hi(t,mi(e,1,Xs,!0),so(n,2)):[]})),No=Xi((function(t,e){var n=$o(e);return Xs(n)&&(n=r),Xs(t)?hi(t,mi(e,1,Xs,!0),r,n):[]}));function qo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:ga(n);return r<0&&(r=vn(i+r,0)),Pe(t,so(e,3),r)}function Ho(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=ga(n),o=n<0?vn(i+o,0):yn(o,i-1)),Pe(t,so(e,3),o,!0)}function Go(t){return null!=t&&t.length?mi(t,1):[]}function Yo(t){return t&&t.length?t[0]:r}var Xo=Xi((function(t){var e=Re(t,gr);return e.length&&e[0]===t[0]?Ei(e):[]})),Zo=Xi((function(t){var e=$o(t),n=Re(t,gr);return e===$o(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Ei(n,so(e,2)):[]})),Ko=Xi((function(t){var e=$o(t),n=Re(t,gr);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Ei(n,r,e):[]}));function $o(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Jo=Xi(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?qi(t,e):t}var ts=to((function(t,e){var n=null==t?0:t.length,i=oi(t,e);return Hi(t,Re(e,(function(t){return vo(t,n)?+t:t})).sort(Sr)),i}));function es(t){return null==t?t:xn.call(t)}var ns=Xi((function(t){return lr(mi(t,1,Xs,!0))})),is=Xi((function(t){var e=$o(t);return Xs(e)&&(e=r),lr(mi(t,1,Xs,!0),so(e,2))})),rs=Xi((function(t){var e=$o(t);return e="function"==typeof e?e:r,lr(mi(t,1,Xs,!0),r,e)}));function os(t){if(!t||!t.length)return[];var e=0;return t=xe(t,(function(t){if(Xs(t))return e=vn(t.length,e),!0})),We(e,(function(e){return Re(t,Le(e))}))}function ss(t,e){if(!t||!t.length)return[];var n=os(t);return null==e?n:Re(n,(function(t){return ve(e,r,t)}))}var as=Xi((function(t,e){return Xs(t)?hi(t,e):[]})),ls=Xi((function(t){return fr(xe(t,Xs))})),cs=Xi((function(t){var e=$o(t);return Xs(e)&&(e=r),fr(xe(t,Xs),so(e,2))})),hs=Xi((function(t){var e=$o(t);return e="function"==typeof e?e:r,fr(xe(t,Xs),r,e)})),us=Xi(os),ds=Xi((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,ss(t,n)}));function fs(t){var e=Bn(t);return e.__chain__=!0,e}function ps(t,e){return e(t)}var gs=to((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return oi(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Nn&&vo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:ps,args:[o],thisArg:r}),new Un(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(o)})),ms=Ar((function(t,e,n){Ft.call(t,n)?++t[n]:ri(t,n,1)})),vs=zr(qo),ys=zr(Ho);function _s(t,e){return(Hs(t)?_e:ui)(t,so(e,3))}function bs(t,e){return(Hs(t)?be:di)(t,so(e,3))}var ws=Ar((function(t,e,n){Ft.call(t,n)?t[n].push(e):ri(t,n,[e])})),xs=Xi((function(t,e,n){var r=-1,o="function"==typeof e,s=Ys(t)?i(t.length):[];return ui(t,(function(t){s[++r]=o?ve(e,t,n):Ai(t,e,n)})),s})),ks=Ar((function(t,e,n){ri(t,n,e)}));function Ss(t,e){return(Hs(t)?Re:Li)(t,so(e,3))}var Rs=Ar((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Cs=Xi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&yo(t,e[0],e[1])?e=[]:n>2&&yo(e[0],e[1],e[2])&&(e=[e[0]]),Ui(t,mi(e,1),[])})),Os=Me||function(){return oe.Date.now()};function Es(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Zr(t,c,r,r,r,r,e)}function As(t,e){var n;if("function"!=typeof e)throw new Ot(o);return t=ga(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Ms=Xi((function(t,e,n){var i=1;if(n.length){var r=en(n,oo(Ms));i|=l}return Zr(t,i,e,n,r)})),Ts=Xi((function(t,e,n){var i=3;if(n.length){var r=en(n,oo(Ts));i|=l}return Zr(e,i,t,n,r)}));function Ps(t,e,n){var i,s,a,l,c,h,u=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new Ot(o);function g(e){var n=i,o=s;return i=s=r,u=e,l=t.apply(o,n)}function m(t){return u=t,c=Mo(y,e),d?g(t):l}function v(t){var n=t-h;return h===r||n>=e||n<0||f&&t-u>=a}function y(){var t=Os();if(v(t))return _(t);c=Mo(y,function(t){var n=e-(t-h);return f?yn(n,a-(t-u)):n}(t))}function _(t){return c=r,p&&i?g(t):(i=s=r,l)}function b(){var t=Os(),n=v(t);if(i=arguments,s=this,h=t,n){if(c===r)return m(h);if(f)return br(c),c=Mo(y,e),g(h)}return c===r&&(c=Mo(y,e)),l}return e=va(e)||0,ea(n)&&(d=!!n.leading,a=(f="maxWait"in n)?vn(va(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==r&&br(c),u=0,i=h=s=c=r},b.flush=function(){return c===r?l:_(Os())},b}var Fs=Xi((function(t,e){return ci(t,1,e)})),js=Xi((function(t,e,n){return ci(t,va(e)||0,n)}));function Is(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(Is.Cache||Gn),n}function zs(t){if("function"!=typeof t)throw new Ot(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Is.Cache=Gn;var Ls=yr((function(t,e){var n=(e=1==e.length&&Hs(e[0])?Re(e[0],Ne(so())):Re(mi(e,1),Ne(so()))).length;return Xi((function(i){for(var r=-1,o=yn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return ve(t,this,i)}))})),Ds=Xi((function(t,e){var n=en(e,oo(Ds));return Zr(t,l,r,e,n)})),Bs=Xi((function(t,e){var n=en(e,oo(Bs));return Zr(t,64,r,e,n)})),Vs=to((function(t,e){return Zr(t,256,r,r,r,e)}));function Ws(t,e){return t===e||t!=t&&e!=e}var Us=qr(Ri),Ns=qr((function(t,e){return t>=e})),qs=Mi(function(){return arguments}())?Mi:function(t){return na(t)&&Ft.call(t,"callee")&&!te.call(t,"callee")},Hs=i.isArray,Gs=ue?Ne(ue):function(t){return na(t)&&Si(t)==T};function Ys(t){return null!=t&&ta(t.length)&&!Js(t)}function Xs(t){return na(t)&&Ys(t)}var Zs=fn||vl,Ks=de?Ne(de):function(t){return na(t)&&Si(t)==y};function $s(t){if(!na(t))return!1;var e=Si(t);return e==_||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function Js(t){if(!ea(t))return!1;var e=Si(t);return e==b||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qs(t){return"number"==typeof t&&t==ga(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function na(t){return null!=t&&"object"==typeof t}var ia=fe?Ne(fe):function(t){return na(t)&&fo(t)==x};function ra(t){return"number"==typeof t||na(t)&&Si(t)==k}function oa(t){if(!na(t)||Si(t)!=S)return!1;var e=Gt(t);if(null===e)return!0;var n=Ft.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pt.call(n)==Lt}var sa=pe?Ne(pe):function(t){return na(t)&&Si(t)==C},aa=ge?Ne(ge):function(t){return na(t)&&fo(t)==O};function la(t){return"string"==typeof t||!Hs(t)&&na(t)&&Si(t)==E}function ca(t){return"symbol"==typeof t||na(t)&&Si(t)==A}var ha=me?Ne(me):function(t){return na(t)&&ta(t.length)&&!!Jt[Si(t)]},ua=qr(zi),da=qr((function(t,e){return t<=e}));function fa(t){if(!t)return[];if(Ys(t))return la(t)?sn(t):Or(t);if(se&&t[se])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[se]());var e=fo(t);return(e==x?Qe:e==O?nn:Wa)(t)}function pa(t){return t?(t=va(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=pa(t),n=e%1;return e==e?n?e-n:e:0}function ma(t){return t?si(ga(t),0,f):0}function va(t){if("number"==typeof t)return t;if(ca(t))return d;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ue(t);var n=pt.test(t);return n||mt.test(t)?ne(t.slice(2),n?2:8):ft.test(t)?d:+t}function ya(t){return Er(t,Fa(t))}function _a(t){return null==t?"":ar(t)}var ba=Mr((function(t,e){if(xo(e)||Ys(e))Er(e,Pa(e),t);else for(var n in e)Ft.call(e,n)&&ti(t,n,e[n])})),wa=Mr((function(t,e){Er(e,Fa(e),t)})),xa=Mr((function(t,e,n,i){Er(e,Fa(e),t,i)})),ka=Mr((function(t,e,n,i){Er(e,Pa(e),t,i)})),Sa=to(oi),Ra=Xi((function(t,e){t=St(t);var n=-1,i=e.length,o=i>2?e[2]:r;for(o&&yo(e[0],e[1],o)&&(i=1);++n<i;)for(var s=e[n],a=Fa(s),l=-1,c=a.length;++l<c;){var h=a[l],u=t[h];(u===r||Ws(u,Mt[h])&&!Ft.call(t,h))&&(t[h]=s[h])}return t})),Ca=Xi((function(t){return t.push(r,$r),ve(Ia,r,t)}));function Oa(t,e,n){var i=null==t?r:xi(t,e);return i===r?n:i}function Ea(t,e){return null!=t&&po(t,e,Oi)}var Aa=Br((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=zt.call(e)),t[e]=n}),el(rl)),Ma=Br((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=zt.call(e)),Ft.call(t,e)?t[e].push(n):t[e]=[n]}),so),Ta=Xi(Ai);function Pa(t){return Ys(t)?Zn(t):Ii(t)}function Fa(t){return Ys(t)?Zn(t,!0):function(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var n in St(t))e.push(n);return e}(t);var e=xo(t),n=[];for(var i in t)("constructor"!=i||!e&&Ft.call(t,i))&&n.push(i);return n}(t)}var ja=Mr((function(t,e,n){Vi(t,e,n)})),Ia=Mr((function(t,e,n,i){Vi(t,e,n,i)})),za=to((function(t,e){var n={};if(null==t)return n;var i=!1;e=Re(e,(function(e){return e=vr(e,t),i||(i=e.length>1),e})),Er(t,no(t),n),i&&(n=ai(n,7,Jr));for(var r=e.length;r--;)cr(n,e[r]);return n})),La=to((function(t,e){return null==t?{}:function(t,e){return Ni(t,e,(function(e,n){return Ea(t,n)}))}(t,e)}));function Da(t,e){if(null==t)return{};var n=Re(no(t),(function(t){return[t]}));return e=so(e),Ni(t,n,(function(t,n){return e(t,n[0])}))}var Ba=Xr(Pa),Va=Xr(Fa);function Wa(t){return null==t?[]:qe(t,Pa(t))}var Ua=jr((function(t,e,n){return e=e.toLowerCase(),t+(n?Na(e):e)}));function Na(t){return $a(_a(t).toLowerCase())}function qa(t){return(t=_a(t))&&t.replace(yt,Ze).replace(Ht,"")}var Ha=jr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ga=jr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ya=Fr("toLowerCase"),Xa=jr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Za=jr((function(t,e,n){return t+(n?" ":"")+$a(e)})),Ka=jr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),$a=Fr("toUpperCase");function Ja(t,e,n){return t=_a(t),(e=n?r:e)===r?function(t){return Zt.test(t)}(t)?function(t){return t.match(Yt)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(e)||[]}var Qa=Xi((function(t,e){try{return ve(t,r,e)}catch(t){return $s(t)?t:new wt(t)}})),tl=to((function(t,e){return _e(e,(function(e){e=Do(e),ri(t,e,Ms(t[e],t))})),t}));function el(t){return function(){return t}}var nl=Lr(),il=Lr(!0);function rl(t){return t}function ol(t){return ji("function"==typeof t?t:ai(t,1))}var sl=Xi((function(t,e){return function(n){return Ai(n,t,e)}})),al=Xi((function(t,e){return function(n){return Ai(t,n,e)}}));function ll(t,e,n){var i=Pa(e),r=wi(e,i);null!=n||ea(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=wi(e,Pa(e)));var o=!(ea(n)&&"chain"in n&&!n.chain),s=Js(t);return _e(r,(function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=Or(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Ce([this.value()],arguments))})})),t}function cl(){}var hl=Wr(Re),ul=Wr(we),dl=Wr(Ae);function fl(t){return _o(t)?Le(Do(t)):function(t){return function(e){return xi(e,t)}}(t)}var pl=Nr(),gl=Nr(!0);function ml(){return[]}function vl(){return!1}var yl,_l=Vr((function(t,e){return t+e}),0),bl=Gr("ceil"),wl=Vr((function(t,e){return t/e}),1),xl=Gr("floor"),kl=Vr((function(t,e){return t*e}),1),Sl=Gr("round"),Rl=Vr((function(t,e){return t-e}),0);return Bn.after=function(t,e){if("function"!=typeof e)throw new Ot(o);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},Bn.ary=Es,Bn.assign=ba,Bn.assignIn=wa,Bn.assignInWith=xa,Bn.assignWith=ka,Bn.at=Sa,Bn.before=As,Bn.bind=Ms,Bn.bindAll=tl,Bn.bindKey=Ts,Bn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Hs(t)?t:[t]},Bn.chain=fs,Bn.chunk=function(t,e,n){e=(n?yo(t,e,n):e===r)?1:vn(ga(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,l=i(hn(o/e));s<o;)l[a++]=er(t,s,s+=e);return l},Bn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Bn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Ce(Hs(n)?Or(n):[n],mi(e,1))},Bn.cond=function(t){var e=null==t?0:t.length,n=so();return t=e?Re(t,(function(t){if("function"!=typeof t[1])throw new Ot(o);return[n(t[0]),t[1]]})):[],Xi((function(n){for(var i=-1;++i<e;){var r=t[i];if(ve(r[0],this,n))return ve(r[1],this,n)}}))},Bn.conforms=function(t){return function(t){var e=Pa(t);return function(n){return li(n,t,e)}}(ai(t,1))},Bn.constant=el,Bn.countBy=ms,Bn.create=function(t,e){var n=Vn(t);return null==e?n:ii(n,e)},Bn.curry=function t(e,n,i){var o=Zr(e,8,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Bn.curryRight=function t(e,n,i){var o=Zr(e,16,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Bn.debounce=Ps,Bn.defaults=Ra,Bn.defaultsDeep=Ca,Bn.defer=Fs,Bn.delay=js,Bn.difference=Wo,Bn.differenceBy=Uo,Bn.differenceWith=No,Bn.drop=function(t,e,n){var i=null==t?0:t.length;return i?er(t,(e=n||e===r?1:ga(e))<0?0:e,i):[]},Bn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?er(t,0,(e=i-(e=n||e===r?1:ga(e)))<0?0:e):[]},Bn.dropRightWhile=function(t,e){return t&&t.length?ur(t,so(e,3),!0,!0):[]},Bn.dropWhile=function(t,e){return t&&t.length?ur(t,so(e,3),!0):[]},Bn.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&yo(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=ga(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:ga(i))<0&&(i+=o),i=n>i?0:ma(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Bn.filter=function(t,e){return(Hs(t)?xe:gi)(t,so(e,3))},Bn.flatMap=function(t,e){return mi(Ss(t,e),1)},Bn.flatMapDeep=function(t,e){return mi(Ss(t,e),h)},Bn.flatMapDepth=function(t,e,n){return n=n===r?1:ga(n),mi(Ss(t,e),n)},Bn.flatten=Go,Bn.flattenDeep=function(t){return null!=t&&t.length?mi(t,h):[]},Bn.flattenDepth=function(t,e){return null!=t&&t.length?mi(t,e=e===r?1:ga(e)):[]},Bn.flip=function(t){return Zr(t,512)},Bn.flow=nl,Bn.flowRight=il,Bn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Bn.functions=function(t){return null==t?[]:wi(t,Pa(t))},Bn.functionsIn=function(t){return null==t?[]:wi(t,Fa(t))},Bn.groupBy=ws,Bn.initial=function(t){return null!=t&&t.length?er(t,0,-1):[]},Bn.intersection=Xo,Bn.intersectionBy=Zo,Bn.intersectionWith=Ko,Bn.invert=Aa,Bn.invertBy=Ma,Bn.invokeMap=xs,Bn.iteratee=ol,Bn.keyBy=ks,Bn.keys=Pa,Bn.keysIn=Fa,Bn.map=Ss,Bn.mapKeys=function(t,e){var n={};return e=so(e,3),_i(t,(function(t,i,r){ri(n,e(t,i,r),t)})),n},Bn.mapValues=function(t,e){var n={};return e=so(e,3),_i(t,(function(t,i,r){ri(n,i,e(t,i,r))})),n},Bn.matches=function(t){return Di(ai(t,1))},Bn.matchesProperty=function(t,e){return Bi(t,ai(e,1))},Bn.memoize=Is,Bn.merge=ja,Bn.mergeWith=Ia,Bn.method=sl,Bn.methodOf=al,Bn.mixin=ll,Bn.negate=zs,Bn.nthArg=function(t){return t=ga(t),Xi((function(e){return Wi(e,t)}))},Bn.omit=za,Bn.omitBy=function(t,e){return Da(t,zs(so(e)))},Bn.once=function(t){return As(2,t)},Bn.orderBy=function(t,e,n,i){return null==t?[]:(Hs(e)||(e=null==e?[]:[e]),Hs(n=i?r:n)||(n=null==n?[]:[n]),Ui(t,e,n))},Bn.over=hl,Bn.overArgs=Ls,Bn.overEvery=ul,Bn.overSome=dl,Bn.partial=Ds,Bn.partialRight=Bs,Bn.partition=Rs,Bn.pick=La,Bn.pickBy=Da,Bn.property=fl,Bn.propertyOf=function(t){return function(e){return null==t?r:xi(t,e)}},Bn.pull=Jo,Bn.pullAll=Qo,Bn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?qi(t,e,so(n,2)):t},Bn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?qi(t,e,r,n):t},Bn.pullAt=ts,Bn.range=pl,Bn.rangeRight=gl,Bn.rearg=Vs,Bn.reject=function(t,e){return(Hs(t)?xe:gi)(t,zs(so(e,3)))},Bn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=so(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return Hi(t,r),n},Bn.rest=function(t,e){if("function"!=typeof t)throw new Ot(o);return Xi(t,e=e===r?e:ga(e))},Bn.reverse=es,Bn.sampleSize=function(t,e,n){return e=(n?yo(t,e,n):e===r)?1:ga(e),(Hs(t)?$n:Ki)(t,e)},Bn.set=function(t,e,n){return null==t?t:$i(t,e,n)},Bn.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:$i(t,e,n,i)},Bn.shuffle=function(t){return(Hs(t)?Jn:tr)(t)},Bn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&yo(t,e,n)?(e=0,n=i):(e=null==e?0:ga(e),n=n===r?i:ga(n)),er(t,e,n)):[]},Bn.sortBy=Cs,Bn.sortedUniq=function(t){return t&&t.length?or(t):[]},Bn.sortedUniqBy=function(t,e){return t&&t.length?or(t,so(e,2)):[]},Bn.split=function(t,e,n){return n&&"number"!=typeof n&&yo(t,e,n)&&(e=n=r),(n=n===r?f:n>>>0)?(t=_a(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=ar(e))&&Je(t)?_r(sn(t),0,n):t.split(e,n):[]},Bn.spread=function(t,e){if("function"!=typeof t)throw new Ot(o);return e=null==e?0:vn(ga(e),0),Xi((function(n){var i=n[e],r=_r(n,0,e);return i&&Ce(r,i),ve(t,this,r)}))},Bn.tail=function(t){var e=null==t?0:t.length;return e?er(t,1,e):[]},Bn.take=function(t,e,n){return t&&t.length?er(t,0,(e=n||e===r?1:ga(e))<0?0:e):[]},Bn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?er(t,(e=i-(e=n||e===r?1:ga(e)))<0?0:e,i):[]},Bn.takeRightWhile=function(t,e){return t&&t.length?ur(t,so(e,3),!1,!0):[]},Bn.takeWhile=function(t,e){return t&&t.length?ur(t,so(e,3)):[]},Bn.tap=function(t,e){return e(t),t},Bn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Ot(o);return ea(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ps(t,e,{leading:i,maxWait:e,trailing:r})},Bn.thru=ps,Bn.toArray=fa,Bn.toPairs=Ba,Bn.toPairsIn=Va,Bn.toPath=function(t){return Hs(t)?Re(t,Do):ca(t)?[t]:Or(Lo(_a(t)))},Bn.toPlainObject=ya,Bn.transform=function(t,e,n){var i=Hs(t),r=i||Zs(t)||ha(t);if(e=so(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:ea(t)&&Js(o)?Vn(Gt(t)):{}}return(r?_e:_i)(t,(function(t,i,r){return e(n,t,i,r)})),n},Bn.unary=function(t){return Es(t,1)},Bn.union=ns,Bn.unionBy=is,Bn.unionWith=rs,Bn.uniq=function(t){return t&&t.length?lr(t):[]},Bn.uniqBy=function(t,e){return t&&t.length?lr(t,so(e,2)):[]},Bn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?lr(t,r,e):[]},Bn.unset=function(t,e){return null==t||cr(t,e)},Bn.unzip=os,Bn.unzipWith=ss,Bn.update=function(t,e,n){return null==t?t:hr(t,e,mr(n))},Bn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:hr(t,e,mr(n),i)},Bn.values=Wa,Bn.valuesIn=function(t){return null==t?[]:qe(t,Fa(t))},Bn.without=as,Bn.words=Ja,Bn.wrap=function(t,e){return Ds(mr(e),t)},Bn.xor=ls,Bn.xorBy=cs,Bn.xorWith=hs,Bn.zip=us,Bn.zipObject=function(t,e){return pr(t||[],e||[],ti)},Bn.zipObjectDeep=function(t,e){return pr(t||[],e||[],$i)},Bn.zipWith=ds,Bn.entries=Ba,Bn.entriesIn=Va,Bn.extend=wa,Bn.extendWith=xa,ll(Bn,Bn),Bn.add=_l,Bn.attempt=Qa,Bn.camelCase=Ua,Bn.capitalize=Na,Bn.ceil=bl,Bn.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=va(n))==n?n:0),e!==r&&(e=(e=va(e))==e?e:0),si(va(t),e,n)},Bn.clone=function(t){return ai(t,4)},Bn.cloneDeep=function(t){return ai(t,5)},Bn.cloneDeepWith=function(t,e){return ai(t,5,e="function"==typeof e?e:r)},Bn.cloneWith=function(t,e){return ai(t,4,e="function"==typeof e?e:r)},Bn.conformsTo=function(t,e){return null==e||li(t,e,Pa(e))},Bn.deburr=qa,Bn.defaultTo=function(t,e){return null==t||t!=t?e:t},Bn.divide=wl,Bn.endsWith=function(t,e,n){t=_a(t),e=ar(e);var i=t.length,o=n=n===r?i:si(ga(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},Bn.eq=Ws,Bn.escape=function(t){return(t=_a(t))&&X.test(t)?t.replace(G,Ke):t},Bn.escapeRegExp=function(t){return(t=_a(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Bn.every=function(t,e,n){var i=Hs(t)?we:fi;return n&&yo(t,e,n)&&(e=r),i(t,so(e,3))},Bn.find=vs,Bn.findIndex=qo,Bn.findKey=function(t,e){return Te(t,so(e,3),_i)},Bn.findLast=ys,Bn.findLastIndex=Ho,Bn.findLastKey=function(t,e){return Te(t,so(e,3),bi)},Bn.floor=xl,Bn.forEach=_s,Bn.forEachRight=bs,Bn.forIn=function(t,e){return null==t?t:vi(t,so(e,3),Fa)},Bn.forInRight=function(t,e){return null==t?t:yi(t,so(e,3),Fa)},Bn.forOwn=function(t,e){return t&&_i(t,so(e,3))},Bn.forOwnRight=function(t,e){return t&&bi(t,so(e,3))},Bn.get=Oa,Bn.gt=Us,Bn.gte=Ns,Bn.has=function(t,e){return null!=t&&po(t,e,Ci)},Bn.hasIn=Ea,Bn.head=Yo,Bn.identity=rl,Bn.includes=function(t,e,n,i){t=Ys(t)?t:Wa(t),n=n&&!i?ga(n):0;var r=t.length;return n<0&&(n=vn(r+n,0)),la(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Fe(t,e,n)>-1},Bn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:ga(n);return r<0&&(r=vn(i+r,0)),Fe(t,e,r)},Bn.inRange=function(t,e,n){return e=pa(e),n===r?(n=e,e=0):n=pa(n),function(t,e,n){return t>=yn(e,n)&&t<vn(e,n)}(t=va(t),e,n)},Bn.invoke=Ta,Bn.isArguments=qs,Bn.isArray=Hs,Bn.isArrayBuffer=Gs,Bn.isArrayLike=Ys,Bn.isArrayLikeObject=Xs,Bn.isBoolean=function(t){return!0===t||!1===t||na(t)&&Si(t)==v},Bn.isBuffer=Zs,Bn.isDate=Ks,Bn.isElement=function(t){return na(t)&&1===t.nodeType&&!oa(t)},Bn.isEmpty=function(t){if(null==t)return!0;if(Ys(t)&&(Hs(t)||"string"==typeof t||"function"==typeof t.splice||Zs(t)||ha(t)||qs(t)))return!t.length;var e=fo(t);if(e==x||e==O)return!t.size;if(xo(t))return!Ii(t).length;for(var n in t)if(Ft.call(t,n))return!1;return!0},Bn.isEqual=function(t,e){return Ti(t,e)},Bn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?Ti(t,e,r,n):!!i},Bn.isError=$s,Bn.isFinite=function(t){return"number"==typeof t&&pn(t)},Bn.isFunction=Js,Bn.isInteger=Qs,Bn.isLength=ta,Bn.isMap=ia,Bn.isMatch=function(t,e){return t===e||Pi(t,e,lo(e))},Bn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Pi(t,e,lo(e),n)},Bn.isNaN=function(t){return ra(t)&&t!=+t},Bn.isNative=function(t){if(wo(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Fi(t)},Bn.isNil=function(t){return null==t},Bn.isNull=function(t){return null===t},Bn.isNumber=ra,Bn.isObject=ea,Bn.isObjectLike=na,Bn.isPlainObject=oa,Bn.isRegExp=sa,Bn.isSafeInteger=function(t){return Qs(t)&&t>=-9007199254740991&&t<=u},Bn.isSet=aa,Bn.isString=la,Bn.isSymbol=ca,Bn.isTypedArray=ha,Bn.isUndefined=function(t){return t===r},Bn.isWeakMap=function(t){return na(t)&&fo(t)==M},Bn.isWeakSet=function(t){return na(t)&&"[object WeakSet]"==Si(t)},Bn.join=function(t,e){return null==t?"":gn.call(t,e)},Bn.kebabCase=Ha,Bn.last=$o,Bn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=ga(n))<0?vn(i+o,0):yn(o,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,o):Pe(t,Ie,o,!0)},Bn.lowerCase=Ga,Bn.lowerFirst=Ya,Bn.lt=ua,Bn.lte=da,Bn.max=function(t){return t&&t.length?pi(t,rl,Ri):r},Bn.maxBy=function(t,e){return t&&t.length?pi(t,so(e,2),Ri):r},Bn.mean=function(t){return ze(t,rl)},Bn.meanBy=function(t,e){return ze(t,so(e,2))},Bn.min=function(t){return t&&t.length?pi(t,rl,zi):r},Bn.minBy=function(t,e){return t&&t.length?pi(t,so(e,2),zi):r},Bn.stubArray=ml,Bn.stubFalse=vl,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=kl,Bn.nth=function(t,e){return t&&t.length?Wi(t,ga(e)):r},Bn.noConflict=function(){return oe._===this&&(oe._=Dt),this},Bn.noop=cl,Bn.now=Os,Bn.pad=function(t,e,n){t=_a(t);var i=(e=ga(e))?on(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Ur(un(r),n)+t+Ur(hn(r),n)},Bn.padEnd=function(t,e,n){t=_a(t);var i=(e=ga(e))?on(t):0;return e&&i<e?t+Ur(e-i,n):t},Bn.padStart=function(t,e,n){t=_a(t);var i=(e=ga(e))?on(t):0;return e&&i<e?Ur(e-i,n)+t:t},Bn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),bn(_a(t).replace(it,""),e||0)},Bn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&yo(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=pa(t),e===r?(e=t,t=0):e=pa(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=wn();return yn(t+o*(e-t+ee("1e-"+((o+"").length-1))),e)}return Gi(t,e)},Bn.reduce=function(t,e,n){var i=Hs(t)?Oe:Be,r=arguments.length<3;return i(t,so(e,4),n,r,ui)},Bn.reduceRight=function(t,e,n){var i=Hs(t)?Ee:Be,r=arguments.length<3;return i(t,so(e,4),n,r,di)},Bn.repeat=function(t,e,n){return e=(n?yo(t,e,n):e===r)?1:ga(e),Yi(_a(t),e)},Bn.replace=function(){var t=arguments,e=_a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Bn.result=function(t,e,n){var i=-1,o=(e=vr(e,t)).length;for(o||(o=1,t=r);++i<o;){var s=null==t?r:t[Do(e[i])];s===r&&(i=o,s=n),t=Js(s)?s.call(t):s}return t},Bn.round=Sl,Bn.runInContext=t,Bn.sample=function(t){return(Hs(t)?Kn:Zi)(t)},Bn.size=function(t){if(null==t)return 0;if(Ys(t))return la(t)?on(t):t.length;var e=fo(t);return e==x||e==O?t.size:Ii(t).length},Bn.snakeCase=Xa,Bn.some=function(t,e,n){var i=Hs(t)?Ae:nr;return n&&yo(t,e,n)&&(e=r),i(t,so(e,3))},Bn.sortedIndex=function(t,e){return ir(t,e)},Bn.sortedIndexBy=function(t,e,n){return rr(t,e,so(n,2))},Bn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=ir(t,e);if(i<n&&Ws(t[i],e))return i}return-1},Bn.sortedLastIndex=function(t,e){return ir(t,e,!0)},Bn.sortedLastIndexBy=function(t,e,n){return rr(t,e,so(n,2),!0)},Bn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ir(t,e,!0)-1;if(Ws(t[n],e))return n}return-1},Bn.startCase=Za,Bn.startsWith=function(t,e,n){return t=_a(t),n=null==n?0:si(ga(n),0,t.length),e=ar(e),t.slice(n,n+e.length)==e},Bn.subtract=Rl,Bn.sum=function(t){return t&&t.length?Ve(t,rl):0},Bn.sumBy=function(t,e){return t&&t.length?Ve(t,so(e,2)):0},Bn.template=function(t,e,n){var i=Bn.templateSettings;n&&yo(t,e,n)&&(e=r),t=_a(t),e=xa({},e,i,Kr);var o,s,a=xa({},e.imports,i.imports,Kr),l=Pa(a),c=qe(a,l),h=0,u=e.interpolate||_t,d="__p += '",f=Rt((e.escape||_t).source+"|"+u.source+"|"+(u===$?ut:_t).source+"|"+(e.evaluate||_t).source+"|$","g"),p="//# sourceURL="+(Ft.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$t+"]")+"\n";t.replace(f,(function(e,n,i,r,a,l){return i||(i=r),d+=t.slice(h,l).replace(bt,$e),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=l+e.length,e})),d+="';\n";var g=Ft.call(e,"variable")&&e.variable;if(g){if(ct.test(g))throw new wt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(U,""):d).replace(N,"$1").replace(q,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Qa((function(){return xt(l,p+"return "+d).apply(r,c)}));if(m.source=d,$s(m))throw m;return m},Bn.times=function(t,e){if((t=ga(t))<1||t>u)return[];var n=f,i=yn(t,f);e=so(e),t-=f;for(var r=We(i,e);++n<t;)e(n);return r},Bn.toFinite=pa,Bn.toInteger=ga,Bn.toLength=ma,Bn.toLower=function(t){return _a(t).toLowerCase()},Bn.toNumber=va,Bn.toSafeInteger=function(t){return t?si(ga(t),-9007199254740991,u):0===t?t:0},Bn.toString=_a,Bn.toUpper=function(t){return _a(t).toUpperCase()},Bn.trim=function(t,e,n){if((t=_a(t))&&(n||e===r))return Ue(t);if(!t||!(e=ar(e)))return t;var i=sn(t),o=sn(e);return _r(i,Ge(i,o),Ye(i,o)+1).join("")},Bn.trimEnd=function(t,e,n){if((t=_a(t))&&(n||e===r))return t.slice(0,an(t)+1);if(!t||!(e=ar(e)))return t;var i=sn(t);return _r(i,0,Ye(i,sn(e))+1).join("")},Bn.trimStart=function(t,e,n){if((t=_a(t))&&(n||e===r))return t.replace(it,"");if(!t||!(e=ar(e)))return t;var i=sn(t);return _r(i,Ge(i,sn(e))).join("")},Bn.truncate=function(t,e){var n=30,i="...";if(ea(e)){var o="separator"in e?e.separator:o;n="length"in e?ga(e.length):n,i="omission"in e?ar(e.omission):i}var s=(t=_a(t)).length;if(Je(t)){var a=sn(t);s=a.length}if(n>=s)return t;var l=n-on(i);if(l<1)return i;var c=a?_r(a,0,l).join(""):t.slice(0,l);if(o===r)return c+i;if(a&&(l+=c.length-l),sa(o)){if(t.slice(l).search(o)){var h,u=c;for(o.global||(o=Rt(o.source,_a(dt.exec(o))+"g")),o.lastIndex=0;h=o.exec(u);)var d=h.index;c=c.slice(0,d===r?l:d)}}else if(t.indexOf(ar(o),l)!=l){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+i},Bn.unescape=function(t){return(t=_a(t))&&Y.test(t)?t.replace(H,ln):t},Bn.uniqueId=function(t){var e=++jt;return _a(t)+e},Bn.upperCase=Ka,Bn.upperFirst=$a,Bn.each=_s,Bn.eachRight=bs,Bn.first=Yo,ll(Bn,(yl={},_i(Bn,(function(t,e){Ft.call(Bn.prototype,e)||(yl[e]=t)})),yl),{chain:!1}),Bn.VERSION="4.17.21",_e(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Bn[t].placeholder=Bn})),_e(["drop","take"],(function(t,e){Nn.prototype[t]=function(n){n=n===r?1:vn(ga(n),0);var i=this.__filtered__&&!e?new Nn(this):this.clone();return i.__filtered__?i.__takeCount__=yn(n,i.__takeCount__):i.__views__.push({size:yn(n,f),type:t+(i.__dir__<0?"Right":"")}),i},Nn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),_e(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;Nn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:so(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),_e(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Nn.prototype[t]=function(){return this[n](1).value()[0]}})),_e(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Nn.prototype[t]=function(){return this.__filtered__?new Nn(this):this[n](1)}})),Nn.prototype.compact=function(){return this.filter(rl)},Nn.prototype.find=function(t){return this.filter(t).head()},Nn.prototype.findLast=function(t){return this.reverse().find(t)},Nn.prototype.invokeMap=Xi((function(t,e){return"function"==typeof t?new Nn(this):this.map((function(n){return Ai(n,t,e)}))})),Nn.prototype.reject=function(t){return this.filter(zs(so(t)))},Nn.prototype.slice=function(t,e){t=ga(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Nn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=ga(e))<0?n.dropRight(-e):n.take(e-t)),n)},Nn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Nn.prototype.toArray=function(){return this.take(f)},_i(Nn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=Bn[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);o&&(Bn.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,l=e instanceof Nn,c=a[0],h=l||Hs(e),u=function(t){var e=o.apply(Bn,Ce([t],a));return i&&d?e[0]:e};h&&n&&"function"==typeof c&&1!=c.length&&(l=h=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,g=l&&!f;if(!s&&h){e=g?e:new Nn(this);var m=t.apply(e,a);return m.__actions__.push({func:ps,args:[u],thisArg:r}),new Un(m,d)}return p&&g?t.apply(this,a):(m=this.thru(u),p?i?m.value()[0]:m.value():m)})})),_e(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Et[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Bn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Hs(r)?r:[],t)}return this[n]((function(n){return e.apply(Hs(n)?n:[],t)}))}})),_i(Nn.prototype,(function(t,e){var n=Bn[e];if(n){var i=n.name+"";Ft.call(Mn,i)||(Mn[i]=[]),Mn[i].push({name:e,func:n})}})),Mn[Dr(r,2).name]=[{name:"wrapper",func:r}],Nn.prototype.clone=function(){var t=new Nn(this.__wrapped__);return t.__actions__=Or(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Or(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Or(this.__views__),t},Nn.prototype.reverse=function(){if(this.__filtered__){var t=new Nn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Nn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Hs(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=yn(e,t+s);break;case"takeRight":t=vn(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=o.start,a=o.end,l=a-s,c=i?a:s-1,h=this.__iteratees__,u=h.length,d=0,f=yn(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return dr(t,this.__actions__);var p=[];t:for(;l--&&d<f;){for(var g=-1,m=t[c+=e];++g<u;){var v=h[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}p[d++]=m}return p},Bn.prototype.at=gs,Bn.prototype.chain=function(){return fs(this)},Bn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===r&&(this.__values__=fa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Bn.prototype.plant=function(t){for(var e,n=this;n instanceof Wn;){var i=Vo(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},Bn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Nn){var e=t;return this.__actions__.length&&(e=new Nn(this)),(e=e.reverse()).__actions__.push({func:ps,args:[es],thisArg:r}),new Un(e,this.__chain__)}return this.thru(es)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return dr(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,se&&(Bn.prototype[se]=function(){return this}),Bn}();oe._=cn,(i=function(){return cn}.call(e,n,e,t))===r||(t.exports=i)}.call(this)},86910:function(e){"use strict";e.exports=t}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var r={};return function(){"use strict";i.d(r,{default:function(){return Tr}});var t=i(86910),e=[{weight:0,type:"textfield",input:!0,key:"label",label:"Label",placeholder:"Field Label",tooltip:"The label for this field.",validate:{required:!0}},{key:"multiple",ignore:!0},{key:"defaultValue",ignore:!0},{key:"dbIndex",ignore:!0},{key:"allowCalculateOverride",ignore:!0},{key:"customDefaultValuePanel",ignore:!0},{key:"calculateValuePanel",ignore:!0}],n=[{type:"select",input:!0,weight:0,tooltip:"The source to get the data. You can fetch from a URL or use javascript to get the value.",key:"dataSrc",defaultValue:"url",label:"Data Source Type",dataSrc:"values",data:{values:[{label:"URL",value:"url"},{label:"IndexedDB",value:"indexeddb"}]}},{type:"checkbox",input:!0,weight:9,key:"indexeddb.fromExisting",label:"Choose from existing databases?",defaultValue:!1,tooltip:"Check it if you want to select an existing database.",conditional:{json:{in:[{var:"data.dataSrc"},["indexeddb"]]}}},{type:"textfield",weight:10,input:!0,key:"indexeddb.database",label:"Database name",forceOverride:!0,tooltip:"The name of the indexeddb database.",conditional:{json:{and:[{in:[{var:"data.dataSrc"},["indexeddb"]]},{"!==":[{var:"data.indexeddb.fromExisting"},!0]}]}}},{type:"textfield",input:!0,key:"indexeddb.table",label:"Table name",forceOverride:!0,weight:16,tooltip:"The name of table in the indexeddb database.",conditional:{json:{and:[{in:[{var:"data.dataSrc"},["indexeddb"]]},{"!==":[{var:"data.indexeddb.fromExisting"},!0]}]}}},{type:"select",input:!0,key:"indexeddb.database",label:"Existing Database name",weight:10,tooltip:"The name of the existing indexeddb database.",dataSrc:"custom",valueProperty:"value",skipMerge:!0,data:{custom:function(t){return window.indexedDB?window.indexedDB.databases().then((function(t){return t.map((function(t){var e=t.name;return{value:e,label:e}}))})):(window.alert("Your browser doesn't support current version of indexedDB"),[])}},conditional:{json:{"===":[{var:"data.indexeddb.fromExisting"},!0]}}},{type:"select",input:!0,key:"indexeddb.table",label:"Existing Table name",refreshOn:"indexeddb.database",clearOnRefresh:!0,weight:16,tooltip:"The name of an existing table in the indexeddb database.",dataSrc:"custom",valueProperty:"value",skipMerge:!0,data:{custom:function(t){if(!window.indexedDB)return window.alert("Your browser doesn't support current version of indexedDB"),[];var e=t.data.indexeddb.database;return e?new Promise((function(t){var n=window.indexedDB.open(e);n.onsuccess=function(e){var n=e.target.result.objectStoreNames;if(n.length){var i=Array.from(n).map((function(t){return{value:t,label:t}}));t(i)}else t([])},n.onerror=function(){return t([])}})):[]}},conditional:{json:{"===":[{var:"data.indexeddb.fromExisting"},!0]}}},{type:"textfield",input:!0,key:"fetch.url",weight:10,label:"Data Source URL",placeholder:"Data Source URL",tooltip:"A URL that returns data. You can interpolate form data using curly bracket notation.",clearOnHide:!0,conditional:{json:{"===":[{var:"data.dataSrc"},"url"]}}},{type:"select",input:!0,label:"Method",key:"fetch.method",clearOnHide:!0,tooltip:"The HTTP Request method to use when making the request.",defaultValue:"get",weight:11,template:"<span>{{ item.label }}</span>",dataSrc:"values",data:{values:[{label:"Get",value:"get"},{label:"Post",value:"post"}]},conditional:{json:{"===":[{var:"data.dataSrc"},"url"]}}},{type:"datagrid",input:!0,label:"Request Headers",key:"fetch.headers",tooltip:"Set any headers that should be sent along with the request to the url. This is useful for authentication.",weight:12,components:[{label:"Key",key:"key",input:!0,type:"textfield"},{label:"Value",key:"value",input:!0,type:"textfield"}],clearOnHide:!0,conditional:{json:{"===":[{var:"data.dataSrc"},"url"]}}},{type:"checkbox",input:!0,key:"fetch.forwardHeaders",label:"Forward Headers",tooltip:"Check this if you would like to forward the headers passed to the server to the fetch endpoint.",clearOnHide:!0,conditional:{json:{"===":[{var:"data.dataSrc"},"url"]}}},{type:"checkbox",input:!0,weight:26,key:"fetch.authenticate",label:"Form.io Authentication",tooltip:"Check this if you would like to pass Form.io Authentication headers with the request.",clearOnHide:!0,conditional:{json:{"===":[{var:"data.dataSrc"},"url"]}}},{type:"panel",title:"POST Body Specification",theme:"default",collapsible:!0,collapsed:!0,key:"specifyPostBodyPanel",weight:1e3,tooltip:"Write custom code to specify POST Body.",conditional:{json:{and:[{"===":[{var:"data.dataSrc"},"url"]},{"===":[{var:"data.fetch.method"},"post"]}]}},components:[{type:"htmlelement",tag:"div",content:'<p>The following variables are available in all scripts.</p><table class="table table-bordered table-condensed table-striped"><tr><th>form</th><td>The complete form JSON object</td></tr><tr><th>submission</th><td>The complete submission object.</td></tr><tr><th>data</th><td>The complete submission data object.</td></tr><tr><th>row</th><td>Contextual "row" data, used within DataGrid, EditGrid, and Container components</td></tr><tr><th>component</th><td>The current component JSON</td></tr><tr><th>instance</th><td>The current component instance.</td></tr><tr><th>value</th><td>The current value of the component.</td></tr><tr><th>moment</th><td>The moment.js library for date manipulation.</td></tr><tr><th>_</th><td>An instance of <a href="https://lodash.com/docs/" target="_blank">Lodash</a>.</td></tr><tr><th>utils</th><td>An instance of the <a href="http://formio.github.io/formio.js/docs/identifiers.html#utils" target="_blank">FormioUtils</a> object.</td></tr><tr><th>util</th><td>An alias for "utils".</td></tr></table><br/>'},{type:"textarea",key:"fetch.specifyPostBody",rows:5,editor:"ace",hideLabel:!0,input:!0,placeholder:"body = {\n  data: {\n    b: data.a,\n    submit: true,\n  },\n}"},{type:"htmlelement",tag:"div",content:"<p>Enter custom javascript code.</p><p><h4>Example:</h4><pre>body = {\n  data: {\n    b: data.a,\n    submit: true,\n  },\n};</pre></p>"}]},{type:"checkbox",input:!0,weight:1001,key:"allowCaching",label:"Enable to Store Request Result in the Cache",defaultValue:!0,tooltip:"When checked, the requests and its results will be stored in the cache and if the Select will try to make the request to the same URL with the same paremetrs, the cached data will be returned. It allows to increase performance, but if the remote source's data is changing quite often and you always need to keep it up-to-date, uncheck this option.",conditional:{json:{"===":[{var:"data.dataSrc"},"url"]}}}],o=[{type:"checkbox",input:!0,key:"trigger.init",label:"Trigger on form init",tooltip:"When enabled the request will be made when the form is initialized.",weight:15},{type:"checkbox",input:!0,key:"trigger.server",label:"Trigger on server",tooltip:"When enabled the request will be made on the server during validation.",description:"Async requests on the server can slow down processing since the server must wait for a response before proceeding. Do not add too many server side requests or performance will suffer.",weight:15},{type:"select",input:!0,key:"refreshOn",label:"Trigger on Data change",weight:10,tooltip:"Refresh data when another field changes.",dataSrc:"custom",valueProperty:"value",data:{custom:function(t){var e=[];return e.push({label:"Any Change",value:"data"}),t.utils.eachComponent(t.instance.options.editForm.components,(function(n,i){n.key!==t.data.key&&e.push({label:n.label||n.key,value:i})})),e}}},{type:"select",input:!0,key:"refreshOnBlur",label:"Trigger on blur of Component",weight:10,tooltip:"Refresh data when another field was blured.",dataSrc:"custom",valueProperty:"value",data:{custom:function(t){var e=[];return e.push({label:"Any Change",value:"data"}),t.utils.eachComponent(t.instance.options.editForm.components,(function(n,i){n.key!==t.data.key&&e.push({label:n.label||n.key,value:i})})),e}}},{type:"textfield",label:"Trigger on Event",key:"refreshOnEvent",input:!0,weight:110,tooltip:"Refresh data when this event is fired."},{type:"textfield",label:"Triggered Event",key:"event",input:!0,weight:120,tooltip:"The event to fire when triggered.",description:"When in a datagrid or editgrid, { { rowIndex } } is available for interpolation to target a specific row."}],s=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},a=t.Components.components.component.editForm;function l(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return a.apply(void 0,s([[{key:"data",components:e},{label:"Trigger",key:"trigger",weight:10,components:o},{label:"Fetch",key:"fetch",weight:20,components:n},{key:"display",ignore:!0},{key:"validation",ignore:!0},{key:"layout",ignore:!0}]],t))}var c,h,u=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},f=t.Components.components.component,p=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return u(n,e),Object.defineProperty(n,"builderInfo",{get:function(){return{title:"Data Source",icon:"cloud",group:"premium",documentation:"http://help.form.io/userguide/#datasource",weight:30,schema:n.schema()}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"requestHeaders",{get:function(){var e=this,n=new t.Formio.Headers;if(this.component.fetch&&this.component.fetch.headers)try{this.component.fetch.headers.forEach((function(t){t.key&&n.set(t.key,e.interpolate(t.value))}))}catch(t){console.warn(t.message)}return"POST"!==this.reqMethod||n.has("Content-type")||n.set("Content-type","application/json"),n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"reqMethod",{get:function(){return t.Utils._.get(this.component,"fetch.method","get").toUpperCase()},enumerable:!1,configurable:!0}),n.schema=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return f.schema.apply(f,d([{label:"Data Source",key:"dataSource",type:"datasource",persistent:"client-only"}],t))},n.prototype.init=function(){return t.Utils._.get(this.component,"trigger.init",!1)&&this.refresh(),e.prototype.init.call(this)},n.prototype.render=function(){return this.builderMode?e.prototype.render.call(this,this.component.label||"Data Source"):e.prototype.render.call(this," ")},n.prototype.attach=function(t){return this.attachRefreshOnBlur(),this.attachRefreshOnEvent(),e.prototype.attach.call(this,t)},n.prototype.attachRefreshOnBlur=function(){var t=this;this.component.refreshOnBlur&&this.on("blur",(function(e){t.checkRefreshOn([{instance:e,value:e.dataValue}],{fromBlur:!0})}))},n.prototype.attachRefreshOnEvent=function(){var t=this;this.component.refreshOnEvent&&this.on(this.component.refreshOnEvent,(function(){return t.refresh()}))},n.prototype.dettachRefreshOnBlur=function(){this.component.refreshOnBlur&&this.off("blur")},n.prototype.dettachRefreshOnEvent=function(){this.component.refreshOnEvent&&this.off(this.component.refreshOnEvent)},n.prototype.refresh=function(t,e,n){if(!this.options.readOnly)switch(this.component.dataSrc){case"url":this.getDataFromUrl(n);break;case"indexeddb":window.indexedDB||window.alert("Your browser doesn't support current version of indexedDB"),this.getDataFromIndexedDb(n)}},n.prototype.getDataFromUrl=function(e){var n,i=this,r=null;t.Utils._.get(this.component,"fetch.specifyPostBody","")&&"POST"===this.reqMethod&&(r=this.specifyBody());var o=t.Formio.makeStaticRequest(this.interpolate(this.component.fetch.url),this.reqMethod,r,{headers:this.requestHeaders,noToken:!(this.component.fetch&&this.component.fetch.authenticate),ignoreCache:!this.component.allowCaching});Promise.all([o,(null===(n=this.root)||void 0===n?void 0:n.formReady)?this.root.formReady:Promise.resolve()]).then((function(t){setTimeout((function(){i.assign(t[0],e)}))})).catch((function(t){console.warn(t)}))},n.prototype.getDataFromIndexedDb=function(e){var n=this;if(this.component.indexeddb&&this.component.indexeddb.database&&this.component.indexeddb.table){var i=window.indexedDB.open(this.component.indexeddb.database);i.onupgradeneeded=function(t){if(n.component.customOptions){var e=t.target.result;e.createObjectStore(n.component.indexeddb.table,{keyPath:"myKey",autoIncrement:!0}).transaction.oncomplete=function(){var t=e.transaction(n.component.indexeddb.table,"readwrite");n.component.customOptions.forEach((function(e){t.objectStore(n.component.indexeddb.table).put(e)}))}}},i.onerror=function(){window.alert(i.errorCode)},i.onsuccess=function(i){var r=i.target.result.transaction(n.component.indexeddb.table,"readwrite").objectStore(n.component.indexeddb.table);new t.Formio.Promise((function(t){var e=[];r.getAll().onsuccess=function(n){n.target.result.forEach((function(t){e.push(t)})),t(e)}})).then((function(t){return n.assign(t,e)}))}}},n.prototype.assign=function(e,n){t.Utils._.isEqual(this.dataValue,e)||(this.dataValue=e,this.triggerChange(n&&n.fromSubmission?{dataSourceInitialLoading:!0}:null)),this.component.event&&this.emitEvents()},n.prototype.emitEvents=function(){this.emit(this.interpolate(this.component.event),this.data),this.events.emit(this.interpolate(this.component.event),this.data),this.emit("customEvent",{type:this.interpolate(this.component.event),component:this.component,data:this.data})},n.prototype.validateMultiple=function(){return!1},n.prototype.specifyBody=function(){var t=null;try{t=this.evaluate(this.component.fetch.specifyPostBody,{value:this.dataValue,row:this.data,data:this.rootValue,component:this.component},"body")}catch(e){t=null}return t},n.prototype.destroy=function(){return this.dettachRefreshOnBlur(),this.dettachRefreshOnEvent(),e.prototype.destroy.call(this)},n.editForm=l,n}(f),g={move:"M",line:"L",curve:"C",arc:"A",close:"Z"};"undefined"!=typeof window?h=window:void 0!==i.g?h=i.g:"undefined"!=typeof self&&(h=self);var m,v=h,y=function(t){return{translateX:t.e,translateY:t.f,scaleX:Math.sqrt(t.a*t.a+t.b*t.b),scaleY:Math.sqrt(t.c*t.c+t.d*t.d),rotation:180*Math.atan2(t.b,t.a)/Math.PI}},_=function(t){m=t},b=function(t,e){e=e&&e.identity()||new m;for(var n=t,i=[];n&&n._matrix;)i.push(n._matrix),n=n.parent;i.reverse();for(var r=0;r<i.length;r++){var o=i[r].elements;e.multiply(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9])}return e},w=function(t,e,n){return n*(e-t)+t},x=function(t,e){for(;t<0;)t+=e;return t%e},k=v.Float32Array||Array,S=function(t){return Math.floor(1e6*t)/1e6},R=Object.freeze({__proto__:null,decomposeMatrix:y,getComputedMatrix:b,setMatrix:_,lerp:w,mod:x,NumArray:k,toFixed:S}),C=Array.prototype.slice,O={isNaN:function(t){return"number"==typeof t&&t!==+t},isElement:function(t){return!(!t||1!==t.nodeType)},isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){for(var e=C.call(arguments,1),n=0;n<e.length;n++){var i=e[n];for(var r in i)t[r]=i[r]}return t},defaults:function(t){for(var e=C.call(arguments,1),n=0;n<e.length;n++){var i=e[n];for(var r in i)void 0===t[r]&&(t[r]=i[r])}return t},each:function(t,e,n){for(var i=n||this,r=!function(t){if(null==t)return!1;var e=t.length;return"number"==typeof e&&e>=0&&e<4294967296}(t)&&Object.keys(t),o=(r||t).length,s=0;s<o;s++){var a=r?r[s]:s;e.call(i,t[a],a,t)}return t},performance:v.performance&&v.performance.now?v.performance:Date},E={on:A,off:M,trigger:function(t){var e=this;if(!e._events)return e;var n=Array.prototype.slice.call(arguments,1),i=e._events[t];return i&&T(e,i,n),e},listen:function(t,e,n){var i=this;if(t){var r=function(){n.apply(i,arguments)};r.obj=t,r.name=e,r.handler=n,t.on(e,r)}return i},ignore:function(t,e,n){return t.off(e,n),this},Types:{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"}};function A(t,e){var n=this;return n._events||(n._events={}),(n._events[t]||(n._events[t]=[])).push(e),n}function M(t,e){var n=this;if(!n._events)return n;if(!t&&!e)return n._events={},n;for(var i=t?[t]:Object.keys(n._events),r=0,o=i.length;r<o;r++){t=i[r];var s=n._events[t];if(s){var a=[];if(e)for(var l=0,c=s.length;l<c;l++){var h=s[l];h=h.handler?h.handler:h,e&&e!==h&&a.push(h)}n._events[t]=a}}return n}function T(t,e,n){var i;switch(n.length){case 0:i=function(i){e[i].call(t,n[0])};break;case 1:i=function(i){e[i].call(t,n[0],n[1])};break;case 2:i=function(i){e[i].call(t,n[0],n[1],n[2])};break;case 3:i=function(i){e[i].call(t,n[0],n[1],n[2],n[3])};break;default:i=function(i){e[i].apply(t,n)}}for(var r=0;r<e.length;r++)i(r)}function P(t,e){this.x=t||0,this.y=e||0}E.bind=A,E.unbind=M,O.extend(P,{zero:new P,add:function(t,e){return new P(t.x+e.x,t.y+e.y)},sub:function(t,e){return new P(t.x-e.x,t.y-e.y)},subtract:function(t,e){return P.sub(t,e)},ratioBetween:function(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())},angleBetween:function(t,e){var n,i;return arguments.length>=4?(n=arguments[0]-arguments[2],i=arguments[1]-arguments[3],Math.atan2(i,n)):(n=t.x-e.x,i=t.y-e.y,Math.atan2(i,n))},distanceBetween:function(t,e){return Math.sqrt(P.distanceBetweenSquared(t,e))},distanceBetweenSquared:function(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},MakeObservable:function(t){t.bind=t.on=function(){return this._bound||(this._x=this.x,this._y=this.y,Object.defineProperty(this,"x",j),Object.defineProperty(this,"y",I),O.extend(this,F),this._bound=!0),E.bind.apply(this,arguments),this}}}),O.extend(P.prototype,E,{constructor:P,set:function(t,e){return this.x=t,this.y=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this},clear:function(){return this.x=0,this.y=0,this},clone:function(){return new P(this.x,this.y)},add:function(t,e){return arguments.length<=0||(arguments.length<=1?"number"==typeof t?(this.x+=t,this.y+=t):t&&"number"==typeof t.x&&"number"==typeof t.y&&(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=e)),this},addSelf:function(t){return this.add.apply(this,arguments)},sub:function(t,e){return arguments.length<=0||(arguments.length<=1?"number"==typeof t?(this.x-=t,this.y-=t):t&&"number"==typeof t.x&&"number"==typeof t.y&&(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=e)),this},subtract:function(){return this.sub.apply(this,arguments)},subSelf:function(t){return this.sub.apply(this,arguments)},subtractSelf:function(t){return this.sub.apply(this,arguments)},multiply:function(t,e){return arguments.length<=0||(arguments.length<=1?"number"==typeof t?(this.x*=t,this.y*=t):t&&"number"==typeof t.x&&"number"==typeof t.y&&(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=e)),this},multiplySelf:function(t){return this.multiply.apply(this,arguments)},multiplyScalar:function(t){return this.multiply(t)},divide:function(t,e){return arguments.length<=0||(arguments.length<=1?"number"==typeof t?(this.x/=t,this.y/=t):t&&"number"==typeof t.x&&"number"==typeof t.y&&(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=e),O.isNaN(this.x)&&(this.x=0),O.isNaN(this.y)&&(this.y=0)),this},divideSelf:function(t){return this.divide.apply(this,arguments)},divideScalar:function(t){return this.divide(t)},negate:function(){return this.multiply(-1)},dot:function(t){return this.x*t.x+this.y*t.y},length:function(){return Math.sqrt(this.lengthSquared())},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},setLength:function(t){return this.normalize().multiplyScalar(t)},equals:function(t,e){return e=void 0===e?1e-4:e,this.distanceTo(t)<e},lerp:function(t,e){var n=(t.x-this.x)*e+this.x,i=(t.y-this.y)*e+this.y;return this.set(n,i)},isZero:function(t){return t=void 0===t?1e-4:t,this.length()<t},toString:function(){return this.x+", "+this.y},toObject:function(){return{x:this.x,y:this.y}},rotate:function(t){var e=Math.cos(t),n=Math.sin(t);return this.x=this.x*e-this.y*n,this.y=this.x*n+this.y*e,this}});var F={constructor:P,set:function(t,e){return this._x=t,this._y=e,this.trigger(E.Types.change)},copy:function(t){return this._x=t.x,this._y=t.y,this.trigger(E.Types.change)},clear:function(){return this._x=0,this._y=0,this.trigger(E.Types.change)},clone:function(){return new P(this._x,this._y)},add:function(t,e){return arguments.length<=0?this:(arguments.length<=1?"number"==typeof t?(this._x+=t,this._y+=t):t&&"number"==typeof t.x&&"number"==typeof t.y&&(this._x+=t.x,this._y+=t.y):(this._x+=t,this._y+=e),this.trigger(E.Types.change))},sub:function(t,e){return arguments.length<=0?this:(arguments.length<=1?"number"==typeof t?(this._x-=t,this._y-=t):t&&"number"==typeof t.x&&"number"==typeof t.y&&(this._x-=t.x,this._y-=t.y):(this._x-=t,this._y-=e),this.trigger(E.Types.change))},multiply:function(t,e){return arguments.length<=0?this:(arguments.length<=1?"number"==typeof t?(this._x*=t,this._y*=t):t&&"number"==typeof t.x&&"number"==typeof t.y&&(this._x*=t.x,this._y*=t.y):(this._x*=t,this._y*=e),this.trigger(E.Types.change))},divide:function(t,e){return arguments.length<=0?this:(arguments.length<=1?"number"==typeof t?(this._x/=t,this._y/=t):t&&"number"==typeof t.x&&"number"==typeof t.y&&(this._x/=t.x,this._y/=t.y):(this._x/=t,this._y/=e),O.isNaN(this._x)&&(this._x=0),O.isNaN(this._y)&&(this._y=0),this.trigger(E.Types.change))},dot:function(t){return this._x*t.x+this._y*t.y},lengthSquared:function(){return this._x*this._x+this._y*this._y},distanceToSquared:function(t){var e=this._x-t.x,n=this._y-t.y;return e*e+n*n},lerp:function(t,e){var n=(t.x-this._x)*e+this._x,i=(t.y-this._y)*e+this._y;return this.set(n,i)},toString:function(){return this._x+", "+this._y},toObject:function(){return{x:this._x,y:this._y}},rotate:function(t){var e=Math.cos(t),n=Math.sin(t);return this._x=this._x*e-this._y*n,this._y=this._x*n+this._y*e,this}},j={enumerable:!0,get:function(){return this._x},set:function(t){this._x=t,this.trigger(E.Types.change,"x")}},I={enumerable:!0,get:function(){return this._y},set:function(t){this._y=t,this.trigger(E.Types.change,"y")}};function z(t,e,n,i,r,o,s){P.call(this,t,e),this._broadcast=function(){this.trigger(E.Types.change)}.bind(this),this._command=s||g.move,this._relative=!0;var a="number"==typeof n,l="number"==typeof i,c="number"==typeof r,h="number"==typeof o;(a||l||c||h)&&z.AppendCurveProperties(this),a&&(this.controls.left.x=n),l&&(this.controls.left.y=i),c&&(this.controls.right.x=r),h&&(this.controls.right.y=o)}P.MakeObservable(P.prototype),O.extend(z,{AppendCurveProperties:function(t){t.relative=!0,t.controls={},t.controls.left=new P(0,0),t.controls.right=new P(0,0)},MakeObservable:function(t){Object.defineProperty(t,"command",{enumerable:!0,get:function(){return this._command},set:function(t){this._command=t,this._command!==g.curve||O.isObject(this.controls)||z.AppendCurveProperties(this),this.trigger(E.Types.change)}}),Object.defineProperty(t,"relative",{enumerable:!0,get:function(){return this._relative},set:function(t){this._relative!=t&&(this._relative=!!t,this.trigger(E.Types.change))}}),O.extend(t,P.prototype,L),t.bind=t.on=function(){var t=this._bound;P.prototype.bind.apply(this,arguments),t||O.extend(this,L)}}});var L={constructor:z,listen:function(){return O.isObject(this.controls)||z.AppendCurveProperties(this),this.controls.left.bind(E.Types.change,this._broadcast),this.controls.right.bind(E.Types.change,this._broadcast),this},ignore:function(){return this.controls.left.unbind(E.Types.change,this._broadcast),this.controls.right.unbind(E.Types.change,this._broadcast),this},copy:function(t){return this.x=t.x,this.y=t.y,"string"==typeof t.command&&(this.command=t.command),O.isObject(t.controls)&&(O.isObject(this.controls)||z.AppendCurveProperties(this),this.controls.left.copy(t.controls.left),this.controls.right.copy(t.controls.right)),"boolean"==typeof t.relative&&(this.relative=t.relative),this.command===g.arc&&(this.rx=t.rx,this.ry=t.ry,this.xAxisRotation=t.xAxisRotation,this.largeArcFlag=t.largeArcFlag,this.sweepFlag=t.sweepFlag),this},clone:function(){var t=this.controls,e=new z(this.x,this.y,t&&t.left.x,t&&t.left.y,t&&t.right.x,t&&t.right.y,this.command);return e.relative=this._relative,e},toObject:function(){var t={x:this.x,y:this.y};return this._command&&(t.command=this._command),this._relative&&(t.relative=this._relative),this.controls&&(t.controls={left:this.controls.left.toObject(),right:this.controls.right.toObject()}),t},toString:function(){return this.controls?[this._x,this._y,this.controls.left.x,this.controls.left.y,this.controls.right.x,this.controls.right.y,this._command,this._relative?1:0].join(", "):[this._x,this._y].join(", ")}};z.MakeObservable(z.prototype);var D=0,B={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.7.8",PublishDate:"2021-07-14T02:15:23.697Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return D++}},V=Math.PI/2,W={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]},U=function(t,e,n,i,r){var o=1-t;return o*o*o*e+3*o*o*t*n+3*o*t*t*i+t*t*t*r},N=function(t,e,n,i,r,o,s,a,l){var c=(l=l||W.RecursionLimit)+1;if(Math.abs(t-s)<.001&&Math.abs(e-a)<.001)return[new z(s,a)];for(var h=[],u=0;u<c;u++){var d=u/c,f=U(d,t,n,r,s),p=U(d,e,i,o,a);h.push(new z(f,p))}return h},q=function(t,e,n,i,r,o,s,a,l){if(t===n&&e===i&&r===s&&o===a){var c=s-t,h=a-e;return Math.sqrt(c*c+h*h)}var u=9*(n-r)+3*(s-t),d=6*(t+r)-12*n,f=3*(n-t),p=9*(i-o)+3*(a-e),g=6*(e+o)-12*i,m=3*(i-e);return G((function(t){var e=(u*t+d)*t+f,n=(p*t+g)*t+m;return Math.sqrt(e*e+n*n)}),0,1,l||W.RecursionLimit)},H=function(t,e,n,i,r,o,s,a){for(var l,c,h,u,d,f,p,g,m=[],v=[[],[]],y=0;y<2;++y)if(0==y?(c=6*t-12*n+6*r,l=-3*t+9*n-9*r+3*s,h=3*n-3*t):(c=6*e-12*i+6*o,l=-3*e+9*i-9*o+3*a,h=3*i-3*e),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;0<(u=-h/c)&&u<1&&m.push(u)}else p=c*c-4*h*l,g=Math.sqrt(p),p<0||(0<(d=(-c+g)/(2*l))&&d<1&&m.push(d),0<(f=(-c-g)/(2*l))&&f<1&&m.push(f));for(var _,b=m.length,w=b;b--;)_=1-(u=m[b]),v[0][b]=_*_*_*t+3*_*_*u*n+3*_*u*u*r+u*u*u*s,v[1][b]=_*_*_*e+3*_*_*u*i+3*_*u*u*o+u*u*u*a;return v[0][w]=t,v[1][w]=e,v[0][w+1]=s,v[1][w+1]=a,v[0].length=v[1].length=w+2,{min:{x:Math.min.apply(0,v[0]),y:Math.min.apply(0,v[1])},max:{x:Math.max.apply(0,v[0]),y:Math.max.apply(0,v[1])}}},G=function(t,e,n,i){for(var r=W.abscissas[i-2],o=W.weights[i-2],s=.5*(n-e),a=s+e,l=0,c=i+1>>1,h=1&i?o[l++]*t(a):0;l<c;){var u=s*r[l];h+=o[l++]*(t(a+u)+t(a-u))}return s*h},Y=function(t,e){for(var n=t.length,i=n-1,r=0;r<n;r++){var o=t[r];O.isObject(o.controls)||z.AppendCurveProperties(o);var s=e?x(r-1,n):Math.max(r-1,0),a=e?x(r+1,n):Math.min(r+1,i),l=t[s],c=o,h=t[a];X(l,c,h),c.command=0===r?g.move:g.curve}},X=function(t,e,n){var i=P.angleBetween(t,e),r=P.angleBetween(n,e),o=P.distanceBetween(t,e),s=P.distanceBetween(n,e),a=(i+r)/2;return o<1e-4||s<1e-4?("boolean"!=typeof e.relative||e.relative||(e.controls.left.copy(e),e.controls.right.copy(e)),e):(o*=.33,s*=.33,r<i?a+=V:a-=V,e.controls.left.x=Math.cos(a)*o,e.controls.left.y=Math.sin(a)*o,a-=Math.PI,e.controls.right.x=Math.cos(a)*s,e.controls.right.y=Math.sin(a)*s,"boolean"!=typeof e.relative||e.relative||(e.controls.left.x+=e.x,e.controls.left.y+=e.y,e.controls.right.x+=e.x,e.controls.right.y+=e.y),e)},Z=function(t,e,n){return new P(2*t.x-(e.x+t.x)-(n?t.x:0),2*t.y-(e.y+t.y)-(n?t.y:0))},K=Object.freeze({__proto__:null,Curve:W,getComponentOnCubicBezier:U,subdivide:N,getCurveLength:q,getCurveBoundingBox:H,integrate:G,getCurveFromPoints:Y,getControlPoints:X,getReflection:Z,getAnchorsFromArcData:function(t,e,n,i,r,o,s){for(var a=B.Resolution,l=0;l<a;l++){var c=(l+1)/a;s&&(c=1-c);var h=c*o+r,u=new z(n*Math.cos(h),i*Math.sin(h));z.AppendCurveProperties(u),u.command=g.line}}}),$=v.devicePixelRatio||1,J=function(t){return $/function(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1}(t)},Q=Math.cos,tt=Math.sin,et=Math.tan,nt=[];function it(t,e,n,i,r,o){this.elements=new k(9);var s=t;Array.isArray(s)||(s=Array.prototype.slice.call(arguments)),this.identity(),s.length>0&&this.set(s)}function rt(){this.renderer={},this._renderer.flagMatrix=rt.FlagMatrix.bind(this),this.isShape=!0,this.id=B.Identifier+B.uniqueId(),this.classList=[],this.matrix=new it,this.translation=new P,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}function ot(){Array.call(this),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&Array.prototype.push.apply(this,arguments[0]):arguments.length>0&&Array.prototype.push.apply(this,arguments)}function st(t){ot.apply(this,arguments),Object.defineProperty(this,"_events",{value:{},enumerable:!1}),this.ids={},this.attach(Array.isArray(t)?t:Array.prototype.slice.call(arguments)),this.on(E.Types.insert,this.attach),this.on(E.Types.remove,this.detach)}_(it),O.extend(it,{Identity:[1,0,0,0,1,0,0,0,1],Multiply:function(t,e,n){if(e.length<=3){var i=t,r=e[0]||0,o=e[1]||0,s=e[2]||0;return{x:i[0]*r+i[1]*o+i[2]*s,y:i[3]*r+i[4]*o+i[5]*s,z:i[6]*r+i[7]*o+i[8]*s}}var a=t[0],l=t[1],c=t[2],h=t[3],u=t[4],d=t[5],f=t[6],p=t[7],g=t[8],m=e[0],v=e[1],y=e[2],_=e[3],b=e[4],w=e[5],x=e[6],S=e[7],R=e[8];return(n=n||new k(9))[0]=a*m+l*_+c*x,n[1]=a*v+l*b+c*S,n[2]=a*y+l*w+c*R,n[3]=h*m+u*_+d*x,n[4]=h*v+u*b+d*S,n[5]=h*y+u*w+d*R,n[6]=f*m+p*_+g*x,n[7]=f*v+p*b+g*S,n[8]=f*y+p*w+g*R,n}}),O.extend(it.prototype,E,{constructor:it,manual:!1,set:function(t,e,n,i,r,o,s,a,l){var c;return void 0===e&&(t=(c=t)[0],e=c[1],n=c[2],i=c[3],r=c[4],o=c[5],s=c[6],a=c[7],l=c[8]),this.elements[0]=t,this.elements[1]=e,this.elements[2]=n,this.elements[3]=i,this.elements[4]=r,this.elements[5]=o,this.elements[6]=s,this.elements[7]=a,this.elements[8]=l,this.trigger(E.Types.change)},copy:function(t){return this.elements[0]=t.elements[0],this.elements[1]=t.elements[1],this.elements[2]=t.elements[2],this.elements[3]=t.elements[3],this.elements[4]=t.elements[4],this.elements[5]=t.elements[5],this.elements[6]=t.elements[6],this.elements[7]=t.elements[7],this.elements[8]=t.elements[8],this.manual=t.manual,this.trigger(E.Types.change)},identity:function(){return this.elements[0]=it.Identity[0],this.elements[1]=it.Identity[1],this.elements[2]=it.Identity[2],this.elements[3]=it.Identity[3],this.elements[4]=it.Identity[4],this.elements[5]=it.Identity[5],this.elements[6]=it.Identity[6],this.elements[7]=it.Identity[7],this.elements[8]=it.Identity[8],this.trigger(E.Types.change)},multiply:function(t,e,n,i,r,o,s,a,l){if(void 0===e)return this.elements[0]*=t,this.elements[1]*=t,this.elements[2]*=t,this.elements[3]*=t,this.elements[4]*=t,this.elements[5]*=t,this.elements[6]*=t,this.elements[7]*=t,this.elements[8]*=t,this.trigger(E.Types.change);if(void 0===i)return t=t||0,e=e||0,n=n||0,{x:(r=this.elements)[0]*t+r[1]*e+r[2]*n,y:r[3]*t+r[4]*e+r[5]*n,z:r[6]*t+r[7]*e+r[8]*n};var c=this.elements,h=[t,e,n,i,r,o,s,a,l],u=c[0],d=c[1],f=c[2],p=c[3],g=c[4],m=c[5],v=c[6],y=c[7],_=c[8],b=h[0],w=h[1],x=h[2],k=h[3],S=h[4],R=h[5],C=h[6],O=h[7],A=h[8];return this.elements[0]=u*b+d*k+f*C,this.elements[1]=u*w+d*S+f*O,this.elements[2]=u*x+d*R+f*A,this.elements[3]=p*b+g*k+m*C,this.elements[4]=p*w+g*S+m*O,this.elements[5]=p*x+g*R+m*A,this.elements[6]=v*b+y*k+_*C,this.elements[7]=v*w+y*S+_*O,this.elements[8]=v*x+y*R+_*A,this.trigger(E.Types.change)},inverse:function(t){var e=this.elements;t=t||new it;var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],h=e[8],u=h*s-a*c,d=-h*o+a*l,f=c*o-s*l,p=n*u+i*d+r*f;return p?(p=1/p,t.elements[0]=u*p,t.elements[1]=(-h*i+r*c)*p,t.elements[2]=(a*i-r*s)*p,t.elements[3]=d*p,t.elements[4]=(h*n-r*l)*p,t.elements[5]=(-a*n+r*o)*p,t.elements[6]=f*p,t.elements[7]=(-c*n+i*l)*p,t.elements[8]=(s*n-i*o)*p,t):null},scale:function(t,e){var n=arguments.length;return n<=1&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)},rotate:function(t){var e=Q(t),n=tt(t);return this.multiply(e,-n,0,n,e,0,0,0,1)},translate:function(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)},skewX:function(t){var e=et(t);return this.multiply(1,e,0,0,1,0,0,0,1)},skewY:function(t){var e=et(t);return this.multiply(1,0,0,e,1,0,0,0,1)},toString:function(t){return nt.length=0,this.toTransformArray(t,nt),nt.map(S).join(" ")},toTransformArray:function(t,e){var n=this.elements,i=!!e,r=n[0],o=n[1],s=n[2],a=n[3],l=n[4],c=n[5];if(t){var h=n[6],u=n[7],d=n[8];return i?(e[0]=r,e[1]=a,e[2]=h,e[3]=o,e[4]=l,e[5]=u,e[6]=s,e[7]=c,void(e[8]=d)):[r,a,h,o,l,u,s,c,d]}return i?(e[0]=r,e[1]=a,e[2]=o,e[3]=l,e[4]=s,void(e[5]=c)):[r,a,o,l,s,c]},toArray:function(t,e){var n=this.elements,i=!!e,r=n[0],o=n[1],s=n[2],a=n[3],l=n[4],c=n[5];if(t){var h=n[6],u=n[7],d=n[8];return i?(e[0]=r,e[1]=o,e[2]=s,e[3]=a,e[4]=l,e[5]=c,e[6]=h,e[7]=u,void(e[8]=d)):[r,o,s,a,l,c,h,u,d]}return i?(e[0]=r,e[1]=o,e[2]=s,e[3]=a,e[4]=l,void(e[5]=c)):[r,o,s,a,l,c]},toObject:function(){return{elements:this.toArray(!0),manual:!!this.manual}},clone:function(){return(new it).copy(this)}}),O.extend(rt,{FlagMatrix:function(){this._flagMatrix=!0},MakeObservable:function(t){var e={enumerable:!1,get:function(){return this._translation},set:function(t){this._translation&&this._translation.unbind(E.Types.change,this._renderer.flagMatrix),this._translation=t,this._translation.bind(E.Types.change,this._renderer.flagMatrix),rt.FlagMatrix.call(this)}};Object.defineProperty(t,"translation",e),Object.defineProperty(t,"position",e),Object.defineProperty(t,"rotation",{enumerable:!0,get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}}),Object.defineProperty(t,"scale",{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof P&&this._scale.unbind(E.Types.change,this._renderer.flagMatrix),this._scale=t,this._scale instanceof P&&this._scale.bind(E.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}}),Object.defineProperty(t,"skewX",{enumerable:!0,get:function(){return this._skewX},set:function(t){this._skewX=t,this._flagMatrix=!0}}),Object.defineProperty(t,"skewY",{enumerable:!0,get:function(){return this._skewY},set:function(t){this._skewY=t,this._flagMatrix=!0}}),Object.defineProperty(t,"matrix",{enumerable:!0,get:function(){return this._matrix},set:function(t){this._matrix=t,this._flagMatrix=!0}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return this._id},set:function(t){var e=this._id;t!==this._id&&(this._id=t,this._flagId=!0,this.parent&&(delete this.parent.children.ids[e],this.parent.children.ids[this._id]=this))}}),Object.defineProperty(t,"className",{enumerable:!0,get:function(){return this._className},set:function(t){if(this._flagClassName=this._className!==t,this._flagClassName){for(var e=this._className.split(/\s+?/),n=t.split(/\s+?/),i=0;i<e.length;i++){var r=e[i],o=Array.prototype.indexOf.call(this.classList,r);o>=0&&this.classList.splice(o,1)}this.classList=this.classList.concat(n)}this._className=t}}),Object.defineProperty(t,"renderer",{enumerable:!1,get:function(){return this._renderer},set:function(t){this._renderer=t}})}}),O.extend(rt.prototype,E,{constructor:rt,_flagId:!0,_flagMatrix:!0,_flagScale:!1,_flagClassName:!1,_id:"",_translation:null,_rotation:0,_scale:1,_skewX:0,_skewY:0,_className:"",addTo:function(t){return t.add(this),this},clone:function(t){var e=new rt;return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},_update:function(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.translation.x,this.translation.y),this._scale instanceof P?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),t&&this.parent&&this.parent._update&&this.parent._update(),this},flagReset:function(){return this._flagId=this._flagMatrix=this._flagScale=this._flagClassName=!1,this}}),rt.MakeObservable(rt.prototype),ot.prototype=new Array,O.extend(ot.prototype,E,{constructor:ot,pop:function(){var t=Array.prototype.pop.apply(this,arguments);return this.trigger(E.Types.remove,[t]),t},shift:function(){var t=Array.prototype.shift.apply(this,arguments);return this.trigger(E.Types.remove,[t]),t},push:function(){var t=Array.prototype.push.apply(this,arguments);return this.trigger(E.Types.insert,arguments),t},unshift:function(){var t=Array.prototype.unshift.apply(this,arguments);return this.trigger(E.Types.insert,arguments),t},splice:function(){var t,e=Array.prototype.splice.apply(this,arguments);return this.trigger(E.Types.remove,e),arguments.length>2&&(t=this.slice(arguments[0],arguments[0]+arguments.length-2),this.trigger(E.Types.insert,t),this.trigger(E.Types.order)),e},sort:function(){return Array.prototype.sort.apply(this,arguments),this.trigger(E.Types.order),this},reverse:function(){return Array.prototype.reverse.apply(this,arguments),this.trigger(E.Types.order),this},indexOf:function(){return Array.prototype.indexOf.apply(this,arguments)}}),st.prototype=new ot,O.extend(st.prototype,{constructor:st,attach:function(t){for(var e=0;e<t.length;e++){var n=t[e];n&&n.id&&(this.ids[n.id]=n)}return this},detach:function(t){for(var e=0;e<t.length;e++)delete this.ids[t[e].id];return this}});var at=Math.min,lt=Math.max;function ct(t){rt.call(this,!0),this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(t)?t:Array.prototype.slice.call(arguments)}function ht(t,e){var n,i=t.parent;function r(){e.subtractions.length>0&&(n=Array.prototype.indexOf.call(e.subtractions,t))>=0&&e.subtractions.splice(n,1),e.additions.length>0&&(n=Array.prototype.indexOf.call(e.additions,t))>=0&&e.additions.splice(n,1),t.parent=e,e.additions.push(t),e._flagAdditions=!0}function o(){(n=Array.prototype.indexOf.call(i.additions,t))>=0&&i.additions.splice(n,1),(n=Array.prototype.indexOf.call(i.subtractions,t))<0&&(i.subtractions.push(t),i._flagSubtractions=!0)}i!==e?(i&&i.children.ids[t.id]&&(n=Array.prototype.indexOf.call(i.children,t),i.children.splice(n,1),o()),e?r():(o(),i._flagAdditions&&0===i.additions.length&&(i._flagAdditions=!1),i._flagSubtractions&&0===i.subtractions.length&&(i._flagSubtractions=!1),delete t.parent)):r()}O.extend(ct,{Children:st,InsertChildren:function(t){for(var e=0;e<t.length;e++)ht.call(this,t[e],this)},RemoveChildren:function(t){for(var e=0;e<t.length;e++)ht.call(this,t[e])},OrderChildren:function(t){this._flagOrder=!0},Properties:["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"],MakeObservable:function(t){var e=ct.Properties;Object.defineProperty(t,"visible",{enumerable:!0,get:function(){return this._visible},set:function(t){this._flagVisible=this._visible!==t||this._flagVisible,this._visible=t}}),Object.defineProperty(t,"opacity",{enumerable:!0,get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!==t||this._flagOpacity,this._opacity=t}}),Object.defineProperty(t,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._flagBeginning=this._beginning!==t||this._flagBeginning,this._beginning=t}}),Object.defineProperty(t,"ending",{enumerable:!0,get:function(){return this._ending},set:function(t){this._flagEnding=this._ending!==t||this._flagEnding,this._ending=t}}),Object.defineProperty(t,"length",{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(var t=0;t<this.children.length;t++){var e=this.children[t];this._length+=e.length}}return this._length}}),rt.MakeObservable(t),ct.MakeGetterSetters(t,e),Object.defineProperty(t,"children",{enumerable:!0,get:function(){return this._children},set:function(t){var e=ct.InsertChildren.bind(this),n=ct.RemoveChildren.bind(this),i=ct.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&n(this._children)),this._children=new st(t),this._children.bind(E.Types.insert,e),this._children.bind(E.Types.remove,n),this._children.bind(E.Types.order,i),t.length>0&&e(t)}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,t.clip||(t.clip=!0)}})},MakeGetterSetters:function(t,e){Array.isArray(e)||(e=[e]),O.each(e,(function(e){ct.MakeGetterSetter(t,e)}))},MakeGetterSetter:function(t,e){var n="_"+e;Object.defineProperty(t,e,{enumerable:!0,get:function(){return this[n]},set:function(t){this[n]=t;for(var i=0;i<this.children.length;i++)this.children[i][e]=t}})}}),O.extend(ct.prototype,rt.prototype,{constructor:ct,_flagAdditions:!1,_flagSubtractions:!1,_flagOrder:!1,_flagOpacity:!0,_flagBeginning:!1,_flagEnding:!1,_flagLength:!1,_flagMask:!1,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_length:0,_mask:null,clone:function(t){var e=new ct,n=this.children.map((function(t){return t.clone()}));return e.add(n),e.opacity=this.opacity,this.mask&&(e.mask=this.mask),e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.className=this.className,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var t={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof P?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};return this.matrix.manual&&(t.matrix=this.matrix.toObject()),O.each(this.children,(function(e,n){t.children[n]=e.toObject()}),this),t},corner:function(){for(var t=this.getBoundingClientRect(!0),e=0;e<this.children.length;e++){var n=this.children[e];n.translation.x-=t.left,n.translation.y-=t.top}return this},center:function(){for(var t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,n=t.top+t.height/2-this.translation.y,i=0;i<this.children.length;i++){var r=this.children[i];r.isShape&&(r.translation.x-=e,r.translation.y-=n)}return this},getById:function(t){var e=null;return function n(i){if(i.id===t)return i;if(i.children)for(var r=0;r<i.children.length;r++)if(e=n(i.children[r]))return e;return null}(this)},getByClassName:function(t){var e=[];return function n(i){if(Array.prototype.indexOf.call(i.classList,t)>=0&&e.push(i),i.children)for(var r=0;r<i.children.length;r++)n(i.children[r]);return e}(this)},getByType:function(t){var e=[];return function n(i){if(i instanceof t&&e.push(i),i.children)for(var r=0;r<i.children.length;r++)n(i.children[r]);return e}(this)},add:function(t){t=t instanceof Array?t.slice():Array.prototype.slice.call(arguments);for(var e=0;e<t.length;e++){var n=t[e];if(n&&n.id){var i=Array.prototype.indexOf.call(this.children,n);i>=0&&this.children.splice(i,1),this.children.push(n)}}return this},remove:function(t){var e=arguments.length,n=this.parent;if(e<=0&&n)return n.remove(this),this;t=t instanceof Array?t.slice():Array.prototype.slice.call(arguments);for(var i=0;i<t.length;i++){var r=t[i];if(r&&this.children.ids[r.id]){var o=this.children.indexOf(r);o>=0&&this.children.splice(o,1)}}return this},getBoundingClientRect:function(t){var e,n,i,r,o,s,a,l,c,h;this._update(!0);var u=1/0,d=-1/0,f=1/0,p=-1/0,g=/texture|gradient/i;n=t?this._matrix:b(this);for(var m=0;m<this.children.length;m++){var v=this.children[m];v.visible&&!g.test(v._renderer.type)&&(a="number"!=typeof(e=v.getBoundingClientRect(t)).top||O.isNaN(e.top)||!isFinite(e.top),l="number"!=typeof e.left||O.isNaN(e.left)||!isFinite(e.left),c="number"!=typeof e.right||O.isNaN(e.right)||!isFinite(e.right),h="number"!=typeof e.bottom||O.isNaN(e.bottom)||!isFinite(e.bottom),a||l||c||h||(f=at(e.top,f),u=at(e.left,u),d=lt(e.right,d),p=lt(e.bottom,p)))}return t&&(i=n.multiply(u,f,1),r=n.multiply(u,p,1),o=n.multiply(d,f,1),s=n.multiply(d,p,1),f=at(i.y,r.y,o.y,s.y),u=at(i.x,r.x,o.x,s.x),d=lt(i.x,r.x,o.x,s.x),p=lt(i.y,r.y,o.y,s.y)),{top:f,left:u,right:d,bottom:p,width:d-u,height:p-f}},noFill:function(){return this.children.forEach((function(t){t.noFill()})),this},noStroke:function(){return this.children.forEach((function(t){t.noStroke()})),this},subdivide:function(){var t=arguments;return this.children.forEach((function(e){e.subdivide.apply(e,t)})),this},_update:function(){var t,e,n;if(this._flagBeginning||this._flagEnding){var i=Math.min(this._beginning,this._ending),r=Math.max(this._beginning,this._ending),o=this.length,s=0,a=i*o,l=r*o;for(t=0;t<this.children.length;t++)a>s+(e=(n=this.children[t]).length)?(n.beginning=1,n.ending=1):l<s?(n.beginning=0,n.ending=0):a>s&&a<s+e?(n.beginning=(a-s)/e,n.ending=1):l>s&&l<s+e?(n.beginning=0,n.ending=(l-s)/e):(n.beginning=0,n.ending=1),s+=e}return rt.prototype._update.apply(this,arguments)},flagReset:function(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,rt.prototype.flagReset.call(this),this}}),ct.MakeObservable(ct.prototype);var ut=[],dt=2*Math.PI,ft=Math.max,pt=Math.min,gt=Math.abs,mt=Math.sin,vt=Math.cos,yt=Math.acos,_t=Math.sqrt,bt=function(t){return 1==t[0]&&0==t[3]&&0==t[1]&&1==t[4]&&0==t[2]&&0==t[5]},wt={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(t,e){return t.tagName=t.nodeName=e||"canvas",t.nodeType=1,t.getAttribute=function(t){return this[t]},t.setAttribute=function(t,e){return this[t]=e,this},t},group:{renderChild:function(t){wt[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){if(!this._visible)return this;this._update();var e=this._matrix.elements,n=this.parent;this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);var i=this._mask,r=bt(e),o=!r||!!i;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,o&&(t.save(),r||t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),i&&wt[i._renderer.type].render.call(i,t,!0),this._opacity>0&&0!==this._scale)for(var s=0;s<this.children.length;s++){var a=this.children[s];wt[a._renderer.type].render.call(a,t)}return o&&t.restore(),this.flagReset()}},path:{render:function(t,e,n){var i,r,o,s,a,l,c,h,u,d,f,p,m,v,y,_,b,w,k,S,R,C,O,E,A,M,T,F,j,I,z,L,D,B,V;if(V=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,I=this._mask,z=this._clip,a=this._opacity*(V||1),l=this._visible,!e&&(!l||z||0===a))return this;this._update(),i=this._matrix.elements,r=this._stroke,o=this._linewidth,s=this._fill,c=this._cap,h=this._join,u=this._miter,d=this._closed,m=(p=(f=this._renderer.vertices).length)-1,L=bt(i),B=this.dashes,L||(t.save(),t.transform(i[0],i[3],i[1],i[4],i[2],i[5])),I&&wt[I._renderer.type].render.call(I,t,!0),s&&("string"==typeof s?t.fillStyle=s:(wt[s._renderer.type].render.call(s,t),t.fillStyle=s._renderer.effect)),r&&("string"==typeof r?t.strokeStyle=r:(wt[r._renderer.type].render.call(r,t),t.strokeStyle=r._renderer.effect),o&&(t.lineWidth=o),u&&(t.miterLimit=u),h&&(t.lineJoin=h),!d&&c&&(t.lineCap=c)),"number"==typeof a&&(t.globalAlpha=a),B&&B.length>0&&(t.lineDashOffset=B.offset||0,t.setLineDash(B)),t.beginPath();for(var W=0;W<f.length;W++)switch(F=(b=f[W]).x,j=b.y,b.command){case g.close:t.closePath();break;case g.arc:var U=b.rx,N=b.ry,q=b.xAxisRotation,H=b.largeArcFlag,G=b.sweepFlag,Y=(_=f[y=d?x(W-1,p):ft(W-1,0)]).x,X=_.y;wt.renderSvgArcCommand(t,Y,X,U,N,H,G,q,F,j);break;case g.curve:y=d?x(W-1,p):Math.max(W-1,0),v=d?x(W+1,p):Math.min(W+1,m),_=f[y],w=f[v],E=_.controls&&_.controls.right||P.zero,A=b.controls&&b.controls.left||P.zero,_._relative?(C=E.x+_.x,O=E.y+_.y):(C=E.x,O=E.y),b._relative?(S=A.x+b.x,R=A.y+b.y):(S=A.x,R=A.y),t.bezierCurveTo(C,O,S,R,F,j),W>=m&&d&&(w=k,M=b.controls&&b.controls.right||P.zero,T=w.controls&&w.controls.left||P.zero,b._relative?(C=M.x+b.x,O=M.y+b.y):(C=M.x,O=M.y),w._relative?(S=T.x+w.x,R=T.y+w.y):(S=T.x,R=T.y),F=w.x,j=w.y,t.bezierCurveTo(C,O,S,R,F,j));break;case g.line:t.lineTo(F,j);break;case g.move:k=b,t.moveTo(F,j)}return d&&t.closePath(),z||n||(wt.isHidden.test(s)||((D=s._renderer&&s._renderer.offset)&&(t.save(),t.translate(-s._renderer.offset.x,-s._renderer.offset.y),t.scale(s._renderer.scale.x,s._renderer.scale.y)),t.fill(),D&&t.restore()),wt.isHidden.test(r)||((D=r._renderer&&r._renderer.offset)&&(t.save(),t.translate(-r._renderer.offset.x,-r._renderer.offset.y),t.scale(r._renderer.scale.x,r._renderer.scale.y),t.lineWidth=o/r._renderer.scale.x),t.stroke(),D&&t.restore())),L||t.restore(),z&&!n&&t.clip(),B&&B.length>0&&t.setLineDash(ut),this.flagReset()}},text:{render:function(t,e,n){var i=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,r=this._opacity*i,o=this._visible,s=this._mask,a=this._clip;if(!e&&(!o||a||0===r))return this;this._update();var l,c,h,u,d,f,p,g,m,v,y,_=this._matrix.elements,b=this._stroke,w=this._linewidth,x=this._fill,k=this._decoration,S=bt(_),R=x._renderer&&x._renderer.offset&&b._renderer&&b._renderer.offset,C=this.dashes,O=wt.alignments[this._alignment]||this._alignment,E=this._baseline;if(S||(t.save(),t.transform(_[0],_[3],_[1],_[4],_[2],_[5])),s&&wt[s._renderer.type].render.call(s,t,!0),R||(t.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),t.textAlign=O,t.textBaseline=E,x&&("string"==typeof x?t.fillStyle=x:(wt[x._renderer.type].render.call(x,t),t.fillStyle=x._renderer.effect)),b&&("string"==typeof b?t.strokeStyle=b:(wt[b._renderer.type].render.call(b,t),t.strokeStyle=b._renderer.effect),w&&(t.lineWidth=w)),"number"==typeof r&&(t.globalAlpha=r),C&&C.length>0&&(t.lineDashOffset=C.offset||0,t.setLineDash(C)),a||n||(wt.isHidden.test(x)||(x._renderer&&x._renderer.offset?(f=x._renderer.scale.x,p=x._renderer.scale.y,t.save(),t.translate(-x._renderer.offset.x,-x._renderer.offset.y),t.scale(f,p),l=this._size/x._renderer.scale.y,c=this._leading/x._renderer.scale.y,t.font=[this._style,this._weight,l+"px/",c+"px",this._family].join(" "),h=x._renderer.offset.x/x._renderer.scale.x,u=x._renderer.offset.y/x._renderer.scale.y,t.fillText(this.value,h,u),t.restore()):t.fillText(this.value,0,0)),wt.isHidden.test(b)||(b._renderer&&b._renderer.offset?(f=b._renderer.scale.x,p=b._renderer.scale.y,t.save(),t.translate(-b._renderer.offset.x,-b._renderer.offset.y),t.scale(f,p),l=this._size/b._renderer.scale.y,c=this._leading/b._renderer.scale.y,t.font=[this._style,this._weight,l+"px/",c+"px",this._family].join(" "),h=b._renderer.offset.x/b._renderer.scale.x,u=b._renderer.offset.y/b._renderer.scale.y,d=w/b._renderer.scale.x,t.lineWidth=d,t.strokeText(this.value,h,u),t.restore()):t.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(k)){var A=t.measureText(this.value),M=1;switch(k){case"underline":m=A.actualBoundingBoxAscent,y=A.actualBoundingBoxAscent;break;case"strikethrough":m=0,y=0,M=.5}switch(E){case"top":m+=this._size*M,y+=this._size*M;break;case"baseline":case"bottom":m-=this._size*M,y-=this._size*M}switch(O){case"left":case"start":g=0,v=A.width;break;case"right":case"end":g=-A.width,v=0;break;default:g=-A.width/2,v=A.width/2}t.lineWidth=Math.max(Math.floor(this._size/15),1),t.strokeStyle=t.fillStyle,t.beginPath(),t.moveTo(g,m),t.lineTo(v,y),t.stroke()}return S||t.restore(),a&&!n&&t.clip(),C&&C.length>0&&t.setLineDash(ut),this.flagReset()}},"linear-gradient":{render:function(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var e=0;e<this.stops.length;e++){var n=this.stops[e];this._renderer.effect.addColorStop(n._offset,n._color)}}return this.flagReset()}},"radial-gradient":{render:function(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var e=0;e<this.stops.length;e++){var n=this.stops[e];this._renderer.effect.addColorStop(n._offset,n._color)}}return this.flagReset()}},texture:{render:function(t){this._update();var e=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=t.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof P||(this._renderer.offset=new P),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,e&&(this._renderer.offset.x+=e.width/2,this._renderer.offset.y+=e.height/2,this._scale instanceof P?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof P||(this._renderer.scale=new P),this._scale instanceof P?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(t,e,n,i,r,o,s,a,l,c){a=a*Math.PI/180,i=gt(i),r=gt(r);var h=(e-l)/2,u=(n-c)/2,d=vt(a)*h+mt(a)*u,f=-mt(a)*h+vt(a)*u,p=i*i,g=r*r,m=d*d,v=f*f,y=m/p+v/g;if(y>1){var _=_t(y);p=(i*=_)*i,g=(r*=_)*r}var b=p*v+g*m,w=_t(ft(0,(p*g-b)/b));o===s&&(w=-w);var k=w*i*f/r,S=-w*r*d/i,R=vt(a)*k-mt(a)*S+(e+l)/2,C=mt(a)*k+vt(a)*S+(n+c)/2,O=kt(1,0,(d-k)/i,(f-S)/r);!function(t,e,n,i,r,o,s,a,l){var c=W.Tolerance.epsilon,h=s-o,u=Math.abs(h)<c;(h=x(h,dt))<c&&(h=u?0:dt),!0!==a||u||(h===dt?h=-dt:h-=dt);for(var d=0;d<B.Resolution;d++){var f=o+d/(B.Resolution-1)*h,p=e+i*Math.cos(f),g=n+r*Math.sin(f);if(0!==l){var m=Math.cos(l),v=Math.sin(l),y=p-e,_=g-n;p=y*m-_*v+e,g=y*v+_*m+n}t.lineTo(p,g)}}(t,R,C,i,r,O,O+kt((d-k)/i,(f-S)/r,(-d-k)/i,(-f-S)/r)%dt,0===s,a)}};function xt(t){var e=!1!==t.smoothing;this.domElement=t.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=t.overdraw||!1,void 0!==this.ctx.imageSmoothingEnabled&&(this.ctx.imageSmoothingEnabled=e),this.scene=new ct,this.scene.parent=this}function kt(t,e,n,i){var r=t*n+e*i,o=_t(t*t+e*e)*_t(n*n+i*i),s=yt(ft(-1,pt(1,r/o)));return t*i-e*n<0&&(s=-s),s}O.extend(xt,{Utils:wt}),O.extend(xt.prototype,E,{constructor:xt,setSize:function(t,e,n){return this.width=t,this.height=e,this.ratio=void 0===n?J(this.ctx):n,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,this.domElement.style&&O.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this.trigger(E.Types.resize,t,e,n)},render:function(){var t=1===this.ratio;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),wt.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}});var St={Image:null,isHeadless:!1,shim:function(t,e){return xt.Utils.shim(t),void 0!==e&&(St.Image=e),St.isHeadless=!0,t}},Rt={hasEventListeners:"function"==typeof v.addEventListener,bind:function(t,e,n,i){return this.hasEventListeners?t.addEventListener(e,n,!!i):t.attachEvent("on"+e,n),Rt},unbind:function(t,e,n,i){return Rt.hasEventListeners?t.removeEventListeners(e,n,!!i):t.detachEvent("on"+e,n),Rt},getRequestAnimationFrame:function(){var t,e=0,n=["ms","moz","webkit","o"],i=v.requestAnimationFrame;if(!i){for(var r=0;r<n.length;r++)i=v[n[r]+"RequestAnimationFrame"]||i,t=v[n[r]+"CancelAnimationFrame"]||v[n[r]+"CancelRequestAnimationFrame"]||t;i=i||function(t,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),o=v.setTimeout((function(){t(i+r)}),r);return e=i+r,o}}return i}},Ct=v.document?v.document.createElement("div"):{};function Ot(t){this.name="Two.js",this.message=t}Ct.id="help-two-load",Object.defineProperty(Rt,"temp",{enumerable:!0,get:function(){return O.isElement(Ct)&&!v.document.head.contains(Ct)&&(O.extend(Ct.style,{display:"none"}),v.document.head.appendChild(Ct)),Ct}}),Ot.prototype=new Error,O.extend(Ot.prototype,{constructor:Ot});var Et,At=function(t){var e="_"+t,n="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(this,t,{enumerable:!0,get:function(){return this[e]},set:function(t){this[e]=t,this[n]=!0}})};function Mt(){this.map={}}function Tt(t,e,n){this.renderer={},this._renderer.type="stop",this.offset="number"==typeof t?t:Tt.Index<=0?0:1,this.opacity="number"==typeof n?n:1,this.color="string"==typeof e?e:Tt.Index<=0?"#fff":"#000",Tt.Index=(Tt.Index+1)%2}function Pt(t){this.renderer={},this._renderer.type="gradient",this.id=B.Identifier+B.uniqueId(),this.classList=[],this._renderer.flagStops=Pt.FlagStops.bind(this),this._renderer.bindStops=Pt.BindStops.bind(this),this._renderer.unbindStops=Pt.UnbindStops.bind(this),this.spread="pad",t&&(this.stops=t)}function Ft(t,e,n,i,r){Pt.call(this,r),this._renderer.type="linear-gradient";var o=Ft.FlagEndPoints.bind(this);this.left=(new P).bind(E.Types.change,o),this.right=(new P).bind(E.Types.change,o),"number"==typeof t&&(this.left.x=t),"number"==typeof e&&(this.left.y=e),"number"==typeof n&&(this.right.x=n),"number"==typeof i&&(this.right.y=i)}function jt(t,e,n,i,r,o){Pt.call(this,i),this._renderer.type="radial-gradient",this.center=(new P).bind(E.Types.change,function(){this._flagCenter=!0}.bind(this)),this.radius="number"==typeof n?n:20,this.focal=(new P).bind(E.Types.change,function(){this._flagFocal=!0}.bind(this)),"number"==typeof t&&(this.center.x=t),"number"==typeof e&&(this.center.y=e),this.focal.copy(this.center),"number"==typeof r&&(this.focal.x=r),"number"==typeof o&&(this.focal.y=o)}O.extend(Mt.prototype,{constructor:Mt,add:function(t,e){return this.map[t]=e,this},remove:function(t){return delete this.map[t],this},get:function(t){return this.map[t]},contains:function(t){return t in this.map}}),O.extend(Tt,{Index:0,Properties:["offset","opacity","color"],MakeObservable:function(t){O.each(Tt.Properties,(function(t){var e="_"+t,n="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(this,t,{enumerable:!0,get:function(){return this[e]},set:function(t){this[e]=t,this[n]=!0,this.parent&&(this.parent._flagStops=!0)}})}),t),Object.defineProperty(t,"renderer",{enumerable:!1,get:function(){return this._renderer},set:function(t){this._renderer=t}})}}),O.extend(Tt.prototype,E,{constructor:Tt,clone:function(){var t=new Tt;return O.each(Tt.Properties,(function(e){t[e]=this[e]}),this),t},toObject:function(){var t={};return O.each(Tt.Properties,(function(e){t[e]=this[e]}),this),t},flagReset:function(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,this}}),Tt.MakeObservable(Tt.prototype),O.extend(Pt,{Stop:Tt,Properties:["spread"],MakeObservable:function(t){O.each(Pt.Properties,At,t),Object.defineProperty(t,"stops",{enumerable:!0,get:function(){return this._stops},set:function(t){var e=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(E.Types.insert,e).unbind(E.Types.remove,n),this._stops=new ot((t||[]).slice(0)),this._stops.bind(E.Types.insert,e).bind(E.Types.remove,n),e(this._stops)}}),Object.defineProperty(t,"renderer",{enumerable:!1,get:function(){return this._renderer},set:function(t){this._renderer=t}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return this._id},set:function(t){this._id=t}})},FlagStops:function(){this._flagStops=!0},BindStops:function(t){for(var e=t.length;e--;)t[e].bind(E.Types.change,this._renderer.flagStops),t[e].parent=this;this._renderer.flagStops()},UnbindStops:function(t){for(var e=t.length;e--;)t[e].unbind(E.Types.change,this._renderer.flagStops),delete t[e].parent;this._renderer.flagStops()}}),O.extend(Pt.prototype,E,{constructor:Pt,_flagId:!1,_flagStops:!1,_flagSpread:!1,_id:"",clone:function(t){var e=new Pt(this.stops.map((function(t){return t.clone()})));return O.each(Pt.Properties,(function(t){e[t]=this[t]}),this),t&&t.add(e),e},toObject:function(){var t={stops:this.stops.map((function(t){return t.toObject()}))};return O.each(Pt.Properties,(function(e){t[e]=this[e]}),this),t},_update:function(){return(this._flagSpread||this._flagStops)&&this.trigger(E.Types.change),this},flagReset:function(){return this._flagSpread=this._flagStops=!1,this}}),Pt.MakeObservable(Pt.prototype),O.extend(Ft,{Stop:Tt,MakeObservable:function(t){Pt.MakeObservable(t)},FlagEndPoints:function(){this._flagEndPoints=!0}}),O.extend(Ft.prototype,Pt.prototype,{constructor:Ft,_flagEndPoints:!1,clone:function(t){var e=this.stops.map((function(t){return t.clone()})),n=new Ft(this.left._x,this.left._y,this.right._x,this.right._y,e);return O.each(Pt.Properties,(function(t){n[t]=this[t]}),this),t&&t.add(n),n},toObject:function(){var t=Pt.prototype.toObject.call(this);return t.left=this.left.toObject(),t.right=this.right.toObject(),t},_update:function(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(E.Types.change),this},flagReset:function(){return this._flagEndPoints=!1,Pt.prototype.flagReset.call(this),this}}),Ft.MakeObservable(Ft.prototype),O.extend(jt,{Stop:Tt,Properties:["radius"],MakeObservable:function(t){Pt.MakeObservable(t),O.each(jt.Properties,At,t)}}),O.extend(jt.prototype,Pt.prototype,{constructor:jt,_flagRadius:!1,_flagCenter:!1,_flagFocal:!1,clone:function(t){var e=this.stops.map((function(t){return t.clone()})),n=new jt(this.center._x,this.center._y,this._radius,e,this.focal._x,this.focal._y);return O.each(Pt.Properties.concat(jt.Properties),(function(t){n[t]=this[t]}),this),t&&t.add(n),n},toObject:function(){var t=Pt.prototype.toObject.call(this);return O.each(jt.Properties,(function(e){t[e]=this[e]}),this),t.center=this.center.toObject(),t.focal=this.focal.toObject(),t},_update:function(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(E.Types.change),this},flagReset:function(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,Pt.prototype.flagReset.call(this),this}}),jt.MakeObservable(jt.prototype);var It={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};function zt(t,e){if(this.renderer={},this._renderer.type="texture",this._renderer.flagOffset=zt.FlagOffset.bind(this),this._renderer.flagScale=zt.FlagScale.bind(this),this.id=B.Identifier+B.uniqueId(),this.classList=[],this.loaded=!1,this.repeat="no-repeat",this.offset=new P,"function"==typeof e){var n=function(){this.unbind(E.Types.load,n),"function"==typeof e&&e()}.bind(this);this.bind(E.Types.load,n)}if("string"==typeof t)this.src=t;else if("object"==typeof t){var i=Object.prototype.toString.call(t);"[object HTMLImageElement]"!==i&&"[object HTMLCanvasElement]"!==i&&"[object HTMLVideoElement]"!==i&&"[object Image]"!==i||(this.image=t)}this._update()}v.document&&(Et=document.createElement("a")),O.extend(zt,{Properties:["id","src","loaded","repeat"],RegularExpressions:It,ImageRegistry:new Mt,getAbsoluteURL:function(t){return Et?(Et.href=t,Et.href):t},loadHeadlessBuffer:function(t,e){t.image.onload=e,t.image.src=t.src},getTag:function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||"img"},getImage:function(t){var e,n=zt.getAbsoluteURL(t);return zt.ImageRegistry.contains(n)?zt.ImageRegistry.get(n):(St.Image?(e=new St.Image,xt.Utils.shim(e,"img")):v.document?e=It.video.test(n)?document.createElement("video"):document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),e.crossOrigin="anonymous",e)},Register:{canvas:function(t,e){t._src="#"+t.id,zt.ImageRegistry.add(t.src,t.image),"function"==typeof e&&e()},img:function(t,e){var n=t.image,i=function(t){!St.isHeadless&&n.removeEventListener&&"function"==typeof n.removeEventListener&&(n.removeEventListener("load",i,!1),n.removeEventListener("error",r,!1)),"function"==typeof e&&e()},r=function(e){throw St.isHeadless||"function"!=typeof n.removeEventListener||(n.removeEventListener("load",i,!1),n.removeEventListener("error",r,!1)),new Ot("unable to load "+t.src)};"number"==typeof n.width&&n.width>0&&"number"==typeof n.height&&n.height>0?i():St.isHeadless||"function"!=typeof n.addEventListener||(n.addEventListener("load",i,!1),n.addEventListener("error",r,!1)),t._src=zt.getAbsoluteURL(t._src),!St.isHeadless&&n&&n.getAttribute("two-src")||(St.isHeadless||n.setAttribute("two-src",t.src),zt.ImageRegistry.add(t.src,n),St.isHeadless?zt.loadHeadlessBuffer(t,i):t.image.src=t.src)},video:function(t,e){if(St.isHeadless)throw new Ot("video textures are not implemented in headless environments.");var n=function(r){t.image.removeEventListener("canplaythrough",n,!1),t.image.removeEventListener("error",i,!1),t.image.width=t.image.videoWidth,t.image.height=t.image.videoHeight,"function"==typeof e&&e()},i=function(e){throw t.image.removeEventListener("canplaythrough",n,!1),t.image.removeEventListener("error",i,!1),new Ot("unable to load "+t.src)};t._src=zt.getAbsoluteURL(t._src),t.image.getAttribute("two-src")||(t.image.setAttribute("two-src",t.src),zt.ImageRegistry.add(t.src,t.image)),t.image.readyState>=4?n():(t.image.addEventListener("canplaythrough",n,!1),t.image.addEventListener("error",i,!1),t.image.src=t.src,t.image.load())}},load:function(t,e){var n=t.image,i=zt.getTag(n);t._flagImage&&(/canvas/i.test(i)?zt.Register.canvas(t,e):(t._src=!St.isHeadless&&n.getAttribute("two-src")||n.src,zt.Register[i](t,e))),t._flagSrc&&(n||(n=zt.getImage(t.src),t.image=n),i=zt.getTag(n),zt.Register[i](t,e))},FlagOffset:function(){this._flagOffset=!0},FlagScale:function(){this._flagScale=!0},MakeObservable:function(t){O.each(zt.Properties,At,t),Object.defineProperty(t,"image",{enumerable:!0,get:function(){return this._image},set:function(t){var e;switch(zt.getTag(t)){case"canvas":e="#"+t.id;break;default:e=t.src}zt.ImageRegistry.contains(e)?this._image=zt.ImageRegistry.get(t.src):this._image=t,this._flagImage=!0}}),Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return this._offset},set:function(t){this._offset&&this._offset.unbind(E.Types.change,this._renderer.flagOffset),this._offset=t,this._offset.bind(E.Types.change,this._renderer.flagOffset),this._flagOffset=!0}}),Object.defineProperty(t,"scale",{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof P&&this._scale.unbind(E.Types.change,this._renderer.flagScale),this._scale=t,this._scale instanceof P&&this._scale.bind(E.Types.change,this._renderer.flagScale),this._flagScale=!0}}),Object.defineProperty(t,"renderer",{enumerable:!1,get:function(){return this._renderer},set:function(t){this._renderer=t}})}}),O.extend(zt.prototype,E,rt.prototype,{constructor:zt,_flagId:!1,_flagSrc:!1,_flagImage:!1,_flagVideo:!1,_flagLoaded:!1,_flagRepeat:!1,_flagOffset:!1,_flagScale:!1,_id:"",_src:"",_image:null,_loaded:!1,_repeat:"no-repeat",_scale:1,_offset:null,clone:function(){var t=new zt(this.src);return t.repeat=this.repeat,t.offset.copy(this.origin),t.scale=this.scale,t},toObject:function(){return{src:this.src,repeat:this.repeat,origin:this.origin.toObject(),scale:"number"==typeof this.scale?this.scale:this.scale.toObject()}},_update:function(){return(this._flagSrc||this._flagImage)&&(this.trigger(E.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,zt.load(this,function(){this.loaded=!0,this.trigger(E.Types.change).trigger(E.Types.load)}.bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this},flagReset:function(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagVideo=this._flagScale=this._flagOffset=!1,this}}),zt.MakeObservable(zt.prototype);var Lt=Math.min,Dt=Math.max,Bt=Math.ceil,Vt=Math.floor;function Wt(t,e,n,i){rt.call(this),this._renderer.type="path",this._renderer.flagVertices=Wt.FlagVertices.bind(this),this._renderer.bindVertices=Wt.BindVertices.bind(this),this._renderer.unbindVertices=Wt.UnbindVertices.bind(this),this._renderer.flagFill=Wt.FlagFill.bind(this),this._renderer.flagStroke=Wt.FlagStroke.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this._closed=!!e,this._curved=!!n,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=t,this.automatic=!i,this.dashes=[],this.dashes.offset=0}function Ut(t,e){if(0===e||1===e)return!0;for(var n=t._length*e,i=0,r=0;r<t._lengths.length;r++){var o=t._lengths[r];if(i>=n)return n-i>=0;i+=o}return!1}function Nt(t,e){var n=t._length;if(e<=0)return 0;if(e>=n)return t._lengths.length-1;for(var i=0,r=0;i<t._lengths.length;i++){if(r+t._lengths[i]>=e)return e-=r,Math.max(i-1,0)+e/t._lengths[i];r+=t._lengths[i]}return-1}function qt(t,e,n){var i,r,o,s,a,l,c,h,u=e.controls&&e.controls.right,d=t.controls&&t.controls.left;return i=e.x,a=e.y,r=(u||e).x,l=(u||e).y,o=(d||t).x,c=(d||t).y,s=t.x,h=t.y,u&&e._relative&&(r+=e.x,l+=e.y),d&&t._relative&&(o+=t.x,c+=t.y),q(i,a,r,l,o,c,s,h,n)}function Ht(t,e,n){var i,r,o,s,a,l,c,h,u=e.controls&&e.controls.right,d=t.controls&&t.controls.left;return i=e.x,a=e.y,r=(u||e).x,l=(u||e).y,o=(d||t).x,c=(d||t).y,s=t.x,h=t.y,u&&e._relative&&(r+=e.x,l+=e.y),d&&t._relative&&(o+=t.x,c+=t.y),N(i,a,r,l,o,c,s,h,n)}function Gt(t,e,n,i){Wt.call(this,[new z,new z,new z,new z],!0,!1,!0),this.width=n,this.height=i,this.origin=new P,this.translation.set(t,e),this._update()}function Yt(t,e,n,i,r,o){Wt.call(this,[new z,new z,new z,new z],!0),this.noStroke(),this.noFill(),t instanceof zt?this.texture=t:"string"==typeof t&&(this.texture=new zt(t)),this.origin=new P,this._update(),this.translation.set(e||0,n||0),"number"==typeof i&&(this.columns=i),"number"==typeof r&&(this.rows=r),"number"==typeof o&&(this.frameRate=o),this.index=0}O.extend(Wt,{Properties:["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"],Utils:{getCurveLength:qt},FlagVertices:function(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)},BindVertices:function(t){for(var e=t.length;e--;)t[e].bind(E.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()},UnbindVertices:function(t){for(var e=t.length;e--;)t[e].unbind(E.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()},FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(t){rt.MakeObservable(t),O.each(Wt.Properties.slice(2,8),At,t),Object.defineProperty(t,"fill",{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Pt||this._fill instanceof Ft||this._fill instanceof jt||this._fill instanceof zt)&&this._fill.unbind(E.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Pt||this._fill instanceof Ft||this._fill instanceof jt||this._fill instanceof zt)&&this._fill.bind(E.Types.change,this._renderer.flagFill)}}),Object.defineProperty(t,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Pt||this._stroke instanceof Ft||this._stroke instanceof jt||this._stroke instanceof zt)&&this._stroke.unbind(E.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Pt||this._stroke instanceof Ft||this._stroke instanceof jt||this._stroke instanceof zt)&&this._stroke.bind(E.Types.change,this._renderer.flagStroke)}}),Object.defineProperty(t,"length",{get:function(){return this._flagLength&&this._updateLength(),this._length}}),Object.defineProperty(t,"closed",{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}}),Object.defineProperty(t,"curved",{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}}),Object.defineProperty(t,"automatic",{enumerable:!0,get:function(){return this._automatic},set:function(t){if(t!==this._automatic){this._automatic=!!t;var e=this._automatic?"ignore":"listen";O.each(this.vertices,(function(t){t[e]()}))}}}),Object.defineProperty(t,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}}),Object.defineProperty(t,"ending",{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}}),Object.defineProperty(t,"vertices",{enumerable:!0,get:function(){return this._collection},set:function(t){var e=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(E.Types.insert,e).unbind(E.Types.remove,n),this._collection=t instanceof ot?t:new ot(t||[]),this._collection.bind(E.Types.insert,e).bind(E.Types.remove,n),e(this._collection)}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,t.clip||(t.clip=!0)}}),Object.defineProperty(t,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}}),Object.defineProperty(t,"dashes",{enumerable:!0,get:function(){return this._dashes},set:function(t){"number"!=typeof t.offset&&(t.offset=this._dashes.offset||0),this._dashes=t}})}}),O.extend(Wt.prototype,rt.prototype,{constructor:Wt,_flagVertices:!0,_flagLength:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagCap:!0,_flagJoin:!0,_flagMiter:!0,_flagMask:!1,_flagClip:!1,_length:0,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_mask:null,_clip:!1,_dashes:[],clone:function(t){for(var e=new Wt,n=0;n<this.vertices.length;n++)e.vertices.push(this.vertices[n].clone());for(var i=0;i<Wt.Properties.length;i++){var r=Wt.Properties[i];e[r]=this[r]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var t={vertices:this.vertices.map((function(t){return t.toObject()}))};return O.each(Wt.Properties,(function(e){t[e]=this[e]}),this),t.className=this.className,t.translation=this.translation.toObject(),t.rotation=this.rotation,t.scale=this.scale instanceof P?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&(t.matrix=this.matrix.toObject()),t},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke=void 0,this},corner:function(){for(var t=this.getBoundingClientRect(!0),e=t.width/2,n=t.height/2,i=t.left+t.width/2,r=t.top+t.height/2,o=0;o<this.vertices.length;o++){var s=this.vertices[o];s.x-=i,s.y-=r,s.x+=e,s.y+=n}return this},center:function(){for(var t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,n=t.top+t.height/2-this.translation.y,i=0;i<this.vertices.length;i++){var r=this.vertices[i];r.x-=e,r.y-=n}return this},remove:function(){return this.parent?(this.parent.remove(this),this):this},getBoundingClientRect:function(t){var e,n,i,r,o,s,a,l,c,h,u,d,f,p,g=1/0,m=-1/0,v=1/0,y=-1/0;if(this._update(!0),e=t?this._matrix:b(this),n=(this.linewidth||0)/2,(i=this._renderer.vertices.length)<=0)return{width:0,height:0};for(r=0;r<i;r++)if(s=this._renderer.vertices[r],(o=this._renderer.vertices[(r+i-1)%i]).controls&&s.controls){a=o.controls.right.x,l=o.controls.right.y,o.relative&&(a+=o.x,l+=o.y),c=s.controls.left.x,h=s.controls.left.y,s.relative&&(c+=s.x,h+=s.y);var _=H(o.x,o.y,a,l,c,h,s.x,s.y);v=Lt(_.min.y-n,v),g=Lt(_.min.x-n,g),m=Dt(_.max.x+n,m),y=Dt(_.max.y+n,y)}else r<=1&&(v=Lt(o.y-n,v),g=Lt(o.x-n,g),m=Dt(o.x+n,m),y=Dt(o.y+n,y)),v=Lt(s.y-n,v),g=Lt(s.x-n,g),m=Dt(s.x+n,m),y=Dt(s.y+n,y);return u=e.multiply(g,v,1),d=e.multiply(g,y,1),f=e.multiply(m,v,1),p=e.multiply(m,y,1),{top:v=Lt(u.y,d.y,f.y,p.y),left:g=Lt(u.x,d.x,f.x,p.x),right:m=Dt(u.x,d.x,f.x,p.x),bottom:y=Dt(u.y,d.y,f.y,p.y),width:m-g,height:y-v}},getPointAt:function(t,e){for(var n,i,r,o,s,a,l,c,h,u,d,f,p,m,v,y=this.length*Math.min(Math.max(t,0),1),_=this.vertices.length,b=_-1,k=null,S=null,R=0,C=this._lengths.length,E=0;R<C;R++){if(E+this._lengths[R]>=y){this._closed?(n=x(R,_),i=x(R-1,_),0===R&&(n=i,i=R)):(n=R,i=Math.min(Math.max(R-1,0),b)),k=this.vertices[n],S=this.vertices[i],y-=E,t=0!==this._lengths[R]?y/this._lengths[R]:0;break}E+=this._lengths[R]}if(null===k||null===S)return null;if(!k)return S;if(!S)return k;v=S.controls&&S.controls.right,m=k.controls&&k.controls.left,s=S.x,u=S.y,a=(v||S).x,d=(v||S).y,l=(m||k).x,f=(m||k).y,c=k.x,p=k.y,v&&S.relative&&(a+=S.x,d+=S.y),m&&k.relative&&(l+=k.x,f+=k.y),o=U(t,s,a,l,c),h=U(t,u,d,f,p);var A=w(s,a,t),M=w(u,d,t),T=w(a,l,t),P=w(d,f,t),F=w(l,c,t),j=w(f,p,t),I=w(A,T,t),L=w(M,P,t),D=w(T,F,t),B=w(P,j,t);return O.isObject(e)?(e.x=o,e.y=h,O.isObject(e.controls)||z.AppendCurveProperties(e),e.controls.left.x=I,e.controls.left.y=L,e.controls.right.x=D,e.controls.right.y=B,("boolean"===(e.relative,!1)||e.relative)&&(e.controls.left.x-=o,e.controls.left.y-=h,e.controls.right.x-=o,e.controls.right.y-=h),e.t=t,e):((r=new z(o,h,I-o,L-h,D-o,B-h,this._curved?g.curve:g.line)).t=t,r)},plot:function(){if(this.curved)return Y(this._collection,this.closed),this;for(var t=0;t<this._collection.length;t++)this._collection[t].command=0===t?g.move:g.line;return this},subdivide:function(t){this._update();var e=this.vertices.length-1,n=this.vertices[e],i=this._closed||this.vertices[e]._command===g.close,r=[];return O.each(this.vertices,(function(o,s){if(s<=0&&!i)n=o;else{if(o.command===g.move)return r.push(new z(n.x,n.y)),s>0&&(r[r.length-1].command=g.line),void(n=o);var a=Ht(o,n,t);r=r.concat(a),O.each(a,(function(t,e){e<=0&&n.command===g.move?t.command=g.move:t.command=g.line})),s>=e&&(this._closed&&this._automatic?(a=Ht(o,n=o,t),r=r.concat(a),O.each(a,(function(t,e){e<=0&&n.command===g.move?t.command=g.move:t.command=g.line}))):i&&r.push(new z(o.x,o.y)),r[r.length-1].command=i?g.close:g.line),n=o}}),this),this._automatic=!1,this._curved=!1,this.vertices=r,this},_updateLength:function(t,e){e||this._update();var n=this.vertices.length-1,i=this.vertices[n],r=0;return void 0===this._lengths&&(this._lengths=[]),O.each(this.vertices,(function(e,n){if(n<=0||e.command===g.move)return i=e,void(this._lengths[n]=0);this._lengths[n]=qt(e,i,t),r+=this._lengths[n],i=e}),this),this._length=r,this._flagLength=!1,this},_update:function(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);var t,e,n,i,r,o=this._collection.length,s=this._closed,a=Math.min(this._beginning,this._ending),l=Math.max(this._beginning,this._ending),c=Nt(this,a*this._length),h=Nt(this,l*this._length),u=Bt(c),d=Vt(h);this._renderer.vertices.length=0;for(var f=0;f<o;f++)this._renderer.collection.length<=f&&this._renderer.collection.push(new z),f>d&&!e?((r=this._renderer.collection[f]).copy(this._collection[f]),this.getPointAt(l,r),r.command=this._renderer.collection[f].command,this._renderer.vertices.push(r),e=r,(n=this._collection[f-1])&&n.controls&&(r.controls.right.clear(),this._renderer.collection[f-1].controls.right.clear().lerp(n.controls.right,r.t))):f>=u&&f<=d&&(r=this._renderer.collection[f].copy(this._collection[f]),this._renderer.vertices.push(r),f===d&&Ut(this,l)?(e=r,!s&&e.controls&&e.controls.right.clear()):f===u&&Ut(this,a)&&((t=r).command=g.move,!s&&t.controls&&t.controls.left.clear()));u>0&&!t&&(f=u-1,(r=this._renderer.collection[f]).copy(this._collection[f]),this.getPointAt(a,r),r.command=g.move,this._renderer.vertices.unshift(r),t=r,(i=this._collection[f+1])&&i.controls&&(r.controls.left.clear(),this._renderer.collection[f+1].controls.left.copy(i.controls.left).lerp(P.zero,r.t)))}return rt.prototype._update.apply(this,arguments),this},flagReset:function(){return this._flagVertices=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,rt.prototype.flagReset.call(this),this}}),Wt.MakeObservable(Wt.prototype),O.extend(Gt,{Properties:["width","height"],MakeObservable:function(t){Wt.MakeObservable(t),O.each(Gt.Properties,At,t),Object.defineProperty(t,"origin",{enumerable:!0,get:function(){return this._origin},set:function(t){this._origin&&this._origin.unbind(E.Types.change,this._renderer.flagVertices),this._origin=t,this._origin.bind(E.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}})}}),O.extend(Gt.prototype,Wt.prototype,{constructor:Gt,_flagWidth:0,_flagHeight:0,_width:0,_height:0,_origin:null,_update:function(){if(this._flagVertices||this._flagWidth||this._flagHeight){var t=this._width/2,e=this._height/2;this._closed||4!==this.vertices.length||this.vertices.push(new z),this.vertices[0].set(-t,-e).add(this._origin).command=g.move,this.vertices[1].set(t,-e).add(this._origin).command=g.line,this.vertices[2].set(t,e).add(this._origin).command=g.line,this.vertices[3].set(-t,e).add(this._origin).command=g.line,this.vertices[4]&&(this.vertices[4].set(-t,-e).add(this._origin).command=g.line)}return Wt.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,Wt.prototype.flagReset.call(this),this},clone:function(t){var e=new Gt(0,0,this.width,this.height);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),O.each(Wt.Properties,(function(t){e[t]=this[t]}),this),t&&t.add(e),e},toObject:function(){var t=Wt.prototype.toObject.call(this);return t.width=this.width,t.height=this.height,t.origin=this.origin.toObject(),t}}),Gt.MakeObservable(Gt.prototype),O.extend(Yt,{Properties:["texture","columns","rows","frameRate","index"],MakeObservable:function(t){Gt.MakeObservable(t),O.each(Yt.Properties,At,t)}}),O.extend(Yt.prototype,Gt.prototype,{constructor:Yt,_flagTexture:!1,_flagColumns:!1,_flagRows:!1,_flagFrameRate:!1,flagIndex:!1,_amount:1,_duration:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_texture:null,_columns:1,_rows:1,_frameRate:0,_index:0,_origin:null,play:function(t,e,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=O.performance.now(),"number"==typeof t&&(this._firstFrame=t),"number"==typeof e&&(this._lastFrame=e),"function"==typeof n?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=0,this},clone:function(t){var e=new Yt(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(e.play(this._firstFrame,this._lastFrame),e._loop=this._loop),t&&t.add(e),e},toObject:function(){var t=Gt.prototype.toObject.call(this);return t.texture=this.texture.toObject(),t.columns=this.columns,t.rows=this.rows,t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t},_update:function(){var t,e,n,i,r,o,s,a,l,c=this._texture,h=this._columns,u=this._rows;if((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=this._texture),this._texture.loaded){t=(s=c.image.width)/h,e=(a=c.image.height)/u,i=this._amount,this.width!==t&&(this.width=t),this.height!==e&&(this.height=e),this._playing&&this._frameRate>0&&(O.isNaN(this._lastFrame)&&(this._lastFrame=i-1),n=O.performance.now()-this._startTime,r=1e3*((l=this._lastFrame+1)-this._firstFrame)/this._frameRate,this._loop?n%=r:n=Math.min(n,r),o=w(this._firstFrame,l,n/r),(o=Math.floor(o))!==this._index&&(this._index=o,o>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));var d=-t*(this._index%h)+(s-t)/2,f=-e*Math.floor(this._index/h)+(a-e)/2;d!==c.offset.x&&(c.offset.x=d),f!==c.offset.y&&(c.offset.y=f)}return Gt.prototype._update.call(this),this},flagReset:function(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,Gt.prototype.flagReset.call(this),this}}),Yt.MakeObservable(Yt.prototype);var Xt=2*Math.PI,Zt=Math.PI/2,Kt=Math.cos,$t=Math.sin;function Jt(t,e,n,i){for(var r=i?Math.max(i,2):4,o=[],s=0;s<r;s++)o.push(new z(0,0,0,0,0,0));Wt.call(this,o,!0,!0,!0),"number"==typeof n&&(this.radius=n),this._update(),"number"==typeof t&&(this.translation.x=t),"number"==typeof e&&(this.translation.y=e)}O.extend(Jt,{Properties:["radius"],MakeObservable:function(t){Wt.MakeObservable(t),O.each(Jt.Properties,At,t)}}),O.extend(Jt.prototype,Wt.prototype,{constructor:Jt,_flagRadius:!1,_radius:0,_update:function(){if(this._flagVertices||this._flagRadius){var t=this.vertices.length;!this._closed&&t>2&&(t-=1);for(var e=4/3*Math.tan(Math.PI/(2*t)),n=this._radius,i=n*e,r=0;r<this.vertices.length;r++){var o=r/t*Xt,s=n*Kt(o),a=n*$t(o),l=i*Kt(o-Zt),c=i*$t(o-Zt),h=i*Kt(o+Zt),u=i*$t(o+Zt),d=this.vertices[r];d.command=0===r?g.move:g.curve,d.set(s,a),d.controls.left.set(l,c),d.controls.right.set(h,u)}}return Wt.prototype._update.call(this),this},flagReset:function(){return this._flagRadius=!1,Wt.prototype.flagReset.call(this),this},clone:function(t){var e=new Jt(0,0,this.radius,this.vertices.length);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),O.each(Wt.Properties,(function(t){e[t]=this[t]}),this),t&&t.add(e),e},toObject:function(){var t=Wt.prototype.toObject.call(this);return O.each(Jt.Properties,(function(e){t[e]=this[e]}),this),t}}),Jt.MakeObservable(Jt.prototype);var Qt=2*Math.PI,te=Math.PI/2,ee=Math.cos,ne=Math.sin;function ie(t,e,n,i,r){"number"!=typeof i&&"number"==typeof n&&(i=n);for(var o=r?Math.max(r,2):4,s=[],a=0;a<o;a++)s.push(new z);Wt.call(this,s,!0,!0,!0),"number"==typeof n&&(this.width=2*n),"number"==typeof i&&(this.height=2*i),this._update(),this.translation.set(t,e)}function re(t,e,n,i){Wt.call(this,[new z(t,e),new z(n,i)]),this.vertices[0].command=g.move,this.vertices[1].command=g.line,this.automatic=!1}function oe(t,e,n,i,r){void 0===r&&"number"==typeof n&&"number"==typeof i&&(r=Math.floor(Math.min(n,i)/12));for(var o=[],s=0;s<10;s++)o.push(new z(0,0,0,0,0,0,0===s?g.move:g.curve));Wt.call(this,o),this.closed=!0,this.automatic=!1,this._renderer.flagRadius=oe.FlagRadius.bind(this),"number"==typeof n&&(this.width=n),"number"==typeof i&&(this.height=i),"number"==typeof r&&(this.radius=r),this._update(),this.translation.set(t,e)}O.extend(ie,{Properties:["width","height"],MakeObservable:function(t){Wt.MakeObservable(t),O.each(ie.Properties,At,t)}}),O.extend(ie.prototype,Wt.prototype,{_flagWidth:!1,_flagHeight:!1,_width:0,_height:0,constructor:ie,_update:function(){if(this._flagVertices||this._flagWidth||this._flagHeight){var t=this.vertices.length;!this._closed&&t>2&&(t-=1);for(var e=4/3*Math.tan(Math.PI/(2*this.vertices.length)),n=this._width/2,i=this._height/2,r=0;r<this.vertices.length;r++){var o=r/t*Qt,s=n*ee(o),a=i*ne(o),l=n*e*ee(o-te),c=i*e*ne(o-te),h=n*e*ee(o+te),u=i*e*ne(o+te),d=this.vertices[r];d.command=0===r?g.move:g.curve,d.set(s,a),d.controls.left.set(l,c),d.controls.right.set(h,u)}}return Wt.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,Wt.prototype.flagReset.call(this),this},clone:function(t){var e=new ie(0,0,this.width/2,this.height/2,this.vertices.length);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),O.each(Wt.Properties,(function(t){e[t]=this[t]}),this),t&&t.add(e),e},toObject:function(){var t=Wt.prototype.toObject.call(this);return O.each(ie.Properties,(function(e){t[e]=this[e]}),this),t}}),ie.MakeObservable(ie.prototype),O.extend(re.prototype,Wt.prototype,{constructor:re}),Wt.MakeObservable(re.prototype),O.extend(oe,{Properties:["width","height"],FlagRadius:function(){this._flagRadius=!0},MakeObservable:function(t){Wt.MakeObservable(t),O.each(oe.Properties,At,t),Object.defineProperty(t,"radius",{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius instanceof P&&this._radius.unbind(E.Types.change,this._renderer.flagRadius),this._radius=t,this._radius instanceof P&&this._radius.bind(E.Types.change,this._renderer.flagRadius),this._flagRadius=!0}})}}),O.extend(oe.prototype,Wt.prototype,{constructor:oe,_flagWidth:!1,_flagHeight:!1,_flagRadius:!1,_width:0,_height:0,_radius:12,_update:function(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){var t,e,n,i=this._width,r=this._height;this._radius instanceof P?(t=this._radius.x,e=this._radius.y):(t=this._radius,e=this._radius);var o=i/2,s=r/2;(n=this.vertices[0]).x=-(o-t),n.y=-s,(n=this.vertices[1]).x=o-t,n.y=-s,n.controls.left.clear(),n.controls.right.x=t,n.controls.right.y=0,(n=this.vertices[2]).x=o,n.y=-(s-e),n.controls.right.clear(),n.controls.left.clear(),(n=this.vertices[3]).x=o,n.y=s-e,n.controls.left.clear(),n.controls.right.x=0,n.controls.right.y=e,(n=this.vertices[4]).x=o-t,n.y=s,n.controls.right.clear(),n.controls.left.clear(),(n=this.vertices[5]).x=-(o-t),n.y=s,n.controls.left.clear(),n.controls.right.x=-t,n.controls.right.y=0,(n=this.vertices[6]).x=-o,n.y=s-e,n.controls.left.clear(),n.controls.right.clear(),(n=this.vertices[7]).x=-o,n.y=-(s-e),n.controls.left.clear(),n.controls.right.x=0,n.controls.right.y=-e,(n=this.vertices[8]).x=-(o-t),n.y=-s,n.controls.left.clear(),n.controls.right.clear(),(n=this.vertices[9]).copy(this.vertices[8])}return Wt.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,Wt.prototype.flagReset.call(this),this},clone:function(t){var e=new oe(0,0,this.width,this.height,this.radius);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),O.each(Wt.Properties,(function(t){e[t]=this[t]}),this),t&&t.add(e),e},toObject:function(){var t=Wt.prototype.toObject.call(this);return O.each(oe.Properties,(function(e){t[e]=this[e]}),this),t.radius="number"==typeof this.radius?this.radius:this.radius.toObject(),t}}),oe.MakeObservable(oe.prototype);var se=Math.min,ae=Math.max;function le(t,e,n,i){if(rt.call(this),this._renderer.type="text",this._renderer.flagFill=le.FlagFill.bind(this),this._renderer.flagStroke=le.FlagStroke.bind(this),this.value=t,"number"==typeof e&&(this.translation.x=e),"number"==typeof n&&(this.translation.y=n),this.dashes=[],this.dashes.offset=0,!O.isObject(i))return this;O.each(le.Properties,(function(t){t in i&&(this[t]=i[t])}),this)}O.extend(le,{Ratio:.6,Properties:["value","family","size","leading","alignment","linewidth","style","weight","decoration","baseline","opacity","visible","className","fill","stroke"],FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(t){rt.MakeObservable(t),O.each(le.Properties.slice(0,12),At,t),Object.defineProperty(t,"fill",{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Pt||this._fill instanceof Ft||this._fill instanceof jt||this._fill instanceof zt)&&this._fill.unbind(E.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Pt||this._fill instanceof Ft||this._fill instanceof jt||this._fill instanceof zt)&&this._fill.bind(E.Types.change,this._renderer.flagFill)}}),Object.defineProperty(t,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Pt||this._stroke instanceof Ft||this._stroke instanceof jt||this._stroke instanceof zt)&&this._stroke.unbind(E.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Pt||this._stroke instanceof Ft||this._stroke instanceof jt||this._stroke instanceof zt)&&this._stroke.bind(E.Types.change,this._renderer.flagStroke)}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,t.clip||(t.clip=!0)}}),Object.defineProperty(t,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}}),Object.defineProperty(t,"dashes",{enumerable:!0,get:function(){return this._dashes},set:function(t){"number"!=typeof t.offset&&(t.offset=this._dashes.offset||0),this._dashes=t}})}}),O.extend(le.prototype,rt.prototype,{constructor:le,_flagValue:!0,_flagFamily:!0,_flagSize:!0,_flagLeading:!0,_flagAlignment:!0,_flagBaseline:!0,_flagStyle:!0,_flagWeight:!0,_flagDecoration:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagClassName:!0,_flagVisible:!0,_flagMask:!1,_flagClip:!1,_value:"",_family:"sans-serif",_size:13,_leading:17,_alignment:"center",_baseline:"middle",_style:"normal",_weight:500,_decoration:"none",_fill:"#000",_stroke:"transparent",_linewidth:1,_opacity:1,_className:"",_visible:!0,_mask:null,_clip:!1,_dashes:[],remove:function(){return this.parent?(this.parent.remove(this),this):this},clone:function(t){var e=new le(this.value);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,O.each(le.Properties,(function(t){e[t]=this[t]}),this),this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var t={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};return this.matrix.manual&&(t.matrix=this.matrix.toObject()),O.each(le.Properties,(function(e){t[e]=this[e]}),this),t},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke=void 0,this.linewidth=void 0,this},getBoundingClientRect:function(t){var e,n,i,r,o,s,a,l,c;this._update(!0),e=t?this._matrix:b(this);var h=this.leading,u=this.value.length*this.size*le.Ratio,d=(this._linewidth||0)/2;switch(this.alignment){case"left":s=-d,a=u+d;break;case"right":s=-(u+d),a=d;break;default:s=-(u/2+d),a=u/2+d}switch(this.baseline){case"top":l=-d,c=h+d;break;case"bottom":l=-(h+d),c=d;break;default:l=-(h/2+d),c=h/2+d}return n=e.multiply(s,l,1),i=e.multiply(s,c,1),r=e.multiply(a,l,1),o=e.multiply(a,c,1),{top:l=se(n.y,i.y,r.y,o.y),left:s=se(n.x,i.x,r.x,o.x),right:a=ae(n.x,i.x,r.x,o.x),bottom:c=ae(n.y,i.y,r.y,o.y),width:a-s,height:c-l}},flagReset:function(){return this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=!1,rt.prototype.flagReset.call(this),this}}),le.MakeObservable(le.prototype);var ce=/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,he={start:"left",middle:"center",end:"right"},ue=function(t){return t.replace(/svg:/gi,"").toLowerCase()},de=function(t,e){if(e.x+=t.translateX,e.y+=t.translateY,e.x*=t.scaleX,e.y*=t.scaleY,0!==t.rotation){var n=e.length();e.x=n*Math.cos(t.rotation),e.y=n*Math.sin(t.rotation)}},fe=function(t,e){var n,i,r,o;e||(e={}),n=t.split(";");for(var s=0;s<n.length;s++)r=(i=n[s].split(":"))[0],o=i[1],void 0!==r&&void 0!==o&&(e[r]=o.replace(/\s/,""));return e},pe=function(t){for(var e={},n=ge(t),i=Math.max(n.length,t.style.length),r=0;r<i;r++){var o=t.style[r],s=n[r];o&&(e[o]=t.style[o]),s&&(e[s]=t.getAttribute(s))}return e},ge=function(t){for(var e=t.getAttributeNames(),n=["id","class","transform","xmlns","viewBox"],i=0;i<n.length;i++){var r=n[i],o=Array.prototype.indexOf.call(e,r);o>=0&&e.splice(o,1)}return e},me=function(t,e){var n=e.split(/\s/),i=parseFloat(n[0]),r=parseFloat(n[1]),o=parseFloat(n[2]),s=parseFloat(n[3]),a=Math.min(this.width/o,this.height/s);return t.translation.x-=i*a,t.translation.y-=r*a,t.scale=a,t},ve=function(t,e,n){var i,r,o,s,a,l,c,h,u,d,f,p={},g={},m={};if(v.getComputedStyle){var _=v.getComputedStyle(t);for(i=_.length;i--;)void 0!==(s=_[o=_[i]])&&(p[o]=s)}for(i=0;i<t.attributes.length;i++)a=t.attributes[i],/style/i.test(a.nodeName)?fe(a.value,m):g[a.nodeName]=a.value;for(o in void 0!==p.opacity&&(p["stroke-opacity"]=p.opacity,p["fill-opacity"]=p.opacity,delete p.opacity),n&&O.defaults(p,n),O.extend(p,m,g),p.visible=!(void 0===p.display&&/none/i.test(p.display))||void 0===p.visibility&&/hidden/i.test(p.visibility),p)switch(s=p[o],o){case"gradientTransform":if(/none/i.test(s))break;if(null===(r=t.gradientTransform&&t.gradientTransform.baseVal&&t.gradientTransform.baseVal.length>0?t.gradientTransform.baseVal[0].matrix:t.getCTM?t.getCTM():null))break;switch(l=y(r),e._renderer.type){case"linear-gradient":de(l,e.left),de(l,e.right);break;case"radial-gradient":e.center.x+=l.translateX,e.center.y+=l.translateY,e.focal.x+=l.translateX,e.focal.y+=l.translateY,e.radius*=Math.max(l.scaleX,l.scaleY)}break;case"transform":if(/none/i.test(s))break;if(null===(r=t.transform&&t.transform.baseVal&&t.transform.baseVal.length>0?t.transform.baseVal[0].matrix:t.getCTM?t.getCTM():null))break;B.AutoCalculateImportedMatrices?(l=y(r),e.translation.set(l.translateX,l.translateY),e.rotation=Math.PI*(l.rotation/180),e.scale=new P(l.scaleX,l.scaleY),c=parseFloat((p.x+"").replace("px")),h=parseFloat((p.y+"").replace("px")),c&&(e.translation.x=c),h&&(e.translation.y=h)):(r=t.getCTM(),e._matrix.manual=!0,e._matrix.set(r.a,r.b,r.c,r.d,r.e,r.f));break;case"viewBox":me.call(this,e,s);break;case"visible":if(e instanceof ct){e._visible=s;break}e.visible=s;break;case"stroke-linecap":if(e instanceof ct){e._cap=s;break}e.cap=s;break;case"stroke-linejoin":if(e instanceof ct){e._join=s;break}e.join=s;break;case"stroke-miterlimit":if(e instanceof ct){e._miter=s;break}e.miter=s;break;case"stroke-width":if(e instanceof ct){e._linewidth=parseFloat(s);break}e.linewidth=parseFloat(s);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(e instanceof ct){e._opacity=parseFloat(s);break}e.opacity=parseFloat(s);break;case"clip-path":if(/url\(#.*\)/i.test(s)&&(u=s.replace(/url\(#(.*)\)/i,"$1"),be.defs.current&&be.defs.current.contains(u)&&(d=be.defs.current.get(u))&&d.childNodes.length>0))switch(d=d.childNodes[0],f=ue(d.nodeName),e.mask=be[f].call(this,d,{}),e._renderer.type){case"text":case"path":e.position.add(e.mask.position),e.mask.position.clear()}break;case"fill":case"stroke":e instanceof ct&&(o="_"+o),/url\(#.*\)/i.test(s)?(u=s.replace(/url\(#(.*)\)/i,"$1"),be.defs.current&&be.defs.current.contains(u)?(d=be.defs.current.get(u),f=ue(d.nodeName),d=be[f].call(this,d,{})):d=_e(this).getById(u),e[o]=d):e[o]=/none/i.test(s)?"transparent":s;break;case"id":e.id=s,t.id=s+"-"+B.Identifier+"applied";break;case"class":case"className":e.classList=s.split(" ");break;case"x":case"y":if(e instanceof Pt||e instanceof Ft||e instanceof jt)break;if(s.match("[a-z%]$")&&!s.endsWith("px")){var b=new Ot("only pixel values are supported with the "+o+" attribute.");console.warn(b.name,b.message)}e.translation[o]=parseFloat(s);break;case"font-family":e instanceof le&&(e.family=s);break;case"font-size":e instanceof le&&(e.size=s);break;case"font-weight":e instanceof le&&(e.weight=s);break;case"font-style":e instanceof le&&(e.style=s);break;case"text-decoration":e instanceof le&&(e.decoration=s);break;case"line-height":e instanceof le&&(e.leading=s)}return p},ye=function(t,e){for(var n=0,i=t.childNodes.length;n<i;n++){var r=t.childNodes[n];r.id&&"#text"!==ue(t.nodeName)&&e.add(r.id,r)}},_e=function(t){for(;t.parent;)t=t.parent;return t.scene},be={svg:function(t){for(var e=be.defs.current=new Mt,n=t.getElementsByTagName("defs"),i=0;i<n.length;i++)ye(n[i],e);var r=be.g.call(this,t);return r.defs=e,delete be.defs.current,r},defs:function(t){return null},use:function(t,e){var n,i=t.getAttribute("href")||t.getAttribute("xlink:href");if(!i)return n=new Ot("encountered <use /> with no href."),console.warn(n.name,n.message),null;var r=i.slice(1);if(!be.defs.current.contains(r))return n=new Ot("unable to find element for reference "+i+"."),console.warn(n.name,n.message),null;for(var o=be.defs.current.get(r).cloneNode(!0),s=["x","y","width","height","href","xlink:href"],a=0;a<t.attributes.length;a++){var l=t.attributes[a],c=s.includes(l.nodeName),h=!o.hasAttribute(l.nodeName);(c||h)&&o.setAttribute(l.nodeName,l.value)}var u=ue(o.nodeName);return be[u].call(this,o,e)},g:function(t,e){var n,i=new ct;ve.call(this,t,i,e),this.add(i),n=pe.call(this,t);for(var r=0,o=t.childNodes.length;r<o;r++){var s=t.childNodes[r],a=s.nodeName;if(!a)return;var l=ue(a);if(l in be){var c=be[l].call(i,s,n);c&&!c.parent&&i.add(c)}}return i},polygon:function(t,e){var n=t.getAttribute("points"),i=[];n.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,(function(t,e,n){i.push(new z(parseFloat(e),parseFloat(n)))}));var r=new Wt(i,!0).noStroke();return r.fill="black",ve.call(this,t,r,e),r},polyline:function(t,e){var n=be.polygon.call(this,t,e);return n.closed=!1,n},path:function(t,e){var n=t.getAttribute("d"),i=[],r=!1,o=!1;if(n){var s,a,l=new z,c=n.match(/[a-df-z][^a-df-z]*/gi),h=c.length-1;O.each(c.slice(0),(function(t,e){var n,i,r,o,s,a=t.slice(1).trim().match(ce),l=t[0],h=l.toLowerCase(),u=[];switch(0===e&&(c=[]),h){case"h":case"v":a.length>1&&(n=1);break;case"m":case"l":case"t":a.length>2&&(n=2);break;case"s":case"q":a.length>4&&(n=4);break;case"c":a.length>6&&(n=6);break;case"a":a.length>7&&(n=7)}if(n){for(i=0,r=a.length,s=0;i<r;i+=n){if(o=l,s>0)switch(l){case"m":o="l";break;case"M":o="L"}u.push(o+a.slice(i,i+n).join(" ")),s++}c=Array.prototype.concat.apply(c,u)}else c.push(t)})),O.each(c,(function(t,e){var n,c,u,d,f,p,m,v,y,_,b=t[0],w=b.toLowerCase();switch(a=t.slice(1).trim().match(ce),o=b===w,w){case"z":if(e>=h)r=!0;else{n=new z(l.x,l.y,void 0,void 0,void 0,void 0,g.close);for(var x=i.length-1;x>=0;x--){var k=i[x];if(/m/i.test(k.command)){l=k;break}}}break;case"m":case"l":s=void 0,n=new z(parseFloat(a[0]),parseFloat(a[1]),void 0,void 0,void 0,void 0,/m/i.test(w)?g.move:g.line),o&&n.addSelf(l),l=n;break;case"h":case"v":var S=/h/i.test(w)?"x":"y",R=/x/i.test(S)?"y":"x";(n=new z(void 0,void 0,void 0,void 0,void 0,void 0,g.line))[S]=parseFloat(a[0]),n[R]=l[R],o&&(n[S]+=l[S]),l=n;break;case"c":case"s":c=l.x,u=l.y,s||(s=new P),/c/i.test(w)?(d=parseFloat(a[0]),f=parseFloat(a[1]),p=parseFloat(a[2]),m=parseFloat(a[3]),v=parseFloat(a[4]),y=parseFloat(a[5])):(d=(_=Z(l,s,o)).x,f=_.y,p=parseFloat(a[0]),m=parseFloat(a[1]),v=parseFloat(a[2]),y=parseFloat(a[3])),o&&(d+=c,f+=u,p+=c,m+=u,v+=c,y+=u),O.isObject(l.controls)||z.AppendCurveProperties(l),l.controls.right.set(d-l.x,f-l.y),n=new z(v,y,p-v,m-y,void 0,void 0,g.curve),l=n,s=n.controls.left;break;case"t":case"q":c=l.x,u=l.y,s||(s=new P),/q/i.test(w)?(d=parseFloat(a[0]),f=parseFloat(a[1]),p=parseFloat(a[0]),m=parseFloat(a[1]),v=parseFloat(a[2]),y=parseFloat(a[3])):(d=(_=Z(l,s,o)).x,f=_.y,p=_.x,m=_.y,v=parseFloat(a[0]),y=parseFloat(a[1])),o&&(d+=c,f+=u,p+=c,m+=u,v+=c,y+=u),O.isObject(l.controls)||z.AppendCurveProperties(l),l.controls.right.set(.33*(d-l.x),.33*(f-l.y)),n=new z(v,y,p-v,m-y,void 0,void 0,g.curve),l=n,s=n.controls.left;break;case"a":c=l.x,u=l.y;var C=parseFloat(a[0]),E=parseFloat(a[1]),A=parseFloat(a[2]),M=parseFloat(a[3]),T=parseFloat(a[4]);v=parseFloat(a[5]),y=parseFloat(a[6]),o&&(v+=c,y+=u);var F=new z(v,y);F.command=g.arc,F.rx=C,F.ry=E,F.xAxisRotation=A,F.largeArcFlag=M,F.sweepFlag=T,n=F,l=F,s=void 0}n&&(Array.isArray(n)?i=i.concat(n):i.push(n))}))}(n=new Wt(i,r,void 0,!0).noStroke()).fill="black";var u=n.getBoundingClientRect(!0);return u.centroid={x:u.left+u.width/2,y:u.top+u.height/2},O.each(n.vertices,(function(t){t.subSelf(u.centroid)})),ve.call(this,t,n,e),n.translation.addSelf(u.centroid),n},circle:function(t,e){var n=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy")),r=new Jt(0,0,parseFloat(t.getAttribute("r"))).noStroke();return r.fill="black",ve.call(this,t,r,e),r.translation.x=n,r.translation.y=i,r},ellipse:function(t,e){var n=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy")),r=new ie(0,0,parseFloat(t.getAttribute("rx")),parseFloat(t.getAttribute("ry"))).noStroke();return r.fill="black",ve.call(this,t,r,e),r.translation.x=n,r.translation.y=i,r},rect:function(t,e){var n=parseFloat(t.getAttribute("rx")),i=parseFloat(t.getAttribute("ry"));if(!O.isNaN(n)||!O.isNaN(i))return be["rounded-rect"](t);var r=parseFloat(t.getAttribute("width")),o=parseFloat(t.getAttribute("height")),s=r/2,a=o/2,l=new Gt(0,0,r,o).noStroke();return l.fill="black",ve.call(this,t,l,e),l.translation.x+=s,l.translation.y+=a,l},"rounded-rect":function(t,e){var n=parseFloat(t.getAttribute("rx"))||0,i=parseFloat(t.getAttribute("ry"))||0,r=parseFloat(t.getAttribute("width")),o=parseFloat(t.getAttribute("height")),s=r/2,a=o/2,l=new oe(0,0,r,o,new P(n,i)).noStroke();return l.fill="black",ve.call(this,t,l,e),l.translation.x+=s,l.translation.y+=a,l},line:function(t,e){var n=new re(parseFloat(t.getAttribute("x1")),parseFloat(t.getAttribute("y1")),parseFloat(t.getAttribute("x2")),parseFloat(t.getAttribute("y2"))).noFill();return ve.call(this,t,n,e),n},lineargradient:function(t,e){for(var n=parseFloat(t.getAttribute("x1")),i=parseFloat(t.getAttribute("y1")),r=parseFloat(t.getAttribute("x2")),o=parseFloat(t.getAttribute("y2")),s=(r+n)/2,a=(o+i)/2,l=[],c=0;c<t.children.length;c++){var h=t.children[c],u=h.getAttribute("offset");/%/gi.test(u)&&(u=parseFloat(u.replace(/%/gi,""))/100),u=parseFloat(u);var d,f=h.getAttribute("stop-color"),p=h.getAttribute("stop-opacity"),g=h.getAttribute("style");null===f&&(f=(d=!!g&&g.match(/stop-color:\s?([#a-fA-F0-9]*)/))&&d.length>1?d[1]:void 0),p=null===p?(d=!!g&&g.match(/stop-opacity:\s?([0-9.-]*)/))&&d.length>1?parseFloat(d[1]):1:parseFloat(p),l.push(new Tt(u,f,p))}var m=new Ft(n-s,i-a,r-s,o-a,l);return ve.call(this,t,m,e),m},radialgradient:function(t,e){var n=parseFloat(t.getAttribute("cx"))||0,i=parseFloat(t.getAttribute("cy"))||0,r=parseFloat(t.getAttribute("r")),o=parseFloat(t.getAttribute("fx")),s=parseFloat(t.getAttribute("fy"));O.isNaN(o)&&(o=n),O.isNaN(s)&&(s=i);for(var a=Math.abs(n+o)/2,l=Math.abs(i+s)/2,c=[],h=0;h<t.children.length;h++){var u=t.children[h],d=u.getAttribute("offset");/%/gi.test(d)&&(d=parseFloat(d.replace(/%/gi,""))/100),d=parseFloat(d);var f,p=u.getAttribute("stop-color"),g=u.getAttribute("stop-opacity"),m=u.getAttribute("style");null===p&&(p=(f=!!m&&m.match(/stop-color:\s?([#a-fA-F0-9]*)/))&&f.length>1?f[1]:void 0),g=null===g?(f=!!m&&m.match(/stop-opacity:\s?([0-9.-]*)/))&&f.length>1?parseFloat(f[1]):1:parseFloat(g),c.push(new Tt(d,p,g))}var v=new jt(n-a,i-l,r,c,o-a,s-l);return ve.call(this,t,v,e),v},text:function(t,e){var n,i=(n=t.getAttribute("text-anchor"),he[n]||"left"),r=function(t){var e=t.getAttribute("dominant-baseline"),n=t.getAttribute("alignment-baseline");return e||n}(t)||"baseline",o=new le(t.textContent);return ve.call(this,t,o,e),o.alignment=i,o.baseline=r,o},clippath:function(t,e){return be.defs.current&&!be.defs.current.contains(t.id)&&be.defs.current.add(t.id,t),null},image:function(t,e){var n=t.getAttribute("href")||t.getAttribute("xlink:href");if(!n){var i=new Ot("encountered <image /> with no href.");return console.warn(i.name,i.message),null}var r=parseFloat(t.getAttribute("x"))||0,o=parseFloat(t.getAttribute("y"))||0,s=parseFloat(t.getAttribute("width")),a=parseFloat(t.getAttribute("height")),l=new Yt(n,r,o);return O.isNaN(s)||(l.width=s),O.isNaN(a)||(l.height=a),ve.call(this,t,l,e),l}};function we(t,e){var n=new XMLHttpRequest;return n.open("GET",t),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&e(n.responseText)},n.send(),n}function xe(t,e,n,i){Wt.call(this,[new z,new z,new z,new z],!0),this._renderer.flagTextures=xe.FlagTextures.bind(this),this._renderer.bindTextures=xe.BindTextures.bind(this),this._renderer.unbindTextures=xe.UnbindTextures.bind(this),this.noStroke(),this.noFill(),Array.isArray(t)?this.textures=t.map(xe.GenerateTexture.bind(this)):this.textures=[xe.GenerateTexture(t)],this.origin=new P,this._update(),this.translation.set(e||0,n||0),this.frameRate="number"==typeof i?i:xe.DefaultFrameRate,this.index=0}O.extend(xe,{Properties:["frameRate","index"],DefaultFrameRate:30,FlagTextures:function(){this._flagTextures=!0},BindTextures:function(t){for(var e=t.length;e--;)t[e].bind(E.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()},UnbindTextures:function(t){for(var e=t.length;e--;)t[e].unbind(E.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()},MakeObservable:function(t){Gt.MakeObservable(t),O.each(xe.Properties,At,t),Object.defineProperty(t,"textures",{enumerable:!0,get:function(){return this._textures},set:function(t){var e=this._renderer.bindTextures,n=this._renderer.unbindTextures;this._textures&&this._textures.unbind(E.Types.insert,e).unbind(E.Types.remove,n),this._textures=new ot((t||[]).slice(0)),this._textures.bind(E.Types.insert,e).bind(E.Types.remove,n),e(this._textures)}})},GenerateTexture:function(t){return t instanceof zt?t:"string"==typeof t?new zt(t):void 0}}),O.extend(xe.prototype,Gt.prototype,{constructor:xe,_flagTextures:!1,_flagFrameRate:!1,_flagIndex:!1,_amount:1,_duration:0,_index:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_textures:null,_frameRate:0,_origin:null,play:function(t,e,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=O.performance.now(),"number"==typeof t&&(this._firstFrame=t),"number"==typeof e&&(this._lastFrame=e),"function"==typeof n?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=this._firstFrame,this},clone:function(t){var e=new xe(this.textures,this.translation.x,this.translation.y,this.frameRate);return e._loop=this._loop,this._playing&&e.play(),t&&t.add(e),e},toObject:function(){var t=Gt.prototype.toObject.call(this);return t.textures=this.textures.map((function(t){return t.toObject()})),t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t},_update:function(){var t,e,n,i,r,o,s,a,l=this._textures;return this._flagTextures&&(this._amount=l.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(i=this._amount,O.isNaN(this._lastFrame)&&(this._lastFrame=i-1),n=O.performance.now()-this._startTime,r=1e3*((a=this._lastFrame+1)-this._firstFrame)/this._frameRate,this._loop?n%=r:n=Math.min(n,r),s=w(this._firstFrame,a,n/r),(s=Math.floor(s))!==this._index&&(this._index=s,(o=l[this._index]).loaded&&(t=o.image.width,e=o.image.height,this.width!==t&&(this.width=t),this.height!==e&&(this.height=e),this.fill=o,s>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):!this._flagIndex&&this.fill instanceof zt||((o=l[this._index]).loaded&&(t=o.image.width,e=o.image.height,this.width!==t&&(this.width=t),this.height!==e&&(this.height=e)),this.fill=o),Gt.prototype._update.call(this),this},flagReset:function(){return this._flagTextures=this._flagFrameRate=!1,Gt.prototype.flagReset.call(this),this}}),xe.MakeObservable(xe.prototype);var ke=2*Math.PI,Se=Math.PI/2;function Re(t,e,n,i,r,o,s){for(var a=s||3*B.Resolution,l=[],c=0;c<a;c++)l.push(new z);Wt.call(this,l,!0,!1,!0),"number"==typeof n&&(this.innerRadius=n),"number"==typeof i&&(this.outerRadius=i),"number"==typeof r&&(this.startAngle=r),"number"==typeof o&&(this.endAngle=o),this._update(),"number"==typeof t&&(this.translation.x=t),"number"==typeof e&&(this.translation.y=e)}O.extend(Re,{Properties:["startAngle","endAngle","innerRadius","outerRadius"],MakeObservable:function(t){Wt.MakeObservable(t),O.each(Re.Properties,At,t)}}),O.extend(Re.prototype,Wt.prototype,{constructor:Re,_flagStartAngle:!1,_flagEndAngle:!1,_flagInnerRadius:!1,_flagOuterRadius:!1,_startAngle:0,_endAngle:ke,_innerRadius:0,_outerRadius:0,_update:function(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){var t,e=this._startAngle,n=this._endAngle,i=this._innerRadius,r=this._outerRadius,o=x(e,ke)===x(n,ke),s=i>0,a=this.vertices,l=s?a.length/2:a.length,c=0;o?l--:s||(l-=2);for(var h=0,u=l-1;h<l;h++){var d=h/u,f=a[c],p=d*(n-e)+e,m=(n-e)/l,v=r*Math.cos(p),y=r*Math.sin(p);switch(h){case 0:t=g.move;break;default:t=g.curve}if(f.command=t,f.x=v,f.y=y,f.controls.left.clear(),f.controls.right.clear(),f.command===g.curve){var _=r*m/Math.PI;f.controls.left.x=_*Math.cos(p-Se),f.controls.left.y=_*Math.sin(p-Se),f.controls.right.x=_*Math.cos(p+Se),f.controls.right.y=_*Math.sin(p+Se),1===h&&f.controls.left.multiplyScalar(2),h===u&&f.controls.right.multiplyScalar(2)}c++}if(s){for(o?(a[c].command=g.close,c++):u=--l-1,h=0;h<l;h++)d=h/u,f=a[c],p=(1-d)*(n-e)+e,m=(n-e)/l,v=i*Math.cos(p),y=i*Math.sin(p),t=g.curve,h<=0&&(t=o?g.move:g.line),f.command=t,f.x=v,f.y=y,f.controls.left.clear(),f.controls.right.clear(),f.command===g.curve&&(_=i*m/Math.PI,f.controls.left.x=_*Math.cos(p+Se),f.controls.left.y=_*Math.sin(p+Se),f.controls.right.x=_*Math.cos(p-Se),f.controls.right.y=_*Math.sin(p-Se),1===h&&f.controls.left.multiplyScalar(2),h===u&&f.controls.right.multiplyScalar(2)),c++;a[c].copy(a[0]),a[c].command=g.line}else o||(a[c].command=g.line,a[c].x=0,a[c].y=0,a[++c].copy(a[0]),a[c].command=g.line)}return Wt.prototype._update.call(this),this},flagReset:function(){return Wt.prototype.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this},clone:function(t){var e=new Re(0,0,this.innerRadius,this.outerRadius,this.startAngle,this.endAngle,this.vertices.length);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),O.each(Wt.Properties,(function(t){e[t]=this[t]}),this),t&&t.add(e),e},toObject:function(){var t=Wt.prototype.toObject.call(this);return O.each(Re.Properties,(function(e){t[e]=this[e]}),this),t}}),Re.MakeObservable(Re.prototype);var Ce=2*Math.PI,Oe=Math.cos,Ee=Math.sin;function Ae(t,e,n,i){i=Math.max(i||0,3),Wt.call(this),this.closed=!0,this.automatic=!1,"number"==typeof n&&(this.width=2*n),"number"==typeof n&&(this.height=2*n),"number"==typeof i&&(this.sides=i),this._update(),"number"==typeof t&&(this.translation.x=t),"number"==typeof e&&(this.translation.y=e)}O.extend(Ae,{Properties:["width","height","sides"],MakeObservable:function(t){Wt.MakeObservable(t),O.each(Ae.Properties,At,t)}}),O.extend(Ae.prototype,Wt.prototype,{constructor:Ae,_flagWidth:!1,_flagHeight:!1,_flagSides:!1,_width:0,_height:0,_sides:0,_update:function(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){var t=this._sides,e=t+1,n=this.vertices.length;n>t&&(this.vertices.splice(t-1,n-t),n=t);for(var i=0;i<e;i++){var r=Ce*((i+.5)/t)+Math.PI/2,o=this._width*Oe(r)/2,s=this._height*Ee(r)/2;i>=n?this.vertices.push(new z(o,s)):this.vertices[i].set(o,s),this.vertices[i].command=0===i?g.move:g.line}}return Wt.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagSides=!1,Wt.prototype.flagReset.call(this),this},clone:function(t){var e=new Ae(0,0,this.radius,this.sides);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),O.each(Wt.Properties,(function(t){e[t]=this[t]}),this),t&&t.add(e),e},toObject:function(){var t=Wt.prototype.toObject.call(this);return O.each(Ae.Properties,(function(e){t[e]=this[e]}),this),t}}),Ae.MakeObservable(Ae.prototype);var Me=2*Math.PI,Te=Math.cos,Pe=Math.sin;function Fe(t,e,n,i,r){arguments.length<=3&&(n=(i=n)/2),("number"!=typeof r||r<=0)&&(r=5),Wt.call(this),this.closed=!0,this.automatic=!1,"number"==typeof n&&(this.innerRadius=n),"number"==typeof i&&(this.outerRadius=i),"number"==typeof r&&(this.sides=r),this._update(),"number"==typeof t&&(this.translation.x=t),"number"==typeof e&&(this.translation.y=e)}O.extend(Fe,{Properties:["innerRadius","outerRadius","sides"],MakeObservable:function(t){Wt.MakeObservable(t),O.each(Fe.Properties,At,t)}}),O.extend(Fe.prototype,Wt.prototype,{constructor:Fe,_flagInnerRadius:!1,_flagOuterRadius:!1,_flagSides:!1,_innerRadius:0,_outerRadius:0,_sides:0,_update:function(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){var t=2*this._sides,e=t+1,n=this.vertices.length;n>t&&(this.vertices.splice(t-1,n-t),n=t);for(var i=0;i<e;i++){var r=Me*((i+.5)/t),o=(i%2?this._outerRadius:this._innerRadius)/2,s=o*Te(r),a=o*Pe(r);i>=n?this.vertices.push(new z(s,a)):this.vertices[i].set(s,a),this.vertices[i].command=0===i?g.move:g.line}}return Wt.prototype._update.call(this),this},flagReset:function(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,Wt.prototype.flagReset.call(this),this},clone:function(t){var e=new Fe(0,0,this.innerRadius,this.outerRadius,this.sides);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),O.each(Wt.Properties,(function(t){e[t]=this[t]}),this),t&&t.add(e),e},toObject:function(){var t=Wt.prototype.toObject.call(this);return O.each(Fe.Properties,(function(e){t[e]=this[e]}),this),t}}),Fe.MakeObservable(Fe.prototype);var je={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(t,e){var n=t,i=document.createElementNS(je.ns,n);return"svg"===n&&(e=O.defaults(e||{},{version:je.version})),e&&Object.keys(e).length>0&&je.setAttributes(i,e),i},setAttributes:function(t,e){for(var n=Object.keys(e),i=0;i<n.length;i++)/href/.test(n[i])?t.setAttributeNS(je.xlink,n[i],e[n[i]]):t.setAttribute(n[i],e[n[i]]);return this},removeAttributes:function(t,e){for(var n in e)t.removeAttribute(n);return this},toString:function(t,e){for(var n,i=t.length,r=i-1,o="",s=0;s<i;s++){var a,l,c,h,u,d,f,p,m,v,y,_,b,w,k=t[s],R=e?x(s-1,i):Math.max(s-1,0),C=e?x(s+1,i):Math.min(s+1,r),O=t[R],E=t[C],A=S(k.x),M=S(k.y);switch(k.command){case g.close:a=g.close;break;case g.arc:v=k.rx,y=k.ry,_=k.xAxisRotation,b=k.largeArcFlag,w=k.sweepFlag,a=g.arc+" "+v+" "+y+" "+_+" "+b+" "+w+" "+A+" "+M;break;case g.curve:d=O.controls&&O.controls.right||P.zero,f=k.controls&&k.controls.left||P.zero,O.relative?(l=S(d.x+O.x),c=S(d.y+O.y)):(l=S(d.x),c=S(d.y)),k.relative?(h=S(f.x+k.x),u=S(f.y+k.y)):(h=S(f.x),u=S(f.y)),a=(0===s?g.move:g.curve)+" "+l+" "+c+" "+h+" "+u+" "+A+" "+M;break;case g.move:n=k,a=g.move+" "+A+" "+M;break;default:a=k.command+" "+A+" "+M}s>=r&&e&&(k.command===g.curve&&(E=n,p=k.controls&&k.controls.right||k,m=E.controls&&E.controls.left||E,k.relative?(l=S(p.x+k.x),c=S(p.y+k.y)):(l=S(p.x),c=S(p.y)),E.relative?(h=S(m.x+E.x),u=S(m.y+E.y)):(h=S(m.x),u=S(m.y)),a+=" C "+l+" "+c+" "+h+" "+u+" "+(A=S(E.x))+" "+(M=S(E.y))),k.command!==g.close&&(a+=" Z")),o+=a+" "}return o},getClip:function(t,e){var n=t._renderer.clip;return n||(n=t._renderer.clip=je.createElement("clipPath",{"clip-rule":"nonzero"}),e.defs.appendChild(n)),n},group:{appendChild:function(t){var e=t._renderer.elem;if(e){var n=e.nodeName;!n||/(radial|linear)gradient/i.test(n)||t._clip||this.elem.appendChild(e)}},removeChild:function(t){var e=t._renderer.elem;e&&e.parentNode==this.elem&&e.nodeName&&(t._clip||this.elem.removeChild(e))},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){je[t._renderer.type].render.call(t,this)},render:function(t){if(!this._visible&&!this._flagVisible||0===this._opacity&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=je.createElement("g",{id:this.id}),t.appendChild(this._renderer.elem));var e=this._matrix.manual||this._flagMatrix,n={domElement:t,elem:this._renderer.elem};e&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(var i=0;i<this.children.length;i++){var r=this.children[i];je[r._renderer.type].render.call(r,t)}return this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(je.group.appendChild,n),this._flagSubtractions&&this.subtractions.forEach(je.group.removeChild,n),this._flagOrder&&this.children.forEach(je.group.orderChild,n),this._flagMask&&(this._mask?(je[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},path:{render:function(t){if(0===this._opacity&&!this._flagOpacity)return this;this._update();var e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagVertices){var n=je.toString(this._renderer.vertices,this._closed);e.d=n}if(this._fill&&this._fill._renderer&&(this._fill._update(),je[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),je[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._flagCap&&(e["stroke-linecap"]=this._cap),this._flagJoin&&(e["stroke-linejoin"]=this._join),this._flagMiter&&(e["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?je.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=je.createElement("path",e),t.appendChild(this._renderer.elem)),this._flagClip){var i=je.getClip(this,t),r=this._renderer.elem;this._clip?(r.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(r)):(i.removeAttribute("id"),r.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(r))}return this._flagMask&&(this._mask?(je[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},text:{render:function(t){this._update();var e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagFamily&&(e["font-family"]=this._family),this._flagSize&&(e["font-size"]=this._size),this._flagLeading&&(e["line-height"]=this._leading),this._flagAlignment&&(e["text-anchor"]=je.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e["alignment-baseline"]=e["dominant-baseline"]=this._baseline),this._flagStyle&&(e["font-style"]=this._style),this._flagWeight&&(e["font-weight"]=this._weight),this._flagDecoration&&(e["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._fill._update(),je[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),je[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?je.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=je.createElement("text",e),t.defs.appendChild(this._renderer.elem)),this._flagClip){var n=je.getClip(this,t),i=this._renderer.elem;this._clip?(i.removeAttribute("id"),n.setAttribute("id",this.id),n.appendChild(i)):(n.removeAttribute("id"),i.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(i))}return this._flagMask&&(this._mask?(je[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(t,e){e||this._update();var n={};if(this._flagId&&(n.id=this._id),this._flagEndPoints&&(n.x1=this.left._x,n.y1=this.left._y,n.x2=this.right._x,n.y2=this.right._y),this._flagSpread&&(n.spreadMethod=this._spread),this._renderer.elem?je.setAttributes(this._renderer.elem,n):(n.id=this._id,n.gradientUnits="userSpaceOnUse",this._renderer.elem=je.createElement("linearGradient",n),t.defs.appendChild(this._renderer.elem)),this._flagStops){var i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var r=0;r<this.stops.length;r++){var o=this.stops[r],s={};o._flagOffset&&(s.offset=100*o._offset+"%"),o._flagColor&&(s["stop-color"]=o._color),o._flagOpacity&&(s["stop-opacity"]=o._opacity),o._renderer.elem?je.setAttributes(o._renderer.elem,s):o._renderer.elem=je.createElement("stop",s),i&&this._renderer.elem.appendChild(o._renderer.elem),o.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(t,e){e||this._update();var n={};if(this._flagId&&(n.id=this._id),this._flagCenter&&(n.cx=this.center._x,n.cy=this.center._y),this._flagFocal&&(n.fx=this.focal._x,n.fy=this.focal._y),this._flagRadius&&(n.r=this._radius),this._flagSpread&&(n.spreadMethod=this._spread),this._renderer.elem?je.setAttributes(this._renderer.elem,n):(n.id=this._id,n.gradientUnits="userSpaceOnUse",this._renderer.elem=je.createElement("radialGradient",n),t.defs.appendChild(this._renderer.elem)),this._flagStops){var i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var r=0;r<this.stops.length;r++){var o=this.stops[r],s={};o._flagOffset&&(s.offset=100*o._offset+"%"),o._flagColor&&(s["stop-color"]=o._color),o._flagOpacity&&(s["stop-opacity"]=o._opacity),o._renderer.elem?je.setAttributes(o._renderer.elem,s):o._renderer.elem=je.createElement("stop",s),i&&this._renderer.elem.appendChild(o._renderer.elem),o.flagReset()}}return this.flagReset()}},texture:{render:function(t,e){e||this._update();var n={},i={x:0,y:0},r=this.image;if(this._flagId&&(n.id=this._id),this._flagLoaded&&this.loaded)switch(r.nodeName.toLowerCase()){case"canvas":i.href=i["xlink:href"]=r.toDataURL("image/png");break;case"img":case"image":i.href=i["xlink:href"]=this.src}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(n.x=this._offset.x,n.y=this._offset.y,r&&(n.x-=r.width/2,n.y-=r.height/2,this._scale instanceof P?(n.x*=this._scale.x,n.y*=this._scale.y):(n.x*=this._scale,n.y*=this._scale)),n.x>0&&(n.x*=-1),n.y>0&&(n.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(n.width=0,n.height=0,r)){switch(i.width=n.width=r.width,i.height=n.height=r.height,this._repeat){case"no-repeat":n.width+=1,n.height+=1}this._scale instanceof P?(n.width*=this._scale.x,n.height*=this._scale.y):(n.width*=this._scale,n.height*=this._scale)}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?je.setAttributes(this._renderer.image,i):this._renderer.image=je.createElement("image",i)),this._renderer.elem?0!==Object.keys(n).length&&je.setAttributes(this._renderer.elem,n):(n.id=this._id,n.patternUnits="userSpaceOnUse",this._renderer.elem=je.createElement("pattern",n),t.defs.appendChild(this._renderer.elem)),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}};function Ie(t){this.domElement=t.domElement||je.createElement("svg"),this.scene=new ct,this.scene.parent=this,this.defs=je.createElement("defs"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}O.extend(Ie,{Utils:je}),O.extend(Ie.prototype,E,{constructor:Ie,setSize:function(t,e){return this.width=t,this.height=e,je.setAttributes(this.domElement,{width:t,height:e}),this.trigger(E.Types.resize,t,e)},render:function(){return je.group.render.call(this.scene,this.domElement),this}});var ze=it.Multiply,Le=[1,0,0,0,1,0,0,0,1],De=new k(9),Be=xt.Utils,Ve={isHidden:/(undefined|none|transparent)/i,canvas:v.document?v.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new it,group:{removeChild:function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)Ve.group.removeChild(t.children[n],e);else e.deleteTexture(t._renderer.texture),delete t._renderer.texture},render:function(t,e){if(this._visible){this._update();var n,i=this.parent,r=i._matrix&&i._matrix.manual||i._flagMatrix,o=this._matrix.manual||this._flagMatrix;if((r||o)&&(this._renderer.matrix||(this._renderer.matrix=new k(9)),this._matrix.toTransformArray(!0,De),ze(De,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof P||(this._renderer.scale=new P),this._scale instanceof P?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(i._renderer.type)||(this._renderer.scale.x*=i._renderer.scale.x,this._renderer.scale.y*=i._renderer.scale.y),r&&(this._flagMatrix=!0)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),Ve[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),this._flagOpacity=i._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1),this._flagSubtractions)for(n=0;n<this.subtractions.length;n++)Ve.group.removeChild(this.subtractions[n],t);for(n=0;n<this.children.length;n++){var s=this.children[n];Ve[s._renderer.type].render.call(s,t,e)}return this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}}},path:{updateCanvas:function(t){var e,n,i,r,o,s,a,l,c,h,u,d,f,p,m,v=t._renderer.vertices,y=this.canvas,_=this.ctx,b=t._renderer.scale,w=t._stroke,k=t._linewidth,S=t._fill,R=t._renderer.opacity||t._opacity,C=t._cap,O=t._join,E=t._miter,A=t._closed,M=t.dashes,T=v.length,F=T-1;y.width=Math.max(Math.ceil(t._renderer.rect.width*b.x),1),y.height=Math.max(Math.ceil(t._renderer.rect.height*b.y),1);var j,I=t._renderer.rect.centroid,z=I.x,L=I.y;_.clearRect(0,0,y.width,y.height),S&&("string"==typeof S?_.fillStyle=S:(Ve[S._renderer.type].render.call(S,_,t),_.fillStyle=S._renderer.effect)),w&&("string"==typeof w?_.strokeStyle=w:(Ve[w._renderer.type].render.call(w,_,t),_.strokeStyle=w._renderer.effect),k&&(_.lineWidth=k),E&&(_.miterLimit=E),O&&(_.lineJoin=O),!A&&C&&(_.lineCap=C)),"number"==typeof R&&(_.globalAlpha=R),M&&M.length>0&&(_.lineDashOffset=M.offset||0,_.setLineDash(M)),_.save(),_.scale(b.x,b.y),_.translate(z,L),_.beginPath();for(var D=0;D<v.length;D++){var B=v[D];switch(f=B.x,p=B.y,B.command){case g.close:_.closePath();break;case g.arc:var V=B.rx,W=B.ry,U=B.xAxisRotation,N=B.largeArcFlag,q=B.sweepFlag,H=(i=v[n=A?x(D-1,T):Math.max(D-1,0)]).x,G=i.y;Be.renderSvgArcCommand(_,H,G,V,W,N,q,U,f,p);break;case g.curve:n=A?x(D-1,T):Math.max(D-1,0),e=A?x(D+1,T):Math.min(D+1,F),i=v[n],r=v[e],c=i.controls&&i.controls.right||P.zero,h=B.controls&&B.controls.left||P.zero,i._relative?(a=c.x+i.x,l=c.y+i.y):(a=c.x,l=c.y),B._relative?(o=h.x+B.x,s=h.y+B.y):(o=h.x,s=h.y),_.bezierCurveTo(a,l,o,s,f,p),D>=F&&A&&(r=j,u=B.controls&&B.controls.right||P.zero,d=r.controls&&r.controls.left||P.zero,B._relative?(a=u.x+B.x,l=u.y+B.y):(a=u.x,l=u.y),r._relative?(o=d.x+r.x,s=d.y+r.y):(o=d.x,s=d.y),f=r.x,p=r.y,_.bezierCurveTo(a,l,o,s,f,p));break;case g.line:_.lineTo(f,p);break;case g.move:j=B,_.moveTo(f,p)}}A&&_.closePath(),Ve.isHidden.test(S)||((m=S._renderer&&S._renderer.offset)&&(_.save(),_.translate(-S._renderer.offset.x,-S._renderer.offset.y),_.scale(S._renderer.scale.x,S._renderer.scale.y)),_.fill(),m&&_.restore()),Ve.isHidden.test(w)||((m=w._renderer&&w._renderer.offset)&&(_.save(),_.translate(-w._renderer.offset.x,-w._renderer.offset.y),_.scale(w._renderer.scale.x,w._renderer.scale.y),_.lineWidth=k/w._renderer.scale.x),_.stroke(),m&&_.restore()),_.restore()},getBoundingClientRect:function(t,e,n){var i,r,o=1/0,s=-1/0,a=1/0,l=-1/0;t.forEach((function(t){var e,n,i,r,c,h,u=t.x,d=t.y,f=t.controls;a=Math.min(d,a),o=Math.min(u,o),s=Math.max(u,s),l=Math.max(d,l),t.controls&&(c=f.left,h=f.right,c&&h&&(e=t._relative?c.x+u:c.x,n=t._relative?c.y+d:c.y,i=t._relative?h.x+u:h.x,r=t._relative?h.y+d:h.y,e&&n&&i&&r&&(a=Math.min(n,r,a),o=Math.min(e,i,o),s=Math.max(e,i,s),l=Math.max(n,r,l))))})),"number"==typeof e&&(a-=e,o-=e,s+=e,l+=e),i=s-o,r=l-a,n.top=a,n.left=o,n.right=s,n.bottom=l,n.width=i,n.height=r,n.centroid||(n.centroid={}),n.centroid.x=-o,n.centroid.y=-a},render:function(t,e,n){if(!this._visible||!this._opacity)return this;this._update();var i=n||this.parent,r=i._matrix.manual||i._flagMatrix,o=this._matrix.manual||this._flagMatrix,s=this._renderer.parent!==i,a=this._flagVertices||this._flagFill||this._fill instanceof Ft&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof jt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof zt&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Ft&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof jt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof zt&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((r||o||s)&&(this._renderer.matrix||(this._renderer.matrix=new k(9)),this._matrix.toTransformArray(!0,De),ze(De,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof P||(this._renderer.scale=new P),this._scale instanceof P?(this._renderer.scale.x=this._scale.x*i._renderer.scale.x,this._renderer.scale.y=this._scale.y*i._renderer.scale.y):(this._renderer.scale.x=this._scale*i._renderer.scale.x,this._renderer.scale.y=this._scale*i._renderer.scale.y),s&&(this._renderer.parent=i)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),Ve[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),a?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Ve.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),Ve.updateTexture.call(Ve,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),!this._clip||n){t.bindTexture(t.TEXTURE_2D,this._renderer.texture);var l=this._renderer.rect;return t.uniformMatrix3fv(e.matrix,!1,this._renderer.matrix),t.uniform4f(e.rect,l.left,l.top,l.right,l.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}}},text:{updateCanvas:function(t){var e=this.canvas,n=this.ctx,i=t._renderer.scale,r=t._stroke,o=t._linewidth*i,s=t._fill,a=t._renderer.opacity||t._opacity,l=t.dashes,c=t._decoration;e.width=Math.max(Math.ceil(t._renderer.rect.width*i.x),1),e.height=Math.max(Math.ceil(t._renderer.rect.height*i.y),1);var h,u,d,f,p,g,m,v,y,_,b,w=t._renderer.rect.centroid,x=w.x,k=w.y,S=s._renderer&&s._renderer.offset&&r._renderer&&r._renderer.offset;if(n.clearRect(0,0,e.width,e.height),S||(n.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),n.textAlign="center",n.textBaseline="middle",s&&("string"==typeof s?n.fillStyle=s:(Ve[s._renderer.type].render.call(s,n,t),n.fillStyle=s._renderer.effect)),r&&("string"==typeof r?n.strokeStyle=r:(Ve[r._renderer.type].render.call(r,n,t),n.strokeStyle=r._renderer.effect),o&&(n.lineWidth=o)),"number"==typeof a&&(n.globalAlpha=a),l&&l.length>0&&(n.lineDashOffset=l.offset||0,n.setLineDash(l)),n.save(),n.scale(i.x,i.y),n.translate(x,k),Ve.isHidden.test(s)||(s._renderer&&s._renderer.offset?(g=s._renderer.scale.x,m=s._renderer.scale.y,n.save(),n.translate(-s._renderer.offset.x,-s._renderer.offset.y),n.scale(g,m),h=t._size/s._renderer.scale.y,u=t._leading/s._renderer.scale.y,n.font=[t._style,t._weight,h+"px/",u+"px",t._family].join(" "),d=s._renderer.offset.x/s._renderer.scale.x,f=s._renderer.offset.y/s._renderer.scale.y,n.fillText(t.value,d,f),n.restore()):n.fillText(t.value,0,0)),Ve.isHidden.test(r)||(r._renderer&&r._renderer.offset?(g=r._renderer.scale.x,m=r._renderer.scale.y,n.save(),n.translate(-r._renderer.offset.x,-r._renderer.offset.y),n.scale(g,m),h=t._size/r._renderer.scale.y,u=t._leading/r._renderer.scale.y,n.font=[t._style,t._weight,h+"px/",u+"px",t._family].join(" "),d=r._renderer.offset.x/r._renderer.scale.x,f=r._renderer.offset.y/r._renderer.scale.y,p=o/r._renderer.scale.x,n.lineWidth=p,n.strokeText(t.value,d,f),n.restore()):n.strokeText(t.value,0,0)),/(underline|strikethrough)/i.test(c)){var R=n.measureText(t.value);switch(c){case"underline":y=R.actualBoundingBoxAscent,b=R.actualBoundingBoxAscent;break;case"strikethrough":y=0,b=0}v=-R.width/2,_=R.width/2,n.lineWidth=Math.max(Math.floor(t._size/15),1),n.strokeStyle=n.fillStyle,n.beginPath(),n.moveTo(v,y),n.lineTo(_,b),n.stroke()}n.restore()},getBoundingClientRect:function(t,e){var n=Ve.ctx;n.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),n.textAlign="center",n.textBaseline=t._baseline;var i=1.25*n.measureText(t._value).width,r=1.25*Math.max(t._size,t._leading);this._linewidth&&!Ve.isHidden.test(this._stroke)&&(i+=2*this._linewidth,r+=2*this._linewidth);var o=i/2,s=r/2;switch(Ve.alignments[t._alignment]||t._alignment){case Ve.alignments.left:e.left=0,e.right=i;break;case Ve.alignments.right:e.left=-i,e.right=0;break;default:e.left=-o,e.right=o}switch(t._baseline){case"bottom":e.top=-r,e.bottom=0;break;case"top":e.top=0,e.bottom=r;break;default:e.top=-s,e.bottom=s}e.width=i,e.height=r,e.centroid||(e.centroid={}),e.centroid.x=o,e.centroid.y=s},render:function(t,e,n){if(!this._visible||!this._opacity)return this;this._update();var i=n||this.parent,r=i._matrix.manual||i._flagMatrix,o=this._matrix.manual||this._flagMatrix,s=this._renderer.parent!==i,a=this._flagVertices||this._flagFill||this._fill instanceof Ft&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof jt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof zt&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Ft&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof jt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof zt&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((r||o||s)&&(this._renderer.matrix||(this._renderer.matrix=new k(9)),this._matrix.toTransformArray(!0,De),ze(De,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof P||(this._renderer.scale=new P),this._scale instanceof P?(this._renderer.scale.x=this._scale.x*i._renderer.scale.x,this._renderer.scale.y=this._scale.y*i._renderer.scale.y):(this._renderer.scale.x=this._scale*i._renderer.scale.x,this._renderer.scale.y=this._scale*i._renderer.scale.y),s&&(this._renderer.parent=i)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),Ve[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),a?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Ve.text.getBoundingClientRect(this,this._renderer.rect),Ve.updateTexture.call(Ve,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),!this._clip||n){t.bindTexture(t.TEXTURE_2D,this._renderer.texture);var l=this._renderer.rect;return t.uniformMatrix3fv(e.matrix,!1,this._renderer.matrix),t.uniform4f(e.rect,l.left,l.top,l.right,l.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}}},"linear-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var n=0;n<this.stops.length;n++){var i=this.stops[n];this._renderer.effect.addColorStop(i._offset,i._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var n=0;n<this.stops.length;n++){var i=this.stops[n];this._renderer.effect.addColorStop(i._offset,i._color)}}return this.flagReset()}}},texture:{render:function(t,e){if(t.canvas.getContext("2d")){this._update();var n=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=t.createPattern(n,this._repeat);else if(!this._renderer.effect)return this.flagReset();return(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof P||(this._renderer.offset=new P),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,n&&(this._renderer.offset.x+=n.width/2,this._renderer.offset.y+=n.height/2,this._scale instanceof P?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof P||(this._renderer.scale=new P),this._scale instanceof P?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}}},updateTexture:function(t,e){this[e._renderer.type].updateCanvas.call(Ve,e),e._renderer.texture||(e._renderer.texture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.canvas.width<=0||this.canvas.height<=0||t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},program:{create:function(t,e){var n,i;if(n=t.createProgram(),O.each(e,(function(e){t.attachShader(n,e)})),t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS))throw i=t.getProgramInfoLog(n),t.deleteProgram(n),new Ot("unable to link program: "+i);return n}},shaders:{create:function(t,e,n){var i,r;if(i=t.createShader(t[n]),t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw r=t.getShaderInfoLog(i),t.deleteShader(i),new Ot("unable to compile shader "+i+": "+r);return i},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},vertex:["precision mediump float;","attribute vec2 a_position;","","uniform mat3 u_matrix;","uniform vec2 u_resolution;","uniform vec4 u_rect;","","varying vec2 v_textureCoords;","","void main() {","   vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;","   vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;","   vec2 normal = projected / u_resolution;","   vec2 clipspace = (normal * 2.0) - 1.0;","","   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);","   v_textureCoords = a_position;","}"].join("\n"),fragment:["precision mediump float;","","uniform sampler2D u_image;","varying vec2 v_textureCoords;","","void main() {","  vec4 texel = texture2D(u_image, v_textureCoords);","  if (texel.a == 0.0) {","    discard;","  }","  gl_FragColor = texel;","}"].join("\n")},TextureRegistry:new Mt};function We(t){var e,n,i;if(this.domElement=t.domElement||document.createElement("canvas"),void 0!==t.offscreenElement&&(Ve.canvas=t.offscreenElement,Ve.ctx=Ve.canvas.getContext("2d")),this.scene=new ct,this.scene.parent=this,this._renderer={type:"renderer",matrix:new k(Le),scale:1,opacity:1},this._flagMatrix=!0,t=O.defaults(t||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=t.overdraw,e=this.ctx=this.domElement.getContext("webgl",t)||this.domElement.getContext("experimental-webgl",t),!this.ctx)throw new Ot("unable to create a webgl context. Try using another renderer.");n=Ve.shaders.create(e,Ve.shaders.vertex,Ve.shaders.types.vertex),i=Ve.shaders.create(e,Ve.shaders.fragment,Ve.shaders.types.fragment),this.program=Ve.program.create(e,[n,i]),e.useProgram(this.program),this.program.position=e.getAttribLocation(this.program,"a_position"),this.program.matrix=e.getUniformLocation(this.program,"u_matrix"),this.program.rect=e.getUniformLocation(this.program,"u_rect");var r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.vertexAttribPointer(this.program.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.program.position),e.bufferData(e.ARRAY_BUFFER,new k([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enable(e.BLEND),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}function Ue(t){var e=O.defaults(t||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:Ue.Types.svg,autostart:!1});if(O.each(e,(function(t,e){/fullscreen/i.test(e)||/autostart/i.test(e)||(this[e]=t)}),this),O.isElement(e.domElement)){var n=e.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+n)||(this.type=Ue.Types[n])}this.renderer=new Ue[this.type](this),this.setPlaying(e.autostart),this.frameCount=0,e.fullscreen?(this.fit=Ne.bind(this),this.fit.domElement=window,this.fit.attached=!0,O.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),O.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),Rt.bind(this.fit.domElement,"resize",this.fit),this.fit()):e.fitted?(this.fit=qe.bind(this),O.extend(this.renderer.domElement.style,{display:"block"})):O.isElement(e.domElement)||(this.renderer.setSize(e.width,e.height,this.ratio),this.width=e.width,this.height=e.height),this.renderer.bind(E.Types.resize,He.bind(this)),this.scene=this.renderer.scene,Ue.Instances.push(this),e.autostart&&Ge.init()}function Ne(){var t=document.body.getBoundingClientRect(),e=this.width=t.width,n=this.height=t.height;this.renderer.setSize(e,n,this.ratio)}function qe(){var t=this.renderer.domElement.parentElement;if(t){var e=t.getBoundingClientRect(),n=this.width=e.width,i=this.height=e.height;this.renderer.setSize(n,i,this.ratio)}else console.warn("Two.js: Attempting to fit to parent, but no parent found.")}function He(t,e){this.width=t,this.height=e,this.trigger(E.Types.resize,t,e)}Ve.ctx=Ve.canvas.getContext("2d"),O.extend(We,{Utils:Ve}),O.extend(We.prototype,E,{constructor:We,setSize:function(t,e,n){this.width=t,this.height=e,this.ratio=void 0===n?J(this.ctx):n,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,O.isObject(this.domElement.style)&&O.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,this.ctx.viewport(0,0,t*this.ratio,e*this.ratio);var i=this.ctx.getUniformLocation(this.program,"u_resolution");return this.ctx.uniform2f(i,t*this.ratio,e*this.ratio),this.trigger(E.Types.resize,t,e,n)},render:function(){var t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT),Ve.group.render.call(this.scene,t,this.program),this._flagMatrix=!1,this}}),O.extend(Ue,B),O.extend(Ue.prototype,E,{constructor:Ue,type:"",renderer:null,scene:null,width:0,height:0,frameCount:0,timeDelta:0,playing:!1,appendTo:function(t){return t.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=t,this.fit.attached=!1),this.update()),this},play:function(){return this.playing=!0,Ge.init(),this.trigger(E.Types.play)},pause:function(){return this.playing=!1,this.trigger(E.Types.pause)},setPlaying:function(t){this.playing=t},release:function(t){var e,n,i;if(O.isObject(t)){if("function"==typeof t.unbind&&t.unbind(),t.vertices)for("function"==typeof t.vertices.unbind&&t.vertices.unbind(),e=0;e<t.vertices.length;e++)"function"==typeof(n=t.vertices[e]).unbind&&n.unbind();if(t.children)for(e=0;e<t.children.length;e++)i=t.children[e],this.release(i);return t}},update:function(){var t=!!this._lastFrame,e=O.performance.now();t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e,this.fit&&this.fit.domElement&&!this.fit.attached&&(Rt.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());var n=this.width,i=this.height,r=this.renderer;return n===r.width&&i===r.height||r.setSize(n,i,this.ratio),this.trigger(E.Types.update,this.frameCount,this.timeDelta),this.render()},render:function(){return this.renderer.render(),this.trigger(E.Types.render,this.frameCount++)},add:function(t){var e=t;return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.add(e),this},remove:function(t){var e=t;return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.remove(e),this},clear:function(){return this.scene.remove(this.scene.children),this},makeLine:function(t,e,n,i){var r=new re(t,e,n,i);return this.scene.add(r),r},makeArrow:function(t,e,n,i,r){var o="number"==typeof r?r:10,s=Math.atan2(i-e,n-t),a=new Wt([new z(t,e,void 0,void 0,void 0,void 0,g.move),new z(n,i,void 0,void 0,void 0,void 0,g.line),new z(n-o*Math.cos(s-Math.PI/4),i-o*Math.sin(s-Math.PI/4),void 0,void 0,void 0,void 0,g.line),new z(n,i,void 0,void 0,void 0,void 0,g.move),new z(n-o*Math.cos(s+Math.PI/4),i-o*Math.sin(s+Math.PI/4),void 0,void 0,void 0,void 0,g.line)],!1,!1,!0);return a.noFill(),a.cap="round",a.join="round",this.scene.add(a),a},makeRectangle:function(t,e,n,i){var r=new Gt(t,e,n,i);return this.scene.add(r),r},makeRoundedRectangle:function(t,e,n,i,r){var o=new oe(t,e,n,i,r);return this.scene.add(o),o},makeCircle:function(t,e,n,i){var r=new Jt(t,e,n,i);return this.scene.add(r),r},makeEllipse:function(t,e,n,i,r){var o=new ie(t,e,n,i,r);return this.scene.add(o),o},makeStar:function(t,e,n,i,r){var o=new Fe(t,e,n,i,r);return this.scene.add(o),o},makeCurve:function(t){var e=arguments.length,n=t;if(!Array.isArray(t)){n=[];for(var i=0;i<e;i+=2){var r=arguments[i];if("number"!=typeof r)break;var o=arguments[i+1];n.push(new z(r,o))}}var s=arguments[e-1],a=new Wt(n,!("boolean"==typeof s?s:void 0),!0),l=a.getBoundingClientRect();return a.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(a),a},makePolygon:function(t,e,n,i){var r=new Ae(t,e,n,i);return this.scene.add(r),r},makeArcSegment:function(t,e,n,i,r,o,s){var a=new Re(t,e,n,i,r,o,s);return this.scene.add(a),a},makePath:function(t){var e=arguments.length,n=t;if(!Array.isArray(t)){n=[];for(var i=0;i<e;i+=2){var r=arguments[i];if("number"!=typeof r)break;var o=arguments[i+1];n.push(new z(r,o))}}var s=arguments[e-1],a=new Wt(n,!("boolean"==typeof s?s:void 0)),l=a.getBoundingClientRect();return"number"==typeof l.top&&"number"==typeof l.left&&"number"==typeof l.right&&"number"==typeof l.bottom&&a.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(a),a},makeText:function(t,e,n,i){var r=new le(t,e,n,i);return this.add(r),r},makeLinearGradient:function(t,e,n,i){var r=Array.prototype.slice.call(arguments,4),o=new Ft(t,e,n,i,r);return this.add(o),o},makeRadialGradient:function(t,e,n){var i=Array.prototype.slice.call(arguments,3),r=new jt(t,e,n,i);return this.add(r),r},makeSprite:function(t,e,n,i,r,o,s){var a=new Yt(t,e,n,i,r,o);return s&&a.play(),this.add(a),a},makeImageSequence:function(t,e,n,i,r){var o=new xe(t,e,n,i);return r&&o.play(),this.add(o),o},makeTexture:function(t,e){return new zt(t,e)},makeGroup:function(t){var e=t;e instanceof Array||(e=Array.prototype.slice.call(arguments));var n=new ct;return this.scene.add(n),n.add(e),n},interpret:function(t,e,n){var i=t.tagName.toLowerCase();if(n=void 0===n||n,!(i in be))return null;var r=be[i].call(this,t);return n?this.add(e&&r instanceof ct?r.children:r):r.parent&&r.remove(),r},load:function(t,e){var n,i,r,o,s=new ct,a=function(t){for(Rt.temp.innerHTML=t,i=0;i<Rt.temp.children.length;i++)if(n=Rt.temp.children[i],/svg/i.test(n.nodeName))for(o=this.interpret(n),r=0;r<o.children.length;r++)s.add(o.children[r]);else s.add(this.interpret(n));if("function"==typeof e){var a=Rt.temp.children.length<=1?Rt.temp.children[0]:Rt.temp.children;e(s,a)}}.bind(this);return/.*\.svg/gi.test(t)?(we(t,a),s):(a(t),s)}});var Ge=Rt.getRequestAnimationFrame();function Ye(){for(var t=0;t<Ue.Instances.length;t++){var e=Ue.Instances[t];e.playing&&e.update()}Ue.nextFrameID=Ge(Ye)}Ge.init=function(){Ye(),Ge.init=function(){}},O.extend(Ue,{Anchor:z,Collection:ot,Events:E,Group:ct,Matrix:it,Path:Wt,Registry:Mt,Shape:rt,Text:le,Vector:P,Gradient:Pt,ImageSequence:xe,LinearGradient:Ft,RadialGradient:jt,Sprite:Yt,Stop:Tt,Texture:zt,ArcSegment:Re,Circle:Jt,Ellipse:ie,Line:re,Polygon:Ae,Rectangle:Gt,RoundedRectangle:oe,Star:Fe,CanvasRenderer:xt,SVGRenderer:Ie,WebGLRenderer:We,Commands:g,Utils:O.extend({Error:Ot,getRatio:J,defineGetterSetter:At,read:be,xhr:we},O,St,K,R)});var Xe=Ue,Ze=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ke=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),$e=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(t){return 0===this.indexOf(t)},String.prototype.padStart=String.prototype.padStart||function(t,e){for(var n=this;n.length<t;)n=e+n;return n};var Je={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function Qe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e>0?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString();return n||"0"}var tn=function(){function t(e,n,i,r){Ze(this,t);var o=this;if(void 0===e);else if(Array.isArray(e))this.rgba=e;else if(void 0===i){var s=e&&""+e;s&&function(e){if(e.startsWith("hsl")){var n=e.match(/([\-\d\.e]+)/g).map(Number),i=$e(n,4),r=i[0],s=i[1],a=i[2],l=i[3];void 0===l&&(l=1),r/=360,s/=100,a/=100,o.hsla=[r,s,a,l]}else if(e.startsWith("rgb")){var c=e.match(/([\-\d\.e]+)/g).map(Number),h=$e(c,4),u=h[0],d=h[1],f=h[2],p=h[3];void 0===p&&(p=1),o.rgba=[u,d,f,p]}else e.startsWith("#")?o.rgba=t.hexToRgb(e):o.rgba=t.nameToRgb(e)||t.hexToRgb(e)}(s.toLowerCase())}else this.rgba=[e,n,i,void 0===r?1:r]}return Ke(t,[{key:"printRGB",value:function(t){var e=(t?this.rgba:this.rgba.slice(0,3)).map((function(t,e){return Qe(t,3===e?3:0)}));return t?"rgba("+e+")":"rgb("+e+")"}},{key:"printHSL",value:function(t){var e=[360,100,100,1],n=["","%","%",""],i=(t?this.hsla:this.hsla.slice(0,3)).map((function(t,i){return Qe(t*e[i],3===i?3:1)+n[i]}));return t?"hsla("+i+")":"hsl("+i+")"}},{key:"printHex",value:function(t){var e=this.hex;return t?e:e.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=t.hslToRgb(this._hsla)},set:function(t){3===t.length&&(t[3]=1),this._rgba=t,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=t.rgbToHsl(this._rgba)},set:function(t){3===t.length&&(t[3]=1),this._hsla=t,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map((function(t,e){return e<3?t.toString(16):Math.round(255*t).toString(16)})).map((function(t){return t.padStart(2,"0")})).join("")},set:function(e){this.rgba=t.hexToRgb(e)}}],[{key:"hexToRgb",value:function(t){var e=(t.startsWith("#")?t.slice(1):t).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!e.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+t);var n=e.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(t){return parseInt(t,16)}));return n[3]=n[3]/255,n}},{key:"nameToRgb",value:function(e){var n=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),i=Je[n];return void 0===i?i:t.hexToRgb(i.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(t){var e=$e(t,4),n=e[0],i=e[1],r=e[2],o=e[3];n/=255,i/=255,r/=255;var s=Math.max(n,i,r),a=Math.min(n,i,r),l=void 0,c=void 0,h=(s+a)/2;if(s===a)l=c=0;else{var u=s-a;switch(c=h>.5?u/(2-s-a):u/(s+a),s){case n:l=(i-r)/u+(i<r?6:0);break;case i:l=(r-n)/u+2;break;case r:l=(n-i)/u+4}l/=6}return[l,c,h,o]}},{key:"hslToRgb",value:function(t){var e=$e(t,4),n=e[0],i=e[1],r=e[2],o=e[3],s=void 0,a=void 0,l=void 0;if(0===i)s=a=l=r;else{var c=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},h=r<.5?r*(1+i):r+i-r*i,u=2*r-h;s=c(u,h,n+1/3),a=c(u,h,n),l=c(u,h,n-1/3)}var d=[255*s,255*a,255*l].map(Math.round);return d[3]=o,d}}]),t}(),en=function(){function t(){Ze(this,t),this._events=[]}return Ke(t,[{key:"add",value:function(t,e,n){t.addEventListener(e,n,!1),this._events.push({target:t,type:e,handler:n})}},{key:"remove",value:function(e,n,i){this._events=this._events.filter((function(r){var o=!0;return e&&e!==r.target&&(o=!1),n&&n!==r.type&&(o=!1),i&&i!==r.handler&&(o=!1),o&&t._doRemove(r.target,r.type,r.handler),!o}))}},{key:"destroy",value:function(){this._events.forEach((function(e){return t._doRemove(e.target,e.type,e.handler)})),this._events=[]}}],[{key:"_doRemove",value:function(t,e,n){t.removeEventListener(e,n,!1)}}]),t}();function nn(t,e,n){var i=!1;function r(t,e,n){return Math.max(e,Math.min(t,n))}function o(t,o,s){if(s&&(i=!0),i){t.preventDefault();var a=e.getBoundingClientRect(),l=a.width,c=a.height,h=o.clientX,u=o.clientY,d=r(h-a.left,0,l),f=r(u-a.top,0,c);n(d/l,f/c)}}function s(t,e){1===(void 0===t.buttons?t.which:t.buttons)?o(t,t,e):i=!1}function a(t,e){1===t.touches.length?o(t,t.touches[0],e):i=!1}t.add(e,"mousedown",(function(t){s(t,!0)})),t.add(e,"touchstart",(function(t){a(t,!0)})),t.add(window,"mousemove",s),t.add(e,"touchmove",a),t.add(window,"mouseup",(function(t){i=!1})),t.add(e,"touchend",(function(t){i=!1})),t.add(e,"touchcancel",(function(t){i=!1}))}var rn="keydown",on="mousedown",sn="focusin";function an(t,e){return(e||document).querySelector(t)}function ln(t){t.preventDefault(),t.stopPropagation()}function cn(t,e,n,i,r){t.add(e,rn,(function(t){n.indexOf(t.key)>=0&&(r&&ln(t),i(t))}))}var hn=document.createElement("style");hn.textContent=".picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}",document.documentElement.firstElementChild.appendChild(hn);var un=function(){function t(e){Ze(this,t),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new en,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return Ke(t,[{key:"setOptions",value:function(t){var e=this;if(t){var n=this.settings;if(t instanceof HTMLElement)n.parent=t;else{n.parent&&t.parent&&n.parent!==t.parent&&(this._events.remove(n.parent),this._popupInited=!1),function(t,e,n){for(var i in t)e[i]=t[i]}(t,n),t.onChange&&(this.onChange=t.onChange),t.onDone&&(this.onDone=t.onDone),t.onOpen&&(this.onOpen=t.onOpen),t.onClose&&(this.onClose=t.onClose);var i=t.color||t.colour;i&&this._setColor(i)}var r=n.parent;if(r&&n.popup&&!this._popupInited){var o=function(t){return e.openHandler(t)};this._events.add(r,"click",o),cn(this._events,r,[" ","Spacebar","Enter"],o),this._popupInited=!0}else t.parent&&!n.popup&&this.show()}}},{key:"openHandler",value:function(t){if(this.show()){t&&t.preventDefault(),this.settings.parent.style.pointerEvents="none";var e=t&&t.type===rn?this._domEdit:this.domElement;setTimeout((function(){return e.focus()}),100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(t){var e=t&&t.type,n=!1;if(t)if(e===on||e===sn){var i=(this.__containedEvent||0)+100;t.timeStamp>i&&(n=!0)}else ln(t),n=!0;else n=!0;n&&this.hide()&&(this.settings.parent.style.pointerEvents="",e!==on&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(t,e){this.closeHandler(),this.setOptions(t),e&&this.openHandler()}},{key:"setColor",value:function(t,e){this._setColor(t,{silent:e})}},{key:"_setColor",value:function(t,e){if("string"==typeof t&&(t=t.trim()),t){e=e||{};var n=void 0;try{n=new tn(t)}catch(t){if(e.failSilently)return;throw t}if(!this.settings.alpha){var i=n.hsla;i[3]=1,n.hsla=i}this.colour=this.color=n,this._setHSLA(null,null,null,null,e)}}},{key:"setColour",value:function(t,e){this.setColor(t,e)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var t=this._toggleDOM(!0);return this._setPosition(),t}var e,n,i=(e=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',(n=document.createElement("div")).innerHTML=e,n.firstElementChild);return this.domElement=i,this._domH=an(".picker_hue",i),this._domSL=an(".picker_sl",i),this._domA=an(".picker_alpha",i),this._domEdit=an(".picker_editor input",i),this._domSample=an(".picker_sample",i),this._domOkay=an(".picker_done button",i),this._domCancel=an(".picker_cancel button",i),i.classList.add("layout_"+this.settings.layout),this.settings.alpha||i.classList.add("no_alpha"),this.settings.editor||i.classList.add("no_editor"),this.settings.cancelButton||i.classList.add("no_cancel"),this._ifPopup((function(){return i.classList.add("popup")})),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var t=this,e=this,n=this.domElement,i=this._events;function r(t,e,n){i.add(t,e,n)}r(n,"click",(function(t){return t.preventDefault()})),nn(i,this._domH,(function(t,n){return e._setHSLA(t)})),nn(i,this._domSL,(function(t,n){return e._setHSLA(null,t,1-n)})),this.settings.alpha&&nn(i,this._domA,(function(t,n){return e._setHSLA(null,null,null,1-n)}));var o=this._domEdit;r(o,"input",(function(t){e._setColor(this.value,{fromEditor:!0,failSilently:!0})})),r(o,"focus",(function(t){var e=this;e.selectionStart===e.selectionEnd&&e.select()})),this._ifPopup((function(){var e=function(e){return t.closeHandler(e)};r(window,on,e),r(window,sn,e),cn(i,n,["Esc","Escape"],e);var o=function(e){t.__containedEvent=e.timeStamp};r(n,on,o),r(n,sn,o),r(t._domCancel,"click",e)}));var s=function(e){t._ifPopup((function(){return t.closeHandler(e)})),t.onDone&&t.onDone(t.colour)};r(this._domOkay,"click",s),cn(i,n,["Enter"],s)}},{key:"_setPosition",value:function(){var t=this.settings.parent,e=this.domElement;t!==e.parentNode&&t.appendChild(e),this._ifPopup((function(n){"static"===getComputedStyle(t).position&&(t.style.position="relative");var i=!0===n?"popup_right":"popup_"+n;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(t){t===i?e.classList.add(t):e.classList.remove(t)})),e.classList.add(i)}))}},{key:"_setHSLA",value:function(t,e,n,i,r){r=r||{};var o=this.colour,s=o.hsla;[t,e,n,i].forEach((function(t,e){(t||0===t)&&(s[e]=t)})),o.hsla=s,this._updateUI(r),this.onChange&&!r.silent&&this.onChange(o)}},{key:"_updateUI",value:function(t){if(this.domElement){t=t||{};var e=this.colour,n=e.hsla,i="hsl("+360*n[0]+", 100%, 50%)",r=e.hslString,o=e.hslaString,s=this._domH,a=this._domSL,l=this._domA,c=an(".picker_selector",s),h=an(".picker_selector",a),u=an(".picker_selector",l);y(0,c,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,y(0,h,n[1]),_(0,h,1-n[2]),a.style.color=r,_(0,u,1-n[3]);var d=r,f=d.replace("hsl","hsla").replace(")",", 0)"),p="linear-gradient("+[d,f]+")";if(this._domA.style.backgroundImage=p+", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!t.fromEditor){var g=this.settings.editorFormat,m=this.settings.alpha,v=void 0;switch(g){case"rgb":v=e.printRGB(m);break;case"hsl":v=e.printHSL(m);break;default:v=e.printHex(m)}this._domEdit.value=v}this._domSample.style.color=o}function y(t,e,n){e.style.left=100*n+"%"}function _(t,e,n){e.style.top=100*n+"%"}}},{key:"_ifPopup",value:function(t,e){this.settings.parent&&this.settings.popup?t&&t(this.settings.popup):e&&e()}},{key:"_toggleDOM",value:function(t){var e=this.domElement;if(!e)return!1;var n=t?"":"none",i=e.style.display!==n;return i&&(e.style.display=n),i}}],[{key:"StyleElement",get:function(){return hn}}]),t}(),dn=function(){return(dn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},fn=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};function pn(t,e){return void 0===e&&(e=function(t){return!1}),t&&t.parent?(null==e?void 0:e(t.parent))?t.parent:pn(t.parent,e):null}var gn=t.Builders.builders.webform.prototype.editComponent;function mn(t){var e,n;return(null===(n=null===(e=t.instance.options)||void 0===e?void 0:e.flags)||void 0===n?void 0:n.isInDataTable)&&!["hidden","columns","panel","table","tabs","well","fieldset"].includes(t.data.type)}function vn(){return[{key:"display",components:[{weight:442,type:"number",input:!0,key:"columnWeight",label:"Column weight in DataTable",placeholder:"0",defaultValue:0,tooltip:"Make columns appear in a different order in the table.",customConditional:function(t){return mn(t)}},{weight:1370,type:"checkbox",label:"Hide column in Data Table by default",tooltip:"Hide column in Data Table by default.",key:"hideColumnByDefault",input:!0,customConditional:function(t){return mn(t)}}]}]}t.Builders.builders.webform.prototype.editComponent=function(t,e,n,i,r,o){void 0===o&&(o={});var s=null==e?void 0:e.formioComponent,a=s&&("datatable"===s.type||!!pn(s,(function(t){return"datatable"===t.type})));gn.call(this,t,e,n,i,r,dn({isInDataTable:a},o))},Object.values(t.Components.components).forEach((function(t){var e=t.editForm;t.editForm=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,fn([vn()],t))}}));var yn=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}([{type:"textfield",label:"Image Url",input:!0,key:"imageUrl",weight:20},{type:"select",input:!0,key:"imageType",label:"Image Type",tooltip:"Element used to display background image",weight:20,defaultValue:"image",dataSrc:"values",data:{values:[{label:"Image",value:"image"},{label:"SVG",value:"svg"}]}},{type:"textfield",label:"Width",input:!0,key:"width",customConditional:function(t){return!t.data.autoSize},weight:20},{type:"textfield",label:"Height",input:!0,key:"height",customConditional:function(t){return!t.data.autoSize},weight:20},{type:"checkbox",label:"Set Size Automatically",input:!0,key:"autoSize",tooltip:"Background image will fill the available width. Uncheck this if you want to specify width/height manually.",weight:20},{type:"textfield",label:"Default Zoom",input:!0,key:"defaultZoom",placeholder:"100",weight:20},{type:"textfield",label:"Default Stroke Color",description:"Start with # sign",input:!0,key:"defaultStroke",placeholder:"#333",weight:20},{type:"textfield",label:"Default Fill Color",description:"Start with # sign",input:!0,key:"defaultFill",placeholder:"#ccc",weight:20},{type:"number",label:"Default Line Width",input:!0,key:"defaultLineWidth",placeholder:"1",weight:20},{type:"number",label:"Default Circle Size",input:!0,key:"defaultCircleSize",placeholder:"10",weight:20},{key:"placeholder",ignore:!0}],vn()),_n=[{key:"unique",ignore:!0}],bn=[{key:"multiple",ignore:!0}],wn=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},xn=t.Components.components.component.editForm;function kn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xn.apply(void 0,wn([[{key:"display",components:yn},{key:"validation",components:_n},{key:"data",components:bn}]],t))}function Sn(t){var e=this;return{pencil:{state:{mode:"pencil"},eventStart:function(n){e.points=[n],e.prev=n,e.curve=e.two.makeCurve([new t.Vector(e.prev.x,e.prev.y),new t.Vector(n.x,n.y+1)],!0),e.curve.noFill().stroke=e.state.stroke,e.curve.linewidth=e.state.linewidth,e.curve.vertices.forEach((function(t){return t.addSelf(e.curve.translation)})),e.curve.translation.clear(),e.two.update(),e.layers.push(e.curve)},drag:function(n){e.points.push(n),e.curve.vertices.push(new t.Vector(n.x,n.y)),e.two.update(),e.prev=n},eventEnd:function(){var t=e.dataValue.slice();t.push(Object.assign({},e.state,{points:e.points})),e.dataValue=t,e.triggerChange()},draw:function(n){var i=e.two.makeCurve(n.points.map((function(e){return new t.Vector(e.x,e.y)})),!0);return i.noFill().stroke=n.stroke,i.linewidth=n.linewidth,i.vertices.forEach((function(t){return t.addSelf(i.translation)})),i.translation.clear(),i}},line:{state:{mode:"line"},eventStart:function(t){e.center=t,e.line=e.two.makeLine(t.x,t.y,t.x,t.y),e.line.fill=e.state.fill,e.line.stroke=e.state.stroke,e.line.linewidth=e.state.linewidth,e.two.update(),e.layers.push(e.line),e.layers.length},drag:function(t){e.line.vertices[1].x=t.x,e.line.vertices[1].y=t.y,e.two.update()},eventEnd:function(){var t=e.dataValue.slice(),n=e.line.vertices.map((function(t){return{x:t.x,y:t.y}}));t.push(Object.assign({},e.state,{vertices:n})),e.dataValue=t,e.triggerChange()},draw:function(t){var n=e.two.makeLine(t.vertices[0].x,t.vertices[0].y,t.vertices[1].x,t.vertices[1].y);return n.fill=t.fill,n.stroke=t.stroke,n.linewidth=t.linewidth,n}},circle:{state:{mode:"circle"},eventStart:function(t){e.center=t;var n=e.two.makeCircle(t.x,t.y,e.state.circleSize);n.fill=e.state.fill,n.stroke=e.state.stroke,n.linewidth=e.state.linewidth,e.two.update(),e.layers.push(n)},drag:function(){},eventEnd:function(){var t=e.dataValue.slice();t.push(Object.assign({},e.state,{center:e.center})),e.dataValue=t,e.triggerChange()},draw:function(t){var n=e.two.makeCircle(t.center.x,t.center.y,t.circleSize);return n.fill=t.fill,n.stroke=t.stroke,n.linewidth=t.linewidth,n}},rectangle:{cursor:{hover:"crosshair"},state:{mode:"rectangle"},eventStart:function(t){e.dragStartPoint=t},drag:function(t){e.dragEndPoint=t,e.rectangle&&e.rectangle.remove(),e.width=Math.abs(e.dragEndPoint.x-e.dragStartPoint.x),e.height=Math.abs(e.dragEndPoint.y-e.dragStartPoint.y),e.center={x:Math.min(e.dragStartPoint.x,e.dragEndPoint.x)+e.width/2,y:Math.min(e.dragStartPoint.y,e.dragEndPoint.y)+e.height/2},e.rectangle=e.two.makeRectangle(e.center.x,e.center.y,e.width,e.height),e.rectangle.fill=e.state.fill,e.rectangle.stroke=e.state.stroke,e.rectangle.linewidth=e.state.linewidth,e.two.update(),e.layers.push(e.rectangle)},eventEnd:function(){var t=e.dataValue.slice();delete e.rectangle;var n={center:e.center,width:e.width,height:e.height};t.push(Object.assign({},e.state,n)),e.dataValue=t,e.triggerChange()},draw:function(t){var n=e.two.makeRectangle(t.center.x,t.center.y,t.width,t.height);return n.fill=t.fill,n.stroke=t.stroke,n.linewidth=t.linewidth,n}},zoomIn:{cursor:{hover:"zoom-in"},state:{mode:"zoomIn"},eventStart:function(t){return e.zoom(t,e.zoomInfo.multiplier)}},zoomOut:{cursor:{hover:"zoom-out"},state:{mode:"zoomOut"},eventStart:function(t){return e.zoom(t,1/e.zoomInfo.multiplier)}},dragImage:{cursor:{hover:"grab",clicked:"grabbing"},state:{mode:"dragImage"},eventStart:function(t){return e.dragStartPoint=t},drag:function(t){e.dragLastPoint||(e.dragLastPoint=e.dragStartPoint);var n={x:Math.round(t.x-e.dragStartPoint.x),y:Math.round(t.y-e.dragStartPoint.y)};0===n.x&&0===n.y||(e.dragImage(n),e.dragLastPoint=t)}}}}var Rn={modes:[{title:"Pencil",key:"pencil",icon:"fa fa-pencil"},{title:"Line",key:"line",icon:"fa fa-minus"},{title:"Circle",key:"circle",icon:"fa fa-circle",input:{type:"number",class:"formio-sketchpad-radius-input",attributes:{min:0}}},{title:"Rectangle",key:"rectangle",icon:"fa fa-square-o"},{title:"Zoom In",key:"zoomIn",icon:"fa fa-search-plus"},{title:"Zoom Out",key:"zoomOut",icon:"fa fa-search-minus"},{title:"Drag Zoomed Image",key:"dragImage",icon:"fa fa-hand-paper-o"}],styles:[{title:"Stroke Color",key:"stroke",icon:"fa fa-square-o"},{title:"Fill Color",key:"fill",icon:"fa fa-square"},{title:"Line Width",key:"width",icon:"fa fa-minus",input:{type:"number",class:"formio-sketchpad-linewidth-input",attributes:{min:0,max:250}}}],actions:[{title:"Undo",key:"undo",icon:"fa fa-undo"},{title:"Redo",key:"redo",icon:"fa fa-repeat"},{title:"Reset Zoom",key:"resetZoom",icon:"fa fa-search"},{title:"Clear All",key:"clearAll",icon:"fa fa-ban"}]},Cn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),On=function(){return(On=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},En=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},An=t.Components.components.field,Mn=function(e){function n(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=e.apply(this,t)||this;return r.dimensionsCorrection=1,r.imageType=r.component.imageType,r.modes=Sn.call(r,Xe),r.state={mode:Object.keys(r.modes)[0],stroke:r.component.defaultStroke||n.defaultStroke,fill:r.component.defaultFill||n.defaultFill,linewidth:r.component.defaultLineWidth||n.defaultLineWidth,circleSize:r.component.defaultCircleSize||n.defaultCircleSize},r.dimensionsMultiplier=1,r.zoomInfo={viewBox:{},canvasViewBox:{},multiplier:1.5,totalMultiplier:1},r.deleted=[],r.layers=[],r}return Cn(n,e),Object.defineProperty(n,"defaultFill",{get:function(){return"#ccc"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultStroke",{get:function(){return"#333"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultLineWidth",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultCircleSize",{get:function(){return 10},enumerable:!1,configurable:!0}),n.schema=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return An.schema.apply(An,En([{type:"sketchpad",label:"Sketchpad",key:"sketchpad",input:!0,multiple:!0,modalEdit:!0,imageType:"image",autoSize:!0,defaultZoom:100,defaultStroke:n.defaultStroke,defaultFill:n.defaultFill,defaultLineWidth:n.defaultLineWidth,defaultCircleSize:n.defaultCircleSize}],t))},Object.defineProperty(n,"builderInfo",{get:function(){return{title:"Sketchpad",group:"premium",icon:"image",weight:110,documentation:"http://help.form.io/userguide/",schema:n.schema()}},enumerable:!1,configurable:!0}),n.prototype.render=function(){return e.prototype.render.call(this,this.renderTemplate(this.templateName,On({},this.renderContext)))},n.prototype.loadComponentRefs=function(t){this.loadRefs(t,On({canvas:"single",drawingContainer:"single",background:"single",backgroundImage:"single",totalMultiplier:"single",previewContainer:"single",previewDrawing:"single"},this.buttonsRefs))},n.prototype.init=function(){var n=this,i=new t.Formio.Promise((function(t,e){n.backgroundReady={resolve:t,reject:e}}));return this.backgroundReady.promise=i,e.prototype.init.call(this)},n.prototype.attach=function(n){var i=this,r=new t.Formio.Promise((function(t,e){i.backgroundReady={resolve:t,reject:e}}));this.backgroundReady.promise=r;var o=e.prototype.attach.call(this,n);return this.loadComponentRefs(n),this.refs.canvas&&(this.createDrawingArea(),this.backgroundReady.promise.then((function(){return i.onBackgroundReady()})),this.disabled||this.shouldDisabled||this.readOnly||this.attachDrawEvents(),"image"===this.imageType&&this.refs.backgroundImage?this.loadBackgroundImage(this.refs.backgroundImage):this.addBackground(),this.attachToolbar()),o},Object.defineProperty(n.prototype,"buttonsRefs",{get:function(){var t={};return Object.values(Rn).forEach((function(e){return e.forEach((function(e){t[e.key]="single",e.input&&(t[e.key+"-input"]="single")}))})),t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"renderContext",{get:function(){return{zoomInfo:{totalMultiplier:this.zoomInfo?Math.round(100*this.zoomInfo.totalMultiplier)/100:1},buttonGroups:this.buttonGroups,disabled:e.prototype.disabled}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultSchema",{get:function(){return n.schema()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"templateName",{get:function(){return"sketchpad"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"emptyValue",{get:function(){return[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataReady",{get:function(){return this.backgroundReady.promise},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attachFunctions",{get:function(){var t=this,e=function(t,e,n){var i=new un(t);return t.style.color=e,i.setColor(e,!0),i.onChange=function(e){t.style.color=e.rgbaString,n(e.rgbaString)},t},n=function(e,n,i){var r=t.refs[e];r&&(r.addEventListener("change",(function(t){return i(t.target.value)})),r.value=n)};return{stroke:function(n){return e(n,t.state.stroke,(function(e){return t.state.stroke=e}))},fill:function(n){return e(n,t.state.fill,(function(e){return t.state.fill=e}))},width:function(){return n("width-input",t.state.linewidth,(function(e){return t.state.linewidth=+e}))},circle:function(){return n("circle-input",t.state.circleSize,(function(e){return t.state.circleSize=+e}))}}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"buttonGroups",{get:function(){return Object.entries(Rn).map((function(t){return t[1]}))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"componentLabel",{get:function(){return this.component.hideLabel?"":'<label class="control-label">'+this.component.label+"</label><br>"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewBoxFromSubmission",{get:function(){return this._viewBoxFromSubmission},set:function(t){this._viewBoxFromSubmission=t;var e=t.width,n=t.height,i=t.minX,r=t.minY;this.backgroundReady.isReady&&this.setCanvasViewBox(e,n,i,r)},enumerable:!1,configurable:!0}),n.prototype.loadBackgroundImage=function(t){var e=this;t.addEventListener("load",(function(){return e.addBackground()})),t.setAttribute("src",this.component.imageUrl)},n.prototype.createDrawingArea=function(){this.two=new Xe({type:Xe.Types.svg}).appendTo(this.refs.canvas),this.canvasSvg=this.two.renderer.domElement,this.addClass(this.canvasSvg,"formio-sketchpad-svg"),this.canvasSvg.setAttribute("preserveAspectRatio","xMidYMid meet")},n.prototype.getActualCoordinate=function(t){var e=t.x,n=t.y,i=this.zoomInfo.canvasViewBox.current.minX,r=this.zoomInfo.canvasViewBox.current.minY;return t.x=Math.round(e/this.zoomInfo.totalMultiplier/this.dimensionsMultiplier+i),t.y=Math.round(n/this.zoomInfo.totalMultiplier/this.dimensionsMultiplier+r),t},n.prototype.onBackgroundReady=function(){var e=this;this.backgroundReady.isReady=!0,this.addEventListener(window,"resize",t.Utils._.debounce((function(){return e.stretchDrawingArea()}),100)),this.resetZoom()},n.prototype.addBackground=function(){var e=this;this.refs.backgroundImage&&this.refs.backgroundImage.complete?this.setBackgroundImage():this.component.imageUrl&&"svg"===this.imageType&&t.Formio.makeStaticRequest(this.component.imageUrl,"GET",null,{noToken:!0,headers:{}}).then((function(t){e.setBackgroundImage(t)})).catch((function(t){console.warn(t),e.refs.background.innerHTML=e.t("Background image failed to load. Tagpad doesn't work without background image"),e.backgroundReady.reject()}))},n.prototype.parseSvg=function(t){var e=(new DOMParser).parseFromString(t,"image/svg+xml").getElementsByTagName("svg");return e&&e[0]?e[0]:null},n.prototype.prepareSvg=function(t){t.removeAttribute("width"),t.removeAttribute("height"),t.setAttribute("ref","backgroundImage")},n.prototype.setSvgImage=function(t){var e=this.parseSvg(t);if(e){var n=e.getAttribute("viewBox"),i=n?n.split(" ").map(parseFloat):this.mapDimensionsFromAttributes(e);this.setDimensions.apply(this,i),this.prepareSvg(e);var r=this.dimensions;this.assignZoomInfo(r),this.setViewBoxAttribute(e,r),t=(t=(new XMLSerializer).serializeToString(e)).replace("<svg:svg","<svg").replace("</svg:svg>","</svg>"),this.loadComponentRefs(this.element),this.refs.background.innerHTML=t}else console.warn("Sketchpad '"+this.component.key+"': Background SVG doesn't contain <svg> tag on it")},n.prototype.assignZoomInfo=function(e,n){void 0===n&&(n="viewBox"),this.zoomInfo[n].default={width:e.width,height:e.height,minX:e.minX,minY:e.minY},this.state.viewBox=this.zoomInfo[n].default,this.zoomInfo[n].current=t.Utils._.cloneDeep(this.zoomInfo[n].default)},n.prototype.buttonAttributes=function(t){return t&&t.input&&t.input.attributes?Object.entries(t.input.attributes).map((function(t){return t[0]+"='"+t[1]+"'"})).join(" "):""},n.prototype.attachDrawEvents=function(){var t=this;this.canvasSvg.addEventListener("mousedown",(function(e){e.preventDefault();var n=t.canvasSvg.getBoundingClientRect(),i="default";t.modes[t.state.mode].cursor&&(i=t.modes[t.state.mode].cursor.clicked||t.modes[t.state.mode].cursor.hover),t.canvasSvg.style.cursor=i,t.modes[t.state.mode].eventStart&&t.modes[t.state.mode].eventStart(t.getActualCoordinate({x:e.clientX-n.left,y:e.clientY-n.top}));var r=function(e){e.preventDefault();var n=t.canvasSvg.getBoundingClientRect();t.modes[t.state.mode].drag&&t.modes[t.state.mode].drag(t.getActualCoordinate({x:e.clientX-n.left,y:e.clientY-n.top}))},o=function(e){e.preventDefault(),t.canvasSvg.removeEventListener("mousemove",r),t.canvasSvg.removeEventListener("mouseup",o),document.removeEventListener("mouseup",o);var n="default";t.modes[t.state.mode].cursor&&(n=t.modes[t.state.mode].cursor.hover||n),t.canvasSvg.style.cursor=n;var i=t.canvasSvg.getBoundingClientRect();t.modes[t.state.mode].eventEnd&&t.modes[t.state.mode].eventEnd(t.getActualCoordinate({x:e.clientX-i.left,y:e.clientY-i.top}))};return t.canvasSvg.addEventListener("mousemove",r),t.canvasSvg.addEventListener("mouseup",o),document.addEventListener("mouseup",o),!1})),this.canvasSvg.addEventListener("touchstart",(function(e){e.preventDefault();var n=t.canvasSvg.getBoundingClientRect(),i=e.changedTouches[0],r="default";t.modes[t.state.mode].cursor&&(r=t.modes[t.state.mode].cursor.clicked||t.modes[t.state.mode].cursor.hover),t.canvasSvg.style.cursor=r,t.modes[t.state.mode].eventStart&&t.modes[t.state.mode].eventStart(t.getActualCoordinate({x:i.clientX-n.left,y:i.clientY-n.top}));var o=function(e){e.preventDefault();var n=t.canvasSvg.getBoundingClientRect(),i=e.changedTouches[0];t.modes[t.state.mode].drag&&t.modes[t.state.mode].drag(t.getActualCoordinate({x:i.clientX-n.left,y:i.clientY-n.top}))},s=function(e){e.preventDefault(),t.canvasSvg.removeEventListener("touchmove",o),t.canvasSvg.removeEventListener("touchend",s);var n=t.canvasSvg.getBoundingClientRect(),i=e.changedTouches[0],r="default";t.modes[t.state.mode].cursor&&(r=t.modes[t.state.mode].cursor.hover||r),t.canvasSvg.style.cursor=r,t.modes[t.state.mode].eventEnd&&t.modes[t.state.mode].eventEnd(t.getActualCoordinate({x:i.clientX-n.left,y:i.clientY-n.top}))};return t.canvasSvg.addEventListener("touchmove",o),t.canvasSvg.addEventListener("touchend",s),!1})),this.two.update()},n.prototype.attachToolbar=function(){this.attachModesButtons(),this.attachStylesButtons(),this.attachActionsButtons(),this.setActiveButton(this.state.mode)},n.prototype.attachModesButtons=function(){var t=this;Rn.modes.forEach((function(e){var n=t.refs[e.key];if(n&&t.modes[e.key]){var i=t.modes[e.key];n.addEventListener("click",(function(e){return t.setState(i.state)})),t.callAttachFunction(n,e.key)}}))},n.prototype.attachStylesButtons=function(){var t=this;Rn.styles.forEach((function(e){var n=t.refs[e.key];n&&t.callAttachFunction(n,e.key)}))},n.prototype.attachActionsButtons=function(){var t=this;Rn.actions.forEach((function(e){var n=t.refs[e.key];n&&n.addEventListener("click",(function(){return t[e.key]()}))}))},n.prototype.callAttachFunction=function(t,e){this.attachFunctions[e]&&this.attachFunctions[e](t)},n.prototype.setState=function(e){Object.assign(this.state,e),this.setActiveButton(this.state.mode),this.canvasSvg.style.cursor=t.Utils._.get(this.modes[this.state.mode],"cursor.hover","default")},n.prototype.setActiveButton=function(t){var e=this;Rn.modes.forEach((function(n){e.refs[n.key]&&e.removeClass(e.refs[n.key],"active"),e.refs[t]&&e.addClass(e.refs[t],"active")}))},n.prototype.setBackgroundImage=function(t){if("svg"===this.imageType)if(t&&t.startsWith("<?xml"))this.setSvgImage(t);else{this.imageType="image";var e=new Image;e.setAttribute("ref","backgroundImage"),this.refs.background.appendChild(e),this.loadBackgroundImage(e)}else this.setRasterImage();this.onBackgroundImageWasSetted()},n.prototype.setRasterImage=function(){var t=this.refs.backgroundImage.naturalWidth,e=this.refs.backgroundImage.naturalHeight;this.setDimensions(0,0,t,e),this.assignZoomInfo(this.dimensions)},n.prototype.setCanvasViewBox=function(t,e,n,i){var r,o;void 0===n&&(n=0),void 0===i&&(i=0),this.setDimensions(n,i,t,e),this.assignZoomInfo(this.dimensions,"canvasViewBox"),(null===(o=null===(r=this.zoomInfo)||void 0===r?void 0:r.viewBox)||void 0===o?void 0:o.default)?this.dimensionsCorrection=this.dimensions.width/this.zoomInfo.viewBox.default.width:console.warn("Default ViewBox is not defined"),this.setViewBoxAttribute(this.canvasSvg,this.zoomInfo.canvasViewBox.default),this.setEditorSize(this.dimensions.width,this.dimensions.height),this.stretchDrawingArea()},n.prototype.calculateCanvasViewBox=function(){var t=this.component.width,e=this.component.height;if(this.component.autoSize){var n=this.calculateAutoSize();t=n.width,e=n.height}return t&&e&&!this.component.autoSize&&(this.refs.drawingContainer.style.maxWidth=t+"px",this.refs.drawingContainer.style.maxHeight=e+"px"),"image"===this.imageType&&(t=this.refs.backgroundImage.naturalWidth,e=this.refs.backgroundImage.naturalHeight),{minX:0,minY:0,width:t,height:e}},n.prototype.onBackgroundImageWasSetted=function(){this.loadRefs(this.element,{backgroundImage:"single",component:"single"});var t=this.viewBoxFromSubmission||this.calculateCanvasViewBox(),e=t.width,n=t.height,i=t.minX,r=t.minY;this.setCanvasViewBox(e,n,i,r),this.draw(this.dataValue),this.backgroundReady.resolve()},n.prototype.calculateAutoSize=function(){var t,e=Math.round(null===(t=this.refs.drawingContainer)||void 0===t?void 0:t.offsetWidth),n=this.dimensions.width/this.dimensions.height,i=Math.round(e/n),r=Math.round(window.innerHeight-.2*window.innerHeight);return(r<i||0===e)&&(i=r,e=Math.round(i*n)),{width:e,height:i}},n.prototype.setOpenModalElement=function(){var t="\n      "+this.componentLabel+"\n      <div class='formio-sketchpad-modal-preview-container' ref='previewContainer'>\n        <div ref=\"openModal\">\n          <img class='formio-sketchpad-modal-preview-background' src=\""+this.component.imageUrl+'" width="100%" alt="sketchpad preview background"/>\n          '+this.getPreviewImage()+"\n        </div>\n      </div>\n    ";this.componentModal.setOpenModalElement(t)},n.prototype.getPreviewImage=function(){return this.canvasSvg&&this.two&&this.zoomInfo.viewBox.default?'<img class="formio-sketchpad-modal-preview-drawing" src="data:image/svg+xml;base64,'+this.getEncodedDrawing()+'"\n                ref="previewDrawing" width="100%" alt="sketchpad preview drawing"/>':""},n.prototype.getValueAsString=function(t,e){return t&&t.length?"[Complex Data]":""},n.prototype.getEncodedDrawing=function(){var t=this.getSvg(),e=(new XMLSerializer).serializeToString(t);return window.btoa(e)},n.prototype.getModalPreviewTemplate=function(){return"\n      "+this.componentLabel+"\n      <div class='formio-sketchpad-modal-preview-container' ref='previewContainer'>\n        <div ref=\"openModal\">\n          <img class='formio-sketchpad-modal-preview-background' src="+this.component.imageUrl+' width="100%" alt="sketchpad preview background"/>\n          '+this.getPreviewImage()+"\n        </div>\n      </div>"},n.prototype.mapDimensionsFromAttributes=function(t){return[{attribute:"x",defaultValue:0},{attribute:"y",defaultValue:0},{attribute:"width",defaultValue:640},{attribute:"height",defaultValue:480}].map((function(e){return parseFloat(t.getAttribute(e.attribute))||e.defaultValue}))},n.prototype.setDimensions=function(t,e,n,i){this.dimensions={width:n,height:i,minX:t,minY:e}},n.prototype.stretchDrawingArea=function(){var t=this.calculateAutoSize(),e=t.width,n=t.height;if(e&&n){var i=this.zoomInfo,r=i.canvasViewBox,o=i.totalMultiplier,s=r.default.width,a=r.default.height;if(this.dimensionsMultiplier=e/s,this.dimensions.width=Math.round(s*this.dimensionsMultiplier),this.dimensions.height=Math.round(a*this.dimensionsMultiplier),e===this.editorSize.width&&n===this.editorSize.height)return;var l=o>1?this.dimensions.width:this.dimensions.width*o,c=o>1?this.dimensions.height:this.dimensions.height*o;this.setEditorSize(l,c)}},n.prototype.setEditorSize=function(t,e){this.two&&(this.editorSize={width:t,height:e},this.two.width=t,this.two.height=e,this.two.update()),this.refs.backgroundImage&&(this.refs.backgroundImage.setAttribute("width",t),this.refs.backgroundImage.setAttribute("height",e)),this.canvasSvg&&(this.canvasSvg.style.width=t,this.canvasSvg.style.height=e)},n.prototype.clear=function(){this.two&&this.two.clear()},n.prototype.clearAll=function(){this.layers=[],this.dataValue=[],this.two&&(this.clear(),this.two.update())},n.prototype.draw=function(t){var e=this;this.two&&(this.clear(),t&&t.length?(this.layers=t.map((function(t){return e.modes[t.mode].draw(t)})),this.two.update(),this.appendDrawingToPreview()):this.two.update())},n.prototype.appendDrawingToPreview=function(){var t;if(null===(t=this.componentModal)||void 0===t?void 0:t.element){this.loadComponentRefs(this.componentModal.element);var e="data:image/svg+xml;base64,"+this.getEncodedDrawing();if(this.refs.previewDrawing)this.refs.previewDrawing.setAttribute("src",e);else{var n=new Image;n.src=e,this.addClass(n,"formio-sketchpad-modal-preview-drawing"),n.setAttribute("ref","previewDrawing"),this.refs.previewContainer&&(this.refs.previewContainer.appendChild(n),this.addEventListener(n,"click",this.componentModal.openModalListener))}}},n.prototype.undo=function(){var t=this.dataValue.slice();t.length&&(this.deleted.push(t.pop()),this.dataValue=t,this.triggerChange(),this.draw(t))},n.prototype.redo=function(){if(this.deleted.length){var t=this.dataValue.slice();t.push(this.deleted.pop()),this.dataValue=t,this.triggerChange(),this.draw(t)}},n.prototype.setValue=function(t,n){var i;e.prototype.setValue.call(this,t,n);var r=null===(i=null==t?void 0:t[0])||void 0===i?void 0:i.viewBox;r&&(this.viewBoxFromSubmission=r),this.backgroundReady.isReady&&this.two&&this.draw(t)},n.prototype.getSvg=function(){var t=this.canvasSvg.cloneNode(!0);this.addClass(t,"formio-sketchpad-preview-svg"),t.removeAttribute("style");var e=this.zoomInfo.canvasViewBox.default;return this.setViewBoxAttribute(t,e),t},n.prototype.normalizeSvgOffset=function(t){void 0===t&&(t="viewBox");var e=this.zoomInfo[t];this.zoomInfo[t].current.minX=e.current.minX<e.default.minX?e.default.minX:e.current.minX,this.zoomInfo[t].current.minY=e.current.minY<e.default.minY?e.default.minY:e.current.minY;var n=e.default.width-e.current.width+e.default.minX,i=e.default.height-e.current.height+e.default.minY;this.zoomInfo[t].current.minX=e.current.minX>n?n:e.current.minX,this.zoomInfo[t].current.minY=e.current.minY>i?i:e.current.minY},n.prototype.setViewBoxAttribute=function(t,e){t.setAttribute("viewBox",e.minX+" "+e.minY+" "+e.width+" "+e.height)},n.prototype.updateSvgViewBox=function(t){void 0===t&&(t="viewBox");var e=this.zoomInfo[t].current;"svg"===this.imageType&&("viewBox"===t?this.setViewBoxAttribute(this.refs.backgroundImage,e):this.setViewBoxAttribute(this.canvasSvg,e))},n.prototype.drag=function(t,e){void 0===e&&(e="viewBox"),this.zoomInfo[e].current.minX=this.zoomInfo[e].current.minX-t.x,this.zoomInfo[e].current.minY=this.zoomInfo[e].current.minY-t.y,this.normalizeSvgOffset(e),this.updateSvgViewBox(e)},n.prototype.dragImage=function(t){var e=this.dimensionsCorrection?{x:t.x/this.dimensionsCorrection,y:t.y/this.dimensionsCorrection}:t;this.drag(e),this.drag(t,"canvasViewBox")},n.prototype.setTotalMultiplier=function(t){this.zoomInfo.totalMultiplier=t,this.refs.totalMultiplier.innerHTML=this.t(Math.round(100*t)/100)},n.prototype.zoomImage=function(t,e){void 0===e&&(e="viewBox"),this.zoomInfo[e].current.width=Math.round(this.zoomInfo[e].default.width/this.zoomInfo.totalMultiplier),this.zoomInfo[e].current.height=Math.round(this.zoomInfo[e].default.height/this.zoomInfo.totalMultiplier);var n=this.zoomInfo[e].current,i=n.width,r=n.height,o=this.zoomInfo[e].default,s=o.width,a=o.height;i>s&&r>a?this.zoomOut(e):this.zoomIn(t,e),this.updateSvgViewBox(e)},n.prototype.zoom=function(t,e){this.setTotalMultiplier(this.zoomInfo.totalMultiplier*e);var n=this.dimensionsCorrection?{x:t.x/this.dimensionsCorrection,y:t.y/this.dimensionsCorrection}:t;this.zoomImage(n),this.zoomImage(t,"canvasViewBox")},n.prototype.zoomOut=function(e){void 0===e&&(e="viewBox"),this.setEditorSize(this.dimensions.width*this.zoomInfo.totalMultiplier,this.dimensions.height*this.zoomInfo.totalMultiplier),this.zoomInfo[e].current=t.Utils._.cloneDeep(this.zoomInfo[e].default)},n.prototype.zoomIn=function(t,e){void 0===e&&(e="viewBox"),this.canvasSvg.width===this.dimensions.width&&this.canvasSvg.height===this.dimensions.height||this.setEditorSize(this.dimensions.width,this.dimensions.height),"svg"!==this.imageType?this.refs.backgroundImage&&this.setEditorSize(this.dimensions.width*this.zoomInfo.totalMultiplier,this.dimensions.height*this.zoomInfo.totalMultiplier):(this.zoomInfo[e].current.minX=t.x-this.zoomInfo[e].current.width/2,this.zoomInfo[e].current.minY=t.y-this.zoomInfo[e].current.height/2),this.normalizeSvgOffset(e)},n.prototype.resetZoom=function(){this.zoom({x:0,y:0},this.component.defaultZoom/100/this.zoomInfo.totalMultiplier)},n.editForm=kn,n}(An),Tn=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),Pn="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Fn=void 0!==i.g&&i.g.Math===Math?i.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),jn="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Fn):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},In=["top","right","bottom","left","width","height","size","weight"],zn="undefined"!=typeof MutationObserver,Ln=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function o(){n&&(n=!1,t()),i&&a()}function s(){jn(o)}function a(){var t=Date.now();if(n){if(t-r<2)return;i=!0}else n=!0,i=!1,setTimeout(s,20);r=t}return a}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){Pn&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),zn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){Pn&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;In.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Dn=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},Bn=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||Fn},Vn=Hn(0,0,0,0);function Wn(t){return parseFloat(t)||0}function Un(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+Wn(t["border-"+n+"-width"])}),0)}var Nn="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof Bn(t).SVGGraphicsElement}:function(t){return t instanceof Bn(t).SVGElement&&"function"==typeof t.getBBox};function qn(t){return Pn?Nn(t)?function(t){var e=t.getBBox();return Hn(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Vn;var i=Bn(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=t["padding-"+r];e[r]=Wn(o)}return e}(i),o=r.left+r.right,s=r.top+r.bottom,a=Wn(i.width),l=Wn(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==e&&(a-=Un(i,"left","right")+o),Math.round(l+s)!==n&&(l-=Un(i,"top","bottom")+s)),!function(t){return t===Bn(t).document.documentElement}(t)){var c=Math.round(a+o)-e,h=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(h)&&(l-=h)}return Hn(r.left,r.top,a,l)}(t):Vn}function Hn(t,e,n,i){return{x:t,y:e,width:n,height:i}}var Gn=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Hn(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=qn(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),Yn=function(t,e){var n,i,r,o,s,a,l,c=(i=(n=e).x,r=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),Dn(l,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),l);Dn(this,{target:t,contentRect:c})},Xn=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new Tn,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Bn(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Gn(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Bn(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new Yn(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Zn="undefined"!=typeof WeakMap?new WeakMap:new Tn,Kn=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ln.getInstance(),i=new Xn(e,n,this);Zn.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){Kn.prototype[t]=function(){var e;return(e=Zn.get(this))[t].apply(e,arguments)}}));var $n=void 0!==Fn.ResizeObserver?Fn.ResizeObserver:Kn,Jn=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}([{type:"textfield",label:"Image Url",input:!0,key:"imageUrl",weight:20},{type:"textfield",label:"Width",input:!0,key:"canvasWidth",weight:20},{type:"textfield",label:"Height",input:!0,key:"canvasHeight",weight:20},{type:"textfield",label:"Dot Size",input:!0,key:"dotSize",placeholder:"10",weight:20},{type:"textfield",label:"Dot Stroke Size",input:!0,key:"dotStrokeSize",placeholder:"2",weight:20},{type:"textfield",label:"Dot Stroke Color",input:!0,key:"dotStrokeColor",placeholder:"#333",weight:20},{type:"textfield",label:"Dot Fill Color",input:!0,key:"dotFillColor",placeholder:"#ccc",weight:20},{type:"textfield",label:"Dot Custom Label",input:!0,key:"dotCustomLabel",placeholder:"x",tooltip:"Custom static label for dot.",weight:20}],vn()),Qn=[{key:"multiple",ignore:!0}],ti=[{type:"textarea",input:!0,key:"template",label:"Dot Value Template",editor:"ace",as:"html",rows:10,weight:18,tooltip:"The HTML template for displaying dots' values in preview mode (View Tab, generated PDF)",description:'Four available variables. "dot" is the data of the dot, "index" is the index of the dot (indexes start from \'0\'), "components" is an array of components of the form associated with the dot and "instance" is an instance of the Tagpad.'}],ei=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},ni=t.Components.components.component.editForm;function ii(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ni.apply(void 0,ei([[{key:"display",components:Jn},{key:"data",components:Qn},{key:"templates",label:"Templates",weight:5,components:ti}]],t))}var ri=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oi=function(){return(oi=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},si=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},ai=t.Components.components.component,li=t.Components.components.nestedarray,ci=function(e){function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(this,n)||this;r.type="tagpad",r.dots=[];var o=new t.Formio.Promise((function(t,e){r.backgroundReady={resolve:t,reject:e}}));return r.backgroundReady.promise=o,r.dimensionsMultiplier=1,r.sizeFromSubmission=!1,r}return ri(n,e),n.schema=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return li.schema.apply(li,si([{type:"tagpad",label:"Tagpad",key:"tagpad",input:!0,dotSize:10,dotStrokeSize:2,dotStrokeColor:"#333",dotFillColor:"#ccc",dotCustomLabel:"",components:[],tree:!0,template:n.defaultDotPreviewTemplate}],t))},Object.defineProperty(n,"builderInfo",{get:function(){return{title:"Tagpad",group:"premium",icon:"tag",weight:115,documentation:"",schema:n.schema()}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultSchema",{get:function(){return n.schema()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"emptyValue",{get:function(){return[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultValue",{get:function(){return[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"iterableRows",{get:function(){return this.editForms},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"buttons",{get:function(){var t=this,e={};return[{name:"removeDot",method:"removeSelectedDot"}].forEach((function(n){t.hasButton(n.name)&&(e[n.name]=n)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataReady",{get:function(){return this.backgroundReady.promise},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"renderContext",{get:function(){return{selectedDot:this.selectedDot,hasDots:this.dots&&this.dots.length||this.dataValue.length,buttons:this.buttons,canvasMaxHeight:this.userDefiniedCanvasSize.height?this.userDefiniedCanvasSize.height+"px":"50%",canvasMaxWidth:this.userDefiniedCanvasSize.width?this.userDefiniedCanvasSize.width+"px":"50%"}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"userDefiniedCanvasSize",{get:function(){var t=parseInt(this.component.canvasWidth,10),e=parseInt(this.component.canvasHeight,10);return isNaN(t)||isNaN(e)?{width:void 0,height:void 0}:{width:t,height:e}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultDotPreviewTemplate",{get:function(){return'<div class="dot-preview-label"> Dot {{index + 1}}: </div>\n    {% Object.keys(dot).forEach(function(key) { %}\n      <div style="margin-left: 15px;"><span class="dot-preview-field-label">{{key}}</span>:\n        <p class="dot-preview-value">\n          {{\n            instance.getComponent([index, key]) && \'getValueAsString\' in instance.getComponent([index, key])\n              ? instance.getComponent([index, key]).getValueAsString(dot[key])\n              : dot[key]\n          }}\n        </p>\n    </div>\n    {% }) %}'},enumerable:!1,configurable:!0}),n.prototype.init=function(){var t=this;if(this.builderMode)return this.editForms=[],e.prototype.init.call(this);this.components=this.components||[];var n=this.dataValue||this.emptyValue;this.editForms=n.map((function(e,n){return{isOpen:!1,data:e.dot?e.dot.data:e.data,components:t.createFormComponents(e,n)}}))},n.prototype.render=function(t){if(this.builderMode)return e.prototype.render.call(this);var n=this.renderContext;return e.prototype.render.call(this,t||this.renderTemplate("tagpad",oi(oi({},n),{components:this.renderComponents(this.formComponents)})))},n.prototype.attach=function(n){var i=this,r=new t.Formio.Promise((function(t,e){i.backgroundReady={resolve:t,reject:e}}));return this.backgroundReady.promise=r,this.builderMode||(this.loadRefs(n,{canvas:"single",background:"single",form:"single",canvasImage:"single",image:"single",removeDot:"single"}),this.formComponents&&this.attachComponents(this.refs.form,this.formComponents),this.refs.background&&this.hasBackgroundImage&&(this.createDrawingArea(),this.backgroundReady.promise.then((function(){i.resizeObserver=new $n((function(){if(i.originalImageSize&&(!i.originalImageSize.width||!i.originalImageSize.height)){i.setOriginalImageSize();var t=i.originalImageSize,e=t.width,n=t.height;i.setDimensions(0,0,e,n),i.setViewBoxAttribute(i.canvasSvg,i.dimensions)}i.stretchDrawingArea()})),i.refs.background&&i.resizeObserver.observe(i.refs.background)})),this.disabled||this.shouldDisabled||this.readOnly||this.attachDrawEvents(),this.refs.image&&!this.imageWasLoaded?this.refs.image.addEventListener("load",(function(t){i.setOriginalImageSize(),i.imageWasLoaded=!0,i.addBackground()})):this.addBackground()),this.attachButtons(),this.dataValue.length>0&&0===this.dots.length?this.createDots():this.dots.length>0&&this.dots.forEach((function(t){return i.drawDot(t.dot,t.index)}))),e.prototype.attach.call(this,n)},n.prototype.beforeFocus=function(e){"beforeFocus"in this.parent&&this.parent.beforeFocus(this);var n=this.getRelativePath(e.path),i=t.Utils.getArrayFromComponentPath(n);t.Utils._.isNumber(i[0])&&this.selectDot(i[0])},n.prototype.getRelativePath=function(t){var e="."+this.key,n=this.isInputComponent?this.path:this.path.slice(0).replace(e,"");return t.replace(n,"")},n.prototype.setOriginalImageSize=function(){this.loadRefs(this.element,{background:"single",canvasContainer:"single"});var t=window.getComputedStyle(this.refs.background),e=parseInt(null==t?void 0:t.width,10),n=parseInt(null==t?void 0:t.height,10);e=isNaN(e)?0:e,n=isNaN(n)?0:n,this.originalImageSize={width:e,height:n}},n.prototype.attachDrawEvents=function(){var t=this;!this.options.readOnly&&this.canvasSvg&&(this.canvasSvg.addEventListener("mouseup",(function(e){return t.mouseEnd(e)})),this.canvasSvg.addEventListener("touchend",(function(e){return t.touchEnd(e)})),this.two.update())},n.prototype.attachButtons=function(){var e=this;t.Utils._.each(this.buttons,(function(t){var n=e.refs[""+t.name];n&&e.addEventListener(n,"click",(function(i){i.preventDefault(),n.setAttribute("disabled","disabled"),e.setLoading(n,!0),"function"==typeof e[t.method]&&e[t.method](),n.removeAttribute("disabled"),e.setLoading(n,!1)}))}))},n.prototype.redraw=function(){e.prototype.redraw.call(this);var t=[];this.dots.forEach((function(e){return t.push(e.shape.circle,e.shape.text)})),this.two&&this.two.add(t)},n.prototype.destroy=function(){this.canvasSvg&&(this.canvasSvg.removeEventListener("touchend",this.touchEnd),this.canvasSvg.removeEventListener("mouseup",this.mouseEnd)),e.prototype.destroy.call(this),this.emit("destroy"),this.off("destroy")},n.prototype.destroyDot=function(t){if(this.dots[t]){var e=this.dots[t];e.shape.circle._renderer.elem.removeEventListener("mouseup",this.dotClicked),e.shape.text._renderer.elem.removeEventListener("mouseup",this.dotClicked)}},n.prototype.destroyComponents=function(){if(this.builderMode||!this.formComponents)return e.prototype.destroyComponents.call(this);this.formComponents.slice().forEach((function(t){return t.destroy()}))},n.prototype.addBackground=function(){this.refs.image&&this.refs.image.complete&&!this.imageWasLoaded?this.imageWasLoaded=!0:this.refs.image&&this.refs.image.complete&&this.imageWasLoaded&&this.setBackgroundImage()},n.prototype.setBackgroundImage=function(t){if(this.sizeFromSubmission)this.setViewBoxAttribute(this.canvasSvg,this.dimensions);else{var e=this.originalImageSize,n=e.width,i=e.height;this.setDimensions(0,0,n,i),this.setViewBoxAttribute(this.canvasSvg,this.dimensions)}this.loadRefs(this.refs.background,{backgroundImage:"single"}),this.stretchDrawingArea(),this.backgroundReady.resolve()},n.prototype.mapDimensionsFromAttributes=function(t){return[{attribute:"x",defaultValue:0},{attribute:"y",defaultValue:0},{attribute:"width",defaultValue:640},{attribute:"height",defaultValue:480}].map((function(e){return parseFloat(t.getAttribute(e.attribute))||e.defaultValue}))},n.prototype.setDimensions=function(t,e,n,i){this.dimensions={width:n,height:i,minX:t,minY:e}},n.prototype.setViewBoxAttribute=function(t,e){t.setAttribute("viewBox",e.minX+" "+e.minY+" "+e.width+" "+e.height)},n.prototype.hasButton=function(t){switch(t){case"removeDot":return!this.options.readOnly;default:return!1}},Object.defineProperty(n.prototype,"iteratableRows",{get:function(){return this.editForms},enumerable:!1,configurable:!0}),n.prototype.componentContext=function(t){return this.iteratableRows[t.row]?this.iteratableRows[t.row].data:{}},n.prototype.createFormComponents=function(e,n){var i=this,r=[];return this.component.components.forEach((function(o){var s=t.Utils._.clone(i.options);s.row=""+n,s.name+="["+n+"]";var a=e.dot?e.dot.data:e.data,l=i.createComponent(o,s,a);r.push(l)})),r},n.prototype.redrawDots=function(){this.dots=[],this.two.clear(),this.two.render(),this.createDots()},n.prototype.createDots=function(){var t=this,e=this.dataValue;e&&e.length&&this.two&&(e.forEach((function(e,n){t.dots[n]||t.addDot(e)})),this.dots.splice(e.length),this.editForms.splice(e.length))},n.prototype.getComponent=function(e,n){e=Array.isArray(e)?e:[e];var i=null,r=e[0],o=e[1],s=e.slice(2);return t.Utils._.isNumber(r)&&o?(this.everyComponent((function(t){t.key===o&&(i=t)}),r),i&&(t.Utils._.isFunction(n)&&n(i,this.getComponents),s.length&&"getComponent"in i)?i.getComponent(s,n):i):i},n.prototype.rescaleImage=function(e){var n=this;if(void 0===e&&(e={}),e.fromSubmission&&this.dataValue.length)return t.Utils._.get(this.dataValue,"[0].coordinate.width",!1)?(this.setDimensions(0,0,this.dataValue[0].coordinate.width,this.dataValue[0].coordinate.height),void(this.sizeFromSubmission=!0)):void(this.hasBackgroundImage&&this.backgroundReady.promise.then((function(){n.dataValue=n.dataValue.map((function(t){return t.coordinate.width=n.dimensions.width,t.coordinate.height=n.dimensions.height,t}))})))},n.prototype.setValue=function(t,e){this.dataValue=t,this.rescaleImage(e),this.createDots(),this.rebuild()},n.prototype.mouseEnd=function(t){t.preventDefault();var e=this.canvasSvg.getBoundingClientRect(),n=this.getActualCoordinate({x:t.clientX-e.left,y:t.clientY-e.top});this.addDot({coordinate:n,data:{}}),this.selectDot(this.dots.length-1)},n.prototype.touchEnd=function(t){t.preventDefault();var e=this.canvasSvg.getBoundingClientRect(),n=t.changedTouches[0],i=this.getActualCoordinate({x:n.pageX-e.left,y:n.pageY-e.top});this.addDot({coordinate:i,data:{}}),this.selectDot(this.dots.length-1)},n.prototype.getActualCoordinate=function(t){return t.x=Math.round(t.x/this.dimensionsMultiplier)+this.dimensions.minX,t.y=Math.round(t.y/this.dimensionsMultiplier)+this.dimensions.minY,t.width=this.dimensions.width,t.height=this.dimensions.height,t},n.prototype.selectDot=function(e){if(this.selectedDot&&this.dots[this.selectedDot.index]&&(this.dots[this.selectedDot.index].shape.circle.dashes=[0]),!t.Utils._.isNumber(e)||!this.dots[e])return this.selectedDot=null,void this.redraw();var n=this.dots[e];this.selectedDot=n,this.dots[this.selectedDot.index].shape.circle.dashes=[1],this.formComponents=this.editForms[e].components,this.redraw(),this.triggerChange()},n.prototype.dotClicked=function(t,e){t.stopPropagation(),this.selectDot(e)},n.prototype.addDot=function(t){var e=this.dots.length,n=this.drawDot(t,e);this.dots.push({index:e,dot:t,shape:n}),this.dataValue[e]||this.dataValue.push(t),this.editForms.push({components:this.createFormComponents(this.dots[e],e),data:t})},n.prototype.drawDot=function(t,e){var n=this,i=t.coordinate,r=i.x,o=i.y,s=this.drawDotCircle(r,o,this.component.dotSize,e),a=this.drawDotLabel(r,o,this.component.dotCustomLabel||e+1);return this.two.add(s,a),this.two.update(),s._renderer.elem.addEventListener("mouseup",(function(t){return n.dotClicked(t,e)})),a._renderer.elem.addEventListener("mouseup",(function(t){return n.dotClicked(t,e)})),{circle:s,text:a}},n.prototype.drawDotCircle=function(t,e,n,i){var r=this.two.makeCircle(t,e,n);return r.fill=this.component.dotFillColor,r.stroke=this.component.dotStrokeColor,r.linewidth=this.component.dotStrokeSize,r.className+=" formio-tagpad-dot",this.selectedDot&&this.selectedDot.index===i&&(r.dashes=[1]),r},n.prototype.drawDotLabel=function(t,e,n){var i=new Xe.Text(n,t,e);return i.className+=" formio-tagpad-dot-index",i.styles={color:this.component.dotStrokeColor},i},n.prototype.createDrawingArea=function(){this.two=new Xe({type:Xe.Types.svg,width:"100%",height:"100%"}).appendTo(this.refs.canvas),this.canvasSvg=this.two.renderer.domElement,this.canvasSvg.setAttribute("preserveAspectRatio","xMidYMid meet")},n.prototype.stretchDrawingArea=function(){var t,e;this.loadRefs(this.element,{background:"single"});var n=null===(t=this.refs.background)||void 0===t?void 0:t.offsetWidth,i=null===(e=this.refs.background)||void 0===e?void 0:e.offsetHeight;if(n&&i){var r=n/this.dimensions.width;this.dimensionsMultiplier!==r&&(this.dimensionsMultiplier=n/this.dimensions.width,this.setEditorSize(n,i))}},n.prototype.setEditorSize=function(t,e){this.two.width=t,this.two.height=e,this.two.update(),this.refs.image&&(this.refs.image.setAttribute("width",t),this.refs.image.setAttribute("height",e))},Object.defineProperty(n.prototype,"hasBackgroundImage",{get:function(){return this.component.image||this.component.imageUrl},enumerable:!1,configurable:!0}),n.prototype.removeSelectedDot=function(){this.selectedDot&&this.dataValue[this.selectedDot.index]&&(this.destroyDot(this.selectedDot.index),this.destroyComponents(),this.dataValue.splice(this.selectedDot.index,1),this.dots=[],this.editForms=[],this.components=[],this.createDots(),this.selectDot(0))},n.prototype.focus=function(){return this.refs.canvas&&this.refs.canvas.focus()},n.prototype.checkData=function(t,e,n){var i=this;return t=t||this.rootValue,e=e||{},n=n||this.data,ai.prototype.checkData.call(this,t,e,n),this.editForms.reduce((function(n,r,o){return i.checkDot(t,e,r.data,o)&&n}),!0)},n.prototype.checkValidity=function(t,e,n){return t=t||this.rootValue,n=n||this.data,this.checkCondition(n,t)?this.checkComponentValidity(t,e,n):(this.setCustomValidity(""),!0)},n.prototype.checkComponentValidity=function(t,n,i){var r=this;if(!e.prototype.checkComponentValidity.call(this,t,n,i))return!1;var o=!0;if(this.editForms.forEach((function(t,e){var i=r.checkDotValidity(t,n,r.dots[e]);o=o&&i})),!o)return!1;var s=this.invalid||this.invalidMessage(t,n);return this.setCustomValidity(s,n),!0},n.prototype.checkDot=function(t,n,i,r){var o=e.prototype.checkData.call(this,t,n,i,this.editForms[r].components);return this.setDotValidity(this.dots[r],o),o},n.prototype.checkDotValidity=function(t,e,n){var i=!0;if(!t)return!0;var r=e||t.dirty;return t.components.forEach((function(e){(r=r||!e.pristine)&&(e.setPristine(!r),t.dirty=!!r,i=i&&e.checkValidity(null,r,t.data))})),this.setDotValidity(n,i),!!i},n.prototype.addDotNumberToErrorMessages=function(t){this.editForms[t.index].components.forEach((function(e){e.errors.forEach((function(e){var n=" (see dot "+(t.index+1)+")";e.message.includes(n)||(e.message+=n,e.messages.forEach((function(t){return t.message+=n})))}))}))},n.prototype.setDotValidity=function(t,e){if(t){var n=e?this.component.dotStrokeColor:"#ff0000";t.shape.circle.stroke=n,t.shape.text.styles.color=n,this.two.update(),this.addDotNumberToErrorMessages(t)}},n.prototype.getDataAsString=function(){var t=this,e="",i=this.component.template||n.defaultDotPreviewTemplate;return this.iterableRows.forEach((function(n,r){var o=n.data,s=n.components,a=t.interpolate(i,{dot:o,index:r,components:s,instance:t});e+=a})),e},n.prototype.getValueAsString=function(n,i){var r=this;if(!n||!n.length)return"";if(i&&i.email){var o="";t.Utils.eachComponent(this.components,(function(t){o+="<th>"+t.label+"</th>"}));var s='\n        <table border="1" style="width:100%">\n          <thead>\n            <tr><th>Dots</th>'+o+"</tr>\n          </thead>\n          <tbody>\n      ";return n.map((function(e,n){var o=r.editForms[n].components,a="";t.Utils.eachComponent(o,(function(t){a+='<td style="text-align: center">',t.isInputComponent&&t.visible&&!t.skipInEmail&&(a+=t.getView(t.dataValue,i)),a+="</td>"})),s+='\n          <tr>\n            <td style="text-align: center">'+(n+1)+"</td>\n            "+a+"\n          </tr>\n        "})),s+="</tbody></table>"}return e.prototype.getValueAsString.call(this,n,i)},n.editForm=ii,n}(li),hi=[{type:"checkbox",input:!0,weight:105,key:"inlineEdit",label:"Inline Editing",tooltip:"Check this if you would like your changes within 'edit' mode to be committed directly to the submission object as that row is being changed"},{key:"defaultValue",ignore:!0},{key:"multiple",ignore:!0}],ui=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}([{key:"placeholder",ignore:!0},{key:"modalEdit",ignore:!0}],vn()),di=[{type:"textarea",label:"Header Template",key:"templates.header",rows:5,editor:"ace",as:"handlebars",input:!0,placeholder:"/*** Lodash Template Code ***/",tooltip:"This is the <a href='https://lodash.com/docs/4.17.5#template'>Lodash Template</a> used to render the header of the Dynamic Wizard.",customConditional:function(){return!t.Utils.Evaluator.noeval}},{type:"textarea",label:"Row Template",key:"templates.row",rows:5,editor:"ace",as:"handlebars",input:!0,placeholder:"/*** Lodash Template Code ***/",description:'Three available variables. "row" is an object of one row\'s data, "components" is the array of components in the grid and "state" is current row\'s state (can be "draft" or "saved").',tooltip:"This is the <a href='https://lodash.com/docs/4.17.5#template'>Lodash Template</a> used to render each row of the Dynamic Wizard.",customConditional:function(){return!t.Utils.Evaluator.noeval}},{type:"textarea",label:"Footer Template",key:"templates.footer",rows:5,editor:"ace",as:"handlebars",input:!0,placeholder:"/*** Lodash Template Code ***/",description:'Two available variables. "value" is the array of row data and "components" is the array of components in the grid.',tooltip:"This is the <a href='https://lodash.com/docs/4.17.5#template'>Lodash Template</a> used to render the footer of the Dynamic Wizard.",customConditional:function(){return!t.Utils.Evaluator.noeval}},{type:"textfield",input:!0,key:"rowClass",label:"Row CSS Class",placeholder:"Row CSS Class",tooltip:"CSS class to add to the edit row wrapper."}],fi=[{ignore:!0,key:"unique"},{weight:110,key:"validate.minLength",label:"Minimum Length",placeholder:"Minimum Length",type:"number",tooltip:"The minimum length requirement this field must meet.",input:!0},{weight:120,key:"validate.maxLength",label:"Maximum Length",placeholder:"Maximum Length",type:"number",tooltip:"The maximum length requirement this field must meet.",input:!0},{type:"checkbox",input:!0,weight:105,key:"rowDrafts",label:"Enable Row Drafts",tooltip:"Allow save rows even if their data is invalid. Errors will occur when try to submit with invalid rows."}],pi=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},gi=t.Components.components.component.editForm;function mi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return gi.apply(void 0,pi([[{label:"Templates",key:"templates",weight:5,components:di},{key:"display",components:ui},{key:"data",components:hi},{key:"validation",components:fi}]],t))}var vi=i(26213),yi=i(86131),_i={row:vi.Z,header:yi.Z},bi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wi=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},xi=t.Components.components.editgrid,ki=t.Components.components.nested,Si={New:"new",Editing:"editing",Saved:"saved",Removed:"removed",Draft:"draft"},Ri=function(e){function n(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=e.apply(this,t)||this;return i.type="dynamicWizard",i.isChangingMode=!0,i.isSavingInProgress=!1,i.editRows=[],i.changingRowIndex=null,i.step=0,i.buttonSettings={showPrevious:!0,showNext:!0,showSubmit:!0,showCancel:!i.options.readOnly},i.shouldUpdate=!0,i}return bi(n,e),n.schema=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xi.schema.apply(xi,wi([{type:"dynamicWizard",label:"Dynamic Wizard",key:"dynamicWizard",templates:{header:n.defaultHeaderTemplate,row:n.defaultRowTemplate,footer:""}}],t))},Object.defineProperty(n,"builderInfo",{get:function(){return{title:"Dynamic Wizard",group:"premium",icon:"tasks",ignoreForForm:!0,disableSiblings:!0,weight:20,schema:n.schema()}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultHeaderTemplate",{get:function(){return'<div class="row">\n    <div class="col-sm-2">\n      Users\n    </div>\n  </div>'},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultRowTemplate",{get:function(){return'<div class="list-group-item">\n    <div class="list-group-subheader">\n      <div class="row">\n        <div class="col-sm-2">\n          User {{ rowIndex + 1 }}\n        </div>\n        {% if (!ctx.self.options.readOnly && !component.disabled) { %}\n        <div class="col-sm-2">\n          <div class="btn-group pull-right">\n            <button class="btn btn-default btn-light btn-sm editCard"><i class="{{ ctx.iconClass(\'edit\') }}"></i></button>\n            {% if (!instance.hasRemoveButtons || instance.hasRemoveButtons()) { %}\n              <button class="btn btn-danger btn-sm removeRow"><i class="{{ iconClass(\'trash\') }}"></i></button>\n            {% } %}\n          </div>\n        </div>\n        {% } %}\n      </div>\n    </div>\n    {% ctx.util.eachComponent(ctx.components, function(component) { %}\n    {% if ((!component.hasOwnProperty(\'tableView\') || component.tableView) && isVisibleInRow(component)) { %}\n    <div class="row">\n      <div class="col-sm-2">\n        {{ component.key }}\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-2">\n        {{ ctx.getView(component, ctx.row[component.key]) }}\n      </div>\n    </div>\n    {% } %}\n    {% }) %}\n  </div>'},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dynamicWizardKey",{get:function(){return"dynamicWizard-"+this.key},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rowRef",{get:function(){return this.dynamicWizardKey+"-row"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rowElements",{get:function(){return this.refs[this.rowRef]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rowRefs",{get:function(){return this.refs["dynamicWizard-"+this.component.key+"-row"]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"agreeButtonRef",{get:function(){return this.dynamicWizardKey+"-agreeButton"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"denyButtonRef",{get:function(){return this.dynamicWizardKey+"-denyButton"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"agreeButtonElements",{get:function(){return this.refs[this.agreeButtonRef]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cancelRowRef",{get:function(){return this.dynamicWizardKey+"-cancelRow"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cancelRowElements",{get:function(){return this.refs[this.cancelRowRef]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"inlineEditMode",{get:function(){return this.component.inlineEdit},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"saveEditMode",{get:function(){return!this.inlineEditMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rootWizard",{get:function(){var t;return this.findRootWizard(null===(t=this.parent)||void 0===t?void 0:t.parent)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasComponents",{get:function(){return this.component.components.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"buttons",{get:function(){var t=this,e={};return[{name:"cancel",method:"cancelRow"},{name:"previous",method:"prevPage"},{name:"next",method:"nextPage"}].forEach((function(n){t.hasButton(n.name)&&(e[n.name]=n)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultSchema",{get:function(){return n.schema()},enumerable:!1,configurable:!0}),n.prototype.init=function(t,n){return void 0===n&&(n=this._visible),this.prevVisibility=n,this.prevBlocking=this.disabled,this.secondRender=!!t,this.shouldUpdate=!0,this.changingRowIndex=null,this.builderMode&&(this.editRows=[]),e.prototype.init.call(this)},n.prototype.render=function(n){var i,r,o;if(this.builderMode)return e.prototype.render.call(this);var s=this.dataValue||[],a=t.Utils.Evaluator.noeval?_i.header:t.Utils._.get(this.component,"templates.header"),l=this.editRows[this.changingRowIndex];0===this.step&&l&&!l.components[this.step]._visible&&this.nextPage();var c=!this.editRows.length&&0===this.step&&0===this.changingRowIndex;return(!this.secondRender&&this.shouldUpdate||c)&&!this.options.readOnly&&(this.secondRender=!0,this.rootWizard.editMode||0===this.root.page&&this.page===this.root.page&&this._parentVisible&&this._visible&&!this._disabled&&this.hasComponents&&(this.shouldUpdate=!1,this.isInitRowExists=!0,this.addRow(!0,c))),(null===(i=this.root)||void 0===i?void 0:i.editMode)&&this.rootWizard.editMode&&this.isInitRowExists&&(this.isInitRowExists=!1,this.cancelRow()),e.prototype.render.call(this,n||this.renderTemplate("dynamicWizard",{ref:{row:this.rowRef,agreeButton:this.agreeButtonRef,denyButton:this.denyButtonRef},header:this.renderString(a),footer:this.renderString(t.Utils._.get(this.component,"templates.footer"),{components:this.component.components,value:s}),rows:this.editRows.map(this.renderRow.bind(this)),currentComponent:-1===this.step?null:null===(o=null===(r=this.editRows[this.changingRowIndex])||void 0===r?void 0:r.components[this.step])||void 0===o?void 0:o.render(),errors:this.editRows.map((function(t){return t.error})),buttons:this.buttons,hasAddButton:this.hasAddButton(),hasRemoveButtons:this.hasRemoveButtons(),isChangingMode:this.isChangingMode,isDisabled:this._disabled,isBlocking:!this._visible||this._disabled||!this.hasComponents,dynamicWizardKey:this.dynamicWizardKey,readOnly:this.options.readOnly}))},n.prototype.attach=function(t){var n,i=this,r=e.prototype.attach.call(this,t);if(this.builderMode)return e.prototype.attach.call(this,t);if(this.visibilityCheck(),this.blockingCheck(),this.loadRefs(t,((n={})[this.agreeButtonRef]="multiple",n[this.denyButtonRef]="multiple",n[this.rowRef]="multiple",n[this.dynamicWizardKey+"-cancel"]="single",n[this.dynamicWizardKey+"-previous"]="single",n[this.dynamicWizardKey+"-next"]="single",n)),this.agreeButtonElements.forEach((function(t){i.addEventListener(t,"click",(function(){i.addRow(),-1===i.rootWizard.currentNextPage&&i.rootWizard.redraw()}))})),this.attachNav(),this.isChangingMode){var o=this.editRows[this.changingRowIndex];o&&this.attachComponents(this.rowElements[0],o.components,this.component.components,!0)}else this.rowElements.forEach((function(t,e){[{className:"removeCard",event:"click",action:function(){return i.removeRow(e)}},{className:"editCard",event:"click",action:function(){i.editRow(e)}}].forEach((function(e){var n=e.className,r=e.event,o=e.action,s=t.getElementsByClassName(n);Array.prototype.forEach.call(s,(function(t){i.addEventListener(t,r,o)}))}))}));return r},n.prototype.attachNav=function(){var e=this;t.Utils._.each(this.buttons,(function(t){var n=e.refs[e.dynamicWizardKey+"-"+t.name];e.addEventListener(n,"click",(function(n){if(n.preventDefault(),!e[t.method]()||"nextPage"!==t.method){e.redraw();var i=e.editRows[e.changingRowIndex];i&&e.validateRow(i,!1)}}))}))},n.prototype.attachComponents=function(n,i,r,o){var s;if(void 0===r&&(r=this.component.components),this.builderMode)return e.prototype.attachComponents.call(this,n,i,r);if(o){if(i=i||this.component.components,!(n=this.hook("attachComponents",n,i,r,this)))return new t.Formio.Promise((function(){}));var a=0,l=[];return this.isChangingMode?!t.Utils._.isNil(this.step)&&n.children[0]&&!(null===(s=n.children[0])||void 0===s?void 0:s.getAttribute("data-noattach"))&&i[this.step]&&l.push(i[this.step].attach(n.children[0])):Array.prototype.slice.call(n.children).forEach((function(t){!t.getAttribute("data-noattach")&&i[a]&&(l.push(i[a].attach(t)),a++)})),t.Formio.Promise.all(l)}},n.prototype.visibilityCheck=function(){this.page===this.root.page&&(this._visible&&!this.prevVisibility&&(this.prevVisibility=!0,!this.disabled&&this.hasComponents&&this.addRow()),this.prevVisibility&&!this._visible&&(this.prevVisibility=!1))},n.prototype.blockingCheck=function(){this.page===this.root.page&&this.prevBlocking&&!this.disabled&&(this.prevBlocking=!1,this.isChangingMode=!1,this.rootWizard.redraw())},n.prototype.isOpen=function(t){return[Si.New,Si.Editing].includes(null==t?void 0:t.state)},n.prototype.resetValue=function(){ki.prototype.resetValue.call(this),this.emptyRows(),this.step=0,this.addRow(!0,!0)},n.prototype.addRow=function(e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),!this.options.readOnly){if(!this.hasAddButton()&&!this.isOpen(this.editRows[this.changingRowIndex]))return this.isChangingMode&&(this.isChangingMode=!1),this.rootWizard.element.classList.remove("dynamicWizard-changingMode"),void this.rootWizard.redraw();var i,r={},o=this.editRows.length;return(t.Utils._.isNil(this.changingRowIndex)||n)&&(this.changingRowIndex=this.editRows.length,i={components:this.createRowComponents(r,o),data:r,state:Si.New,backup:null,error:null},this.editRows.push(i),this.inlineEditMode&&(this.dataValue.push(r),this.triggerChange()),this.checkRow("checkData",null,{},i.data,i.components),this.component.modal&&this.addRowModal(o)),this.isChangingMode=!0,this.step=-1!==this.step?this.step:0,this.addChangingMode(e),i||this.editRows[this.changingRowIndex]}},n.prototype.cancelRow=function(){var e=t.Utils._.clone(this.changingRowIndex);if(!this.options.readOnly){var n=this.editRows[e];(null==n?void 0:n.state)===Si.New?this.isSavingInProgress?this.removeRow(e):(n.state=Si.Removed,this.clearErrors(e),this.destroyComponents(e),this.inlineEditMode&&this.splice(e),this.editRows.splice(e,1)):(null==n?void 0:n.state)===Si.Editing&&(n.state=n.prevState,this.inlineEditMode&&(this.dataValue[e]=n.backup),n.data=n.backup,n.backup=null,this.isSavingInProgress&&(this.setValues(n),this.rebuild(!0)),this.restoreRowContext(n),this.component.rowDrafts||this.clearErrors(e)),this.returnPrevPageState(),this.shouldUpdate=!0,this.checkValidity(null,!0),this.redraw(),this.component.rowDrafts&&this.checkValidity(this.data,!1)}},n.prototype.rebuild=function(t){return void 0===t&&(t=!1),this.destroy(),this.init(t,this.prevVisibility),this.visible=this.conditionallyVisible(null,null),this.redraw()},n.prototype.returnPrevPageState=function(){this.isChangingMode=!1,this.isSavingInProgress=!1,this.step=-1,this.changingRowIndex=null,this.removeChangingMode()},n.prototype.setValues=function(t){if(!this.options.readOnly&&this.saveEditMode){var e=this.dataValue||[];if((null==t?void 0:t.state)!==Si.New||this.isSavingInProgress)((null==t?void 0:t.state)===Si.Editing||this.isSavingInProgress)&&(e[this.changingRowIndex]=null==t?void 0:t.data);else{var n=e.length;e.push(null==t?void 0:t.data),this.changingRowIndex!==n&&(this.editRows.splice(this.changingRowIndex,1),this.editRows.splice(this.changingRowIndex,0,t))}}},n.prototype.saveRow=function(t){var e=this,n=this.editRows[this.changingRowIndex];return n&&(this.setValues(n),this.isSavingInProgress&&(this.isSavingInProgress=!1),n.state=this.component.rowDrafts&&!t?Si.Draft:Si.Saved,n.backup=null,this.updateValue(),this.triggerChange(),this.component.rowDrafts&&n.components.forEach((function(t){return t.setPristine(e.pristine)})),this.checkValidity(null,!0),this.redraw(),n.alerts&&(n.alerts=!1),this.isChangingMode=!1,this.changingRowIndex=null,this.shouldUpdate=!0,this.removeChangingMode()),!0},n.prototype.saveCurrentPageData=function(t){(null==t?void 0:t.state)!==Si.New&&(null==t?void 0:t.state)!==Si.Editing||(this.setValues(t),this.checkData(this.data),this.isSavingInProgress||(this.isSavingInProgress=!0))},n.prototype.isRowEditing=function(t){return(null==t?void 0:t.state)===Si.Editing||(null==t?void 0:t.state)===Si.New},n.prototype.switchToStep=function(e){var n=this.getRelativePath(e.path),i=t.Utils.getArrayFromComponentPath(n),r=t.Utils._.findIndex(this.components,(function(t){return t.key===e.component.key})),o=this.editRows[i[0]],s=this.isRowEditing(o);o?s?(this.step=t.Utils._.isFinite(r)?r:0,this.addChangingMode(),this.validateRow(o,!1)):this.editRow(i[0],r):this.addRow()},n.prototype.editRow=function(e,n){var i=this.editRows[e],r=this.isRowEditing(i);if(i&&!r){i.prevState=i.state,i.state=Si.Editing;var o=t.Utils._.cloneDeep(i.data);if(this.inlineEditMode?i.backup=o:(i.backup=i.data,i.data=o,this.restoreRowContext(i)),this.component.modal)return this.addRowModal(e);this.isChangingMode=!0,this.changingRowIndex=e,this.step=t.Utils._.isFinite(n)?n:0,this.addChangingMode(),this.validateRow(i,!1)}},n.prototype.removeRow=function(t){this.options.readOnly||(this.baseRemoveRow(t),this.splice(t),this.editRows.splice(t,1),this.updateRowsComponents(t),this.updateValue(),this.triggerChange(),this.checkValidity(null,!0),this.checkData(),this.redraw(),this.shouldUpdate=!0)},n.prototype.renderRow=function(e,i){var r=this,o=this.dataValue||[],s=this.flattenComponents(i),a=t.Utils.Evaluator.noeval?_i.row:t.Utils._.get(this.component,"templates.row",n.defaultRowTemplate);return this.renderString(a,{row:o[i]||{},data:this.data,rowIndex:i,components:this.component.components,flattenedComponents:s,isVisibleInRow:function(t){return r.isComponentVisibleInRow(t,s)},getView:function(e,n){var i=s[e.key],r=i?i.getView(n||i.dataValue):"";return i&&i.widget&&"--- PROTECTED ---"!==r&&(r=t.Utils._.isArray(r)?r.map((function(t){return i.widget.getValueAsString(t)})):i.widget.getValueAsString(r)),r},state:this.editRows[i].state})},n.prototype.hasButton=function(t,e){void 0===e&&(e=this.getNextPage());var n=this.buttonSettings,i=n.previous,r=void 0===i?this.buttonSettings.showPrevious:i,o=n.cancel,s=void 0===o?this.buttonSettings.showCancel:o,a=n.next,l=void 0===a?this.buttonSettings.showNext:a;switch(t){case"previous":return r&&0!==this.step&&this.hasComponents;case"next":return l&&e&&this.hasComponents;case"cancel":return s&&this.hasComponents;default:return!0}},n.prototype.getNextPage=function(){var t;return this.step<(null===(t=this.component)||void 0===t?void 0:t.components.length)},n.prototype.prevPage=function(){var e,n,i=this.editRows[this.changingRowIndex];if(0!==this.step){var r=t.Utils._.clone(this.step);this.step=r-1,(null===(n=null===(e=null==i?void 0:i.components)||void 0===e?void 0:e[this.step])||void 0===n?void 0:n._visible)?this.saveCurrentPageData(i):this.prevPage()}else this.rootWizard.prevPage()},n.prototype.findRootWizard=function(t){var e,n,i,r=null===(e=null==t?void 0:t.parent)||void 0===e?void 0:e.parent;return(null===(n=null==t?void 0:t.parent)||void 0===n?void 0:n.subForm)&&(r=null==r?void 0:r.parent),r&&"wizard"===(null===(i=null==r?void 0:r._form)||void 0===i?void 0:i.display)?this.findRootWizard(r):t},n.prototype.nextPage=function(){var e,n,i,r,o=this.editRows[this.changingRowIndex],s=this.validateRow(o,!0);if(!this.component.rowDrafts&&!s)return!0;if(this.step===(null===(n=null===(e=this.component)||void 0===e?void 0:e.components)||void 0===n?void 0:n.length)-1)return this.step=-1,this.saveRow(s),-1===this.rootWizard.currentNextPage&&this.rootWizard.redraw(),!1;var a=t.Utils._.clone(this.step);this.step=a+1,(null===(r=null===(i=null==o?void 0:o.components)||void 0===i?void 0:i[this.step])||void 0===r?void 0:r._visible)?this.saveCurrentPageData(o):this.nextPage()},n.prototype.validateStep=function(t,e,n,i){var r=e,o=!(!t.serverErrors||!t.serverErrors.length);return this.component.rowDrafts||o||t.setPristine(!n),r&&t.checkValidity(null,n,i)},n.prototype.validateRow=function(t,e){var n=this,i=!0;if(!t)return i;var r=wi(this.errors);if(t.state===Si.Editing||e||t.state===Si.Draft&&!this.pristine&&!this.root.pristine){var o=t.components[this.step];o?i=this.validateStep(o,i,e,t.data):-1===this.step&&t.components.forEach((function(r){i=n.validateStep(r,i,e,t.data)}))}return this.component.validate&&this.component.validate.row&&("true"!==(i=this.evaluate(this.component.validate.row,{valid:i,row:t.data},"valid",!0)).toString()?(t.error=i,i=!1):t.error=null,null===i&&(i="Invalid row validation for "+this.key)),t.errors=i?null:this.errors.filter((function(t){return!r.includes(t)})),this.showRowErrorAlerts(t,!!i),!!i},n.prototype.findSourceRoot=function(t){return(null==t?void 0:t.parent)?this.findSourceRoot(null==t?void 0:t.root):t},n.prototype.changeState=function(t){var e=this.root?this.findSourceRoot(this.root):{};t&&!e.submissionInProcess?!this.prevVisibility&&this._visible?this.rebuild(this.secondRender):this.rebuild():this.redraw()},n.prototype.addChangingMode=function(t){void 0===t&&(t=!1),this.rootWizard.element&&(this.rootWizard.element.classList.contains("dynamicWizard-changingMode")||this.rootWizard.element.classList.add("dynamicWizard-changingMode"),t||(this.redraw(),this.rootWizard.redraw()),this.triggerChange())},n.prototype.removeChangingMode=function(){var t;(null===(t=this.rootWizard)||void 0===t?void 0:t.element)&&(this.rootWizard.element.classList.remove("dynamicWizard-changingMode"),this.redraw(),this.rootWizard.redraw(),this.triggerChange())},n.editForm=mi,n}(xi),Ci=i(96486),Oi={select:[{type:"equal",label:"Is equal to",filter:function(t,e){return Ci.isEqual(t,e)}},{type:"notEqual",label:"Is not equal to",filter:function(t,e){return!Ci.isEqual(t,e)}},{type:"contain",label:"Contains",filter:function(t,e){return Ci.isArray(t)?e.every((function(e){return t.includes(e)})):Ci.isEqual(t,e)}},{type:"notContain",label:"Does not contain",filter:function(t,e){return Ci.isArray(t)?e.every((function(e){return!t.includes(e)})):!Ci.isEqual(t,e)}}],checkbox:[{type:"equal",label:"Is equal to",filter:function(t,e){return Ci.isEqual(t,e)}}]},Ei=[{key:"multiple",ignore:!0}],Ai=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}([{key:"placeholder",ignore:!0},{label:"Sortable",type:"checkbox",input:!0,key:"sortable",weight:442,defaultValue:!0},{label:"Filterable",type:"checkbox",input:!0,key:"filterable",weight:442,defaultValue:!0},{label:"Inline editing",type:"checkbox",input:!0,key:"inlineEditing",weight:442,defaultValue:!1},{type:"select",input:!0,key:"itemsPerPage",label:"Items per page",weight:442,defaultValue:10,dataSrc:"values",data:{values:[{label:"5",value:5},{label:"10",value:10},{label:"25",value:25},{label:"50",value:50},{label:"100",value:100},{label:"All",value:-1}]}},{label:"Show add button",type:"checkbox",input:!0,key:"showAddBtn",weight:442,defaultValue:!0},{label:"Show edit button",type:"checkbox",input:!0,key:"showEditBtn",weight:442,defaultValue:!0},{label:"Show delete button",type:"checkbox",input:!0,key:"showDeleteBtn",weight:442,defaultValue:!0},{label:"Show delete all button",type:"checkbox",input:!0,key:"showDeleteAllBtn",weight:442,defaultValue:!1},{type:"textfield",label:"Delete all confirmation message",input:!0,key:"deleteAllConfirmationMessage",defaultValue:"Are you sure you wish to delete all rows?",weight:442,conditional:{json:{"===":[{var:"data.showDeleteAllBtn"},!0]}}}],vn()),Mi=[{ignore:!0,key:"unique"},{weight:110,key:"validate.minLength",label:"Minimum Length",placeholder:"Minimum Length",type:"textfield",tooltip:"The minimum length requirement this field must meet.",input:!0},{weight:120,key:"validate.maxLength",label:"Maximum Length",placeholder:"Maximum Length",type:"textfield",tooltip:"The maximum length requirement this field must meet.",input:!0}],Ti=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},Pi=t.Components.components.component.editForm;function Fi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Pi.apply(void 0,Ti([[{key:"display",components:Ai},{key:"data",components:Ei},{key:"validation",components:Mi}]],t))}var ji=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ii=function(){return(Ii=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},zi=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},Li=t.Components.components.editgrid,Di="https://cdn.form.io",Bi=function(e){function n(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=e.apply(this,t)||this;i.editRows=[],i.savedRows=[],i.isModalOpened=!1,i.columns={},i.initComponents=[],i.type="datatable",i.tabIndex=0;var r=new Formio.Promise((function(t,e){i.dataTableReady={resolve:t,reject:e}}));return i.dataTableReady.promise=r,i}return ji(n,e),n.schema=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Li.schema.apply(Li,zi([{type:"datatable",label:"Data Table",key:"dataTable"}],t))},Object.defineProperty(n,"builderInfo",{get:function(){return{title:"Data Table",group:"premium",icon:"table",weight:115,documentation:"",schema:n.schema()}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataReady",{get:function(){return this.dataTableReady.promise},enumerable:!1,configurable:!0}),n.prototype.render=function(t){var n,i=this;return this.builderMode?e.prototype.render.call(this):e.prototype.render.call(this,t||this.renderTemplate("datatable",{ref:{row:this.rowRef,addRow:this.addRowRef,saveRow:this.saveRowRef,cancelRow:this.cancelRowRef},header:"<h4>"+("new"===(null===(n=this.editRows[0])||void 0===n?void 0:n.state)?"Add row":"Edit row")+"</h4>",rows:this.editRows.map(this.renderRow.bind(this)),openRows:this.editRows.map((function(t){return i.isOpen(t)})),errors:this.editRows.map((function(t){return t.error})),hasRemoveButtons:this.hasRemoveButtons()}))},n.prototype.attach=function(t){var n=this,i=new Formio.Promise((function(t,e){n.dataTableReady={resolve:t,reject:e}}));return this.dataTableReady.promise=i,this.builderMode?e.prototype.attach.call(this,t):e.prototype.attach.call(this,t).then((function(){if(n.attachModal(n.element),n.loadRefs(n.element,{tableContainer:"single"}),n.formioGrid&&n.refs.tableContainer)return n.formioGrid.setData(n.dataValue),n.formioGrid.init(),void n.formioGrid.attach(n.refs.tableContainer);n.loadFormioGrid().then((function(t){return n.FormioCore.Template.framework=Formio.Templates.framework,n.initFormioGrid(t).then((function(){n.dataTableReady.resolve()}))}))}))},n.prototype.loadFormioGrid=function(){var t=this;return Formio.requireLibrary("formioGridCSS","FormioGridCSS",[{type:"styles",src:Di+"/grid/formio.grid.min.css"}],!1),Formio.requireLibrary("FormioCore","FormioCore","https://cdn.jsdelivr.net/npm/@formio/core/dist/formio.core.min.js",!0).then((function(e){return t.FormioCore=e,Formio.requireLibrary("FormioGrid","FormioGrid",Di+"/grid/formio.grid.min.js",!0)}))},n.prototype.attachComponent=function(t){var e,n=t.key,i=t.element,r=t.value,o=t.onChange,s=t.row,a=(t.rowIndex,t.index),l=t.readOnly,c=this.columns[n];if(c){c=Ii(Ii({},c),{hideLabel:!0,hidden:!1});var h=Ii(Ii({},this.options),{onChange:function(t,e,n){n&&(null==o||o(e.value),e.instance.checkComponentValidity())},readOnly:l}),u=this.createComponent(c,h,((e={})[n]=r,e),!1,!0);return u.rowIndex=null!=a?a:u.rowIndex,u.data=null!=s?s:u.data,u.build(i),{component:u,resetValue:function(){u.resetValue()}}}return null},n.prototype.customFilters=function(t){return Oi[null==t?void 0:t.type]},n.prototype.isSortable=function(t){return!["button","htmlelement","content"].includes(t.type)},n.prototype.isFilterable=function(t){return!["button","htmlelement","content"].includes(t.type)},Object.defineProperty(n.prototype,"maxLength",{get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this.component)||void 0===t?void 0:t.validate)||void 0===e?void 0:e.maxLength)&&void 0!==n?n:1/0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minLength",{get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this.component)||void 0===t?void 0:t.validate)||void 0===e?void 0:e.minLength)&&void 0!==n?n:0},enumerable:!1,configurable:!0}),n.prototype.isAttachable=function(t){return this.component.inlineEditing||["button","htmlelement","content"].includes(t)},Object.defineProperty(n.prototype,"visibility",{get:function(){var t=this.dataValue,e=this.savedRows;return Ci.reduce(e,(function(e,n){return Ci.each(n.components,(function(i){var r,o,s,a=!0;(null===(r=i.component.logic)||void 0===r?void 0:r.length)&&i.hasCondition()?e.hasOwnProperty(i.key)&&(null===(s=null===(o=i.component)||void 0===o?void 0:o.conditional)||void 0===s?void 0:s.show)===e[i.key]?a=e[i.key]:"hidden"===i.type||i.component.hideColumnByDefault?a=!1:"function"==typeof i.checkConditions&&(a=i.checkConditions(t,{},n.data)):a=i.visible,e[i.key]=a})),e}),{})},enumerable:!1,configurable:!0}),n.prototype.updateComponentsVisibility=function(){var t,e=this.formioGrid,n=this.visibility;(null===(t=null==e?void 0:e.component)||void 0===t?void 0:t.components.length)&&this.formioGrid.menu.emit("changeVisibility",this.formioGrid.component.components.map((function(t){return Ii(Ii({},t),{show:n[t.key]})})))},n.prototype.initFormioGrid=function(e){var n=this,i=[];t.Utils.eachComponent(this.component.components,(function(t){return(t.tableView||["htmlelement","content"].includes(t.type))&&(i.push(Ii({type:"datavalue",sortable:n.isSortable(t),filterable:n.isFilterable(t),show:n.visibility[t.key],attach:n.isAttachable(t.type)?function(t){var e=t.key,i=t.element,r=t.value,o=t.onChange,s=t.row,a=t.rowIndex,l=t.index;o=null!=o?o:function(t){n.dataValue[l][e]=t},r=null!=r?r:n.dataValue[l][e],n.attachComponent({key:e,element:i,value:r,onChange:o,row:s,rowIndex:a,index:l,readOnly:n.options.readOnly||n.component.disabled})}:null},t)),n.columns[t.key]=t),["datagrid","editgrid","datamap","datatable","tree","container"].includes(t.type)}),!0),i.sort((function(t,e){var n,i;return(null!==(n=t.columnWeight)&&void 0!==n?n:0)-(null!==(i=e.columnWeight)&&void 0!==i?i:0)}));var r=this.component,o=r.sortable,s=r.filterable,a=r.disabled,l=r.itemsPerPage,c=r.showAddBtn,h=void 0===c||c,u=r.showEditBtn,d=void 0===u||u,f=r.showDeleteBtn,p=void 0===f||f,g=r.showDeleteAllBtn,m=this.options.readOnly;return this.initComponents=this.createRowComponents({},0),e.render(this.refs.tableContainer,{components:i,pagination:{itemsPerPage:l||10},showAddBtn:h&&this.maxLength>this.dataValue.length,showEditBtn:d,showDeleteBtn:p&&this.minLength<this.dataValue.length,showDeleteAllBtn:g},{sortable:o,filterable:s,readOnly:m||a,hooks:{attachFilter:this.attachComponent.bind(this),format:function(t,e){return n.format(t,e)},filter:function(t){return n.customFilters(n.columns[t])}}},this.dataValue).then((function(t){n.formioGrid=t,n.formioGrid.on("row:add",(function(){n.emit("row:add"),n.onAddRow()})),n.formioGrid.on("row:edit",(function(t,e,i){n.emit("row:edit",t,e,i),n.onEditRow(t,e,i)})),n.formioGrid.on("row:delete",(function(t,e,i){window.confirm("Are you sure you wish to delete the row?")&&(n.emit("row:delete",t,e,i),n.dataValue.splice(i,1),n.savedRows.splice(i,1),n.setValue(n.dataValue))})),n.formioGrid.on("deleteAll",(function(){window.confirm(n.component.deleteAllConfirmationMessage)&&(n.emit("deleteAll"),n.dataValue=n.defaultValue,n.setValue(n.dataValue))})),n.formioGrid.on("row:click",(function(t,e,i){n.emit("row:click",t,e,i)})),n.formioGrid.on("page",(function(t){n.emit("page",t)}))}))},n.prototype.createRowComponents=function(t,n){var i=e.prototype.createRowComponents.call(this,t,n);return this.disabled&&i.forEach((function(t){t.disabled=!0})),i},n.prototype.createComponent=function(t,n,i,r,o){var s=e.prototype.createComponent.call(this,t,n,i,r);if(o){var a=this.visibility;a.hasOwnProperty(t.key)&&s.visible!==a[t.key]&&(s.visible=a[t.key])}return s.inDataTable=!0,s},n.prototype.getComponents=function(t){var n;return this.savedRows=this.savedRows||[],this.builderMode?e.prototype.getComponents.call(this):Ci.isNumber(t)?(null===(n=this.savedRows[t])||void 0===n?void 0:n.components)||[]:this.savedRows.reduce((function(t,e){return t.concat(e.components||[])}),[])},n.prototype.beforeFocus=function(t){var e=this.savedRows.findIndex((function(e){return e.components.find((function(e){return t===e}))}));Ci.isNumber(e)&&!this.builderMode&&this.onEditRow(this.dataValue[e],e,e)},n.prototype.onAddRow=function(){if(!this.options.readOnly){var t={};this.editRows=[{components:this.createRowComponents(t,0),data:t,state:"new",index:this.dataValue.length}],this.openModal(),this.redraw()}},n.prototype.onEditRow=function(t,e,n){var i=Ii({},t);this.editRows=[{components:this.createRowComponents(i,n),data:i,state:"editing",index:n}],this.openModal(),this.redraw()},n.prototype.cancelRow=function(){this.closeModal()},n.prototype.saveRow=function(t,e){var n,i=this.editRows[t];if(!this.validateRow(i,!0)){var r=i.components.filter((function(t){return t.error})).map((function(t){return t.error})),o=this.renderTemplate("errorsList",{errors:r});return this.root.setAlert.call(this.editRows[0].components[0],"danger",o),!1}"editing"===i.state?(this.dataValue[i.index]=i.data,i.state="saved",this.savedRows[i.index]=i,this.editRows=[],this.setValue(this.dataValue)):(this.dataValue.unshift(i.data),i.state="saved",this.savedRows.unshift(i),this.editRows=[],this.setValue(this.dataValue)),this.closeModal(),this.checkData(this.root.data,!0,i.data,!1)?this.redraw():null===(n=this.root)||void 0===n||n.showErrors()},n.prototype.format=function(e,n){var i=this.columns[e];return i?(t.Utils.getComponent(this.initComponents,e,!0)||t.Components.create(i,this.options,n,!0)).getView(n):n},Object.defineProperty(n.prototype,"iteratableRows",{get:function(){return this.savedRows||[]},enumerable:!1,configurable:!0}),n.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),t||(t=this.defaultValue),this.dataValue=t,this.savedRows=this.dataValue.map((function(t,e){return{components:n.createRowComponents(t,0),data:t,state:"saved",index:e}})),this.checkData(),this.formioGrid&&(this.formioGrid.component.showAddBtn=this.component.showAddBtn&&this.maxLength>this.dataValue.length,this.formioGrid.component.showDeleteBtn=this.component.showDeleteBtn&&this.minLength<this.dataValue.length,this.formioGrid.component.showDeleteAllBtn=this.component.showDeleteAllBtn,this.formioGrid.setData(this.dataValue),this.updateComponentsVisibility(),this.formioGrid.refreshGrid())},n.prototype.updateValue=function(t,n){void 0===n&&(n={}),e.prototype.updateValue.call(this,t,n)},n.prototype.destroy=function(){var t,n;e.prototype.destroy.call(this),this.emit("destroy"),null===(n=null===(t=this.formioGrid)||void 0===t?void 0:t.destroy)||void 0===n||n.call(t)},n.prototype.openModal=function(){var t,e;this.isModalOpened=!0,null===(t=this.refs.dataTableModalWrapper)||void 0===t||t.classList.add("formio-dialog-disabled-animation"),null===(e=this.refs.dataTableModalWrapper)||void 0===e||e.classList.remove("component-rendering-hidden")},n.prototype.closeModal=function(){var t,e;null===(t=this.refs.dataTableModalWrapper)||void 0===t||t.classList.remove("formio-dialog-disabled-animation"),null===(e=this.refs.dataTableModalWrapper)||void 0===e||e.classList.add("component-rendering-hidden"),this.isModalOpened=!1,this.editRows=[],this.checkValidity(this.root.data,!0,this.root.data)},n.prototype.attachModal=function(t){var e=this;this.loadRefs(t,{dataTableModalOverlay:"single",dataTableModalContents:"single",dataTableModalClose:"single",dataTableModalWrapper:"single"}),this.isModalOpened?this.openModal():this.closeModal(),this.addEventListener(this.refs.dataTableModalOverlay,"click",(function(){return e.closeModal()})),this.addEventListener(this.refs.dataTableModalClose,"click",(function(){return e.closeModal()}))},n.prototype.resetValue=function(){e.prototype.resetValue.call(this),this.closeModal()},n.editForm=Fi,n}(Li),Vi=[{label:"Order",key:"order",input:!0,type:"textfield",tooltip:"The order in which the signers will receive emails. Zero (0) is for the owner of the document.",validate:{required:!0},weight:0},{label:"Signer Email",key:"email",input:!0,type:"textfield",tooltip:"An email of a person that needs to sign the document.",clearOnHide:!0,validate:{required:!0,custom:'valid = /\\{\\{([\\s\\S]+?)\\}\\}/g.test(input) ? true : /^(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(input)',customMessage:"Must be a valid email"},conditional:{show:!1,when:"order",eq:0},weight:5},{label:"Signer Name",key:"name",input:!0,type:"textfield",tooltip:"A name that will be written on a signature by default.",weight:10},{key:"multiple",ignore:!0},{key:"defaultValue",ignore:!0},{key:"clearOnHide",ignore:!0}],Wi=[{key:"placeholder",ignore:!0},{key:"tableView",ignore:!0},{key:"modalEdit",ignore:!0},{key:"tooltip",ignore:!0},{key:"initialFocus",ignore:!0},{key:"tabindex",ignore:!0}],Ui=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},Ni=t.Components.components.component.editForm;function qi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ni.apply(void 0,Ui([[{key:"display",components:Wi},{key:"data",components:Vi},{key:"validation",ignore:!0},{key:"addons",ignore:!0}]],t))}var Hi,Gi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yi=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},Xi=t.Components.components.field,Zi=function(){var e=t.Formio.pageQuery().paths,n=e.includes("form")&&e[e.indexOf("form")+1];if(24===n.length){var i=t.Formio.getProjectUrl()+"/form/"+n+"/action";t.Formio.makeStaticRequest(i,"get").then((function(t){Array.isArray(t)&&t.length&&(Ki.actionSetUp=!!t.find((function(t){return"signrequest"===t.name})))}))}},Ki=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.apply(this,e)||this;return i.actionSetUp=!1,i}return Gi(e,t),e.schema=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Xi.schema.apply(Xi,Yi([{type:"signrequestsignature",label:"SignRequest Signature",key:"signrequestsignature",input:!1,hideLabel:!0}],t))},Object.defineProperty(e,"builderInfo",{get:function(){return{title:"SignRequest Signature",icon:"edit",group:"premium",documentation:"/userguide/#signrequestsignature",weight:120,schema:e.schema()}},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(t.prototype.init.call(this),this.builderMode&&(this.hasEventHandler("formLoad")||this.on("formLoad",Zi),this.hasEventHandler("addComponent")||this.on("addComponent",(function(t){"signrequestsignature"===t.type&&Zi()})),this.hasEventHandler("formDelete")||this.on("formDelete",(function(){e.actionSetUp=!0}))),!this.options.building){e.actionSetUp=!0;var n=this.component,i=n.email,r=n.name,o=n.order;this.dataValue={email:i,first_name:r||"",order:o},0!=+o||this.hasEventHandler("submitDone")||this.once("submitDone",(function(t){var e=t.data.signrequest;e&&e.embedUrl&&window.open(e.embedUrl)}))}},Object.defineProperty(e.prototype,"defaultSchema",{get:function(){return e.schema()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emptyValue",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.setValue=function(e,n){return void 0===n&&(n={}),t.prototype.setValue.call(this,e,n)},e.prototype.hasValue=function(){return!!this.component.order},Object.defineProperty(e.prototype,"allowData",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){var t=this.component.overlay.height,e=this.options,n=e.building,i=e.pdf,r=n?40:50,o=n?24:50;return t&&n?o=.5*t:t&&i&&(o=t),"\n      height: "+(t||r)+"px;\n      font-size: "+o+"px;\n      line-height: "+(t||r)+"px;\n      width: max-content;\n    "},enumerable:!1,configurable:!0}),e.prototype.render=function(){return t.prototype.render.call(this,this.renderTemplate("signrequestsignature",{isPDF:this.options.pdf,isBuilder:this.options.building,actionSetUp:e.actionSetUp,styles:this.styles}))},e.prototype.destroy=function(){this.off("formLoad"),this.off("addComponent"),this.off("formDelete"),this.off("submitDone"),t.prototype.destroy.call(this)},e.editForm=qi,e.actionSetUp=!0,e}(Xi),$i={datasource:p,sketchpad:Mn,tagpad:ci,dynamicWizard:Ri,datatable:Bi,signrequestsignature:Ki},Ji={trim:function(e){return t.Utils._.trim(e,"/")},path:function(t){return t.filter((function(t){return!!t})).map(this.trim).join("/")},upload:function(e,n,i,r,o,s,a,l,c){return new t.Formio.Promise((function(t,h){var u=new XMLHttpRequest;u.onerror=function(t){t.networkError=!0,h(t)},u.onabort=h,u.onload=function(){if(u.status>=200&&u.status<300){var e=JSON.parse(u.response),n=new XMLHttpRequest;"function"==typeof a&&(n.upload.onprogress=a),n.onerror=function(t){t.networkError=!0,h(t)},n.onabort=function(t){t.networkError=!0,h(t)},n.onload=function(){n.status>=200&&n.status<300?t(e):h(n.response||"Unable to upload file")},n.onabort=h,n.send(i(n,e))}else h(u.response||"Unable to sign file")},u.open("POST",e.formUrl+"/storage/"+n),u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-Type","application/json; charset=UTF-8");var d=e.getToken();d&&u.setRequestHeader("x-jwt-token",d),u.send(JSON.stringify({name:Ji.path([s,o]),size:r.size,type:r.type,groupPermissions:l,groupId:c}))}))}},Qi=Ji,tr=function(){function t(t){this.formio=t}return t.prototype.uploadFile=function(t,e,n,i,r,o,s,a,l){return Qi.upload(this.formio,"azure",(function(e,n){return e.open("PUT",n.url),e.setRequestHeader("Content-Type",t.type),e.setRequestHeader("x-ms-blob-type","BlockBlob"),t}),t,e,n,i,a,l).then((function(){return{storage:"azure",name:Qi.path([n,e]),size:t.size,type:t.type,groupPermissions:a,groupId:l}}))},t.prototype.downloadFile=function(t){return this.formio.makeRequest("file",this.formio.formUrl+"/storage/azure?name="+Qi.trim(t.name),"GET")},t.title="Azure File Services",t}(),er=function(){function e(t){this.formio=t}return e.prototype.uploadFile=function(e,n,i,r,o,s,a,l,c){var h=this;return new t.Formio.Promise((function(t,o){var s=new XMLHttpRequest;"function"==typeof r&&(s.upload.onprogress=r);var a=new FormData;a.append("name",n),a.append("dir",i),a.append("file",e),s.onerror=function(t){t.networkError=!0,o(t)},s.onload=function(){if(s.status>=200&&s.status<300){var n=JSON.parse(s.response);n.storage="dropbox",n.size=e.size,n.type=e.type,n.groupId=c,n.groupPermissions=l,n.url=n.path_lower,t(n)}else o(s.response||"Unable to upload file")},s.onabort=o,s.open("POST",h.formio.formUrl+"/storage/dropbox");var u=h.formio.getToken();u&&s.setRequestHeader("x-jwt-token",u),s.send(a)}))},e.prototype.downloadFile=function(e){var n=this.formio.getToken();return e.url=this.formio.formUrl+"/storage/dropbox?path_lower="+e.path_lower+(n?"&x-jwt-token="+n:""),t.Formio.Promise.resolve(e)},e.title="Dropbox",e}(),nr=new Uint8Array(16);function ir(){if(!Hi&&!(Hi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hi(nr)}for(var rr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,or=function(t){return"string"==typeof t&&rr.test(t)},sr=[],ar=0;ar<256;++ar)sr.push((ar+256).toString(16).substr(1));var lr=function(t,e,n){var i=(t=t||{}).random||(t.rng||ir)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(sr[t[e+0]]+sr[t[e+1]]+sr[t[e+2]]+sr[t[e+3]]+"-"+sr[t[e+4]]+sr[t[e+5]]+"-"+sr[t[e+6]]+sr[t[e+7]]+"-"+sr[t[e+8]]+sr[t[e+9]]+"-"+sr[t[e+10]]+sr[t[e+11]]+sr[t[e+12]]+sr[t[e+13]]+sr[t[e+14]]+sr[t[e+15]]).toLowerCase();if(!or(n))throw TypeError("Stringified UUID is invalid");return n}(i)},cr={storage:{azure:tr,dropbox:er,indexeddb:function(){function e(t){this.formio=t}return e.prototype.uploadFile=function(e,n,i,r,o,s){var a=this;if("indexedDB"in window)return new t.Formio.Promise((function(t){var e=indexedDB.open(s.indexeddb,3);e.onsuccess=function(e){var n=e.target.result;t(n)},e.onupgradeneeded=function(t){t.target.result.createObjectStore(s.indexeddbTable)}})).then((function(n){var i=new FileReader;return new t.Formio.Promise((function(t,r){i.onload=function(){var i=new Blob([e],{type:e.type}),r=lr(i),a={id:r,data:i,name:e.name,size:e.size,type:e.type,url:o},l=n.transaction([s.indexeddbTable],"readwrite");l.objectStore(s.indexeddbTable).put(a,r).onerror=function(t){console.log("error storing data"),console.error(t)},l.oncomplete=function(){t({storage:"indexeddb",name:e.name,size:e.size,type:e.type,url:o,id:r})}},i.onerror=function(){return r(a)},i.readAsDataURL(e)}))}));console.log("This browser doesn't support IndexedDB")},e.prototype.downloadFile=function(e,n){var i=this;return new t.Formio.Promise((function(t){indexedDB.open(n.indexeddb,3).onsuccess=function(e){var n=e.target.result;t(n)}})).then((function(r){return new t.Formio.Promise((function(t,o){var s=r.transaction([n.indexeddbTable],"readonly"),a=s.objectStore(n.indexeddbTable).get(e.id);a.onsuccess=function(){s.oncomplete=function(){var n=a.result,r=new File([a.result.data],e.name,{type:a.result.type}),s=new FileReader;s.onload=function(e){n.url=e.target.result,t(n)},s.onerror=function(){return o(i)},s.readAsDataURL(r)}},a.onerror=function(){return o(i)}}))}))},e.title="IndexedDB",e}(),s3:function(){function e(t){this.formio=t}return e.prototype.uploadFile=function(t,e,n,i,r,o,s,a,l){return Qi.upload(this.formio,"s3",(function(i,r){if(r.data.fileName=e,r.data.key=Qi.path([r.data.key,n,e]),r.signed)return i.open("PUT",r.signed),i.setRequestHeader("Content-Type",t.type),t;for(var o=new FormData,s=0,a=Object.keys(r.data);s<a.length;s++){var l=a[s];o.append(l,r.data[l])}return o.append("file",t),i.open("POST",r.url),o}),t,e,n,i,a,l).then((function(n){return{storage:"s3",name:e,bucket:n.bucket,key:n.data.key,url:Qi.path([n.url,n.data.key]),acl:n.data.acl,size:t.size,type:t.type}}))},e.prototype.downloadFile=function(e){return"public-read"!==e.acl?this.formio.makeRequest("file",this.formio.formUrl+"/storage/s3?bucket="+Qi.trim(e.bucket)+"&key="+Qi.trim(e.key),"GET"):t.Formio.Promise.resolve(e)},e.title="AWS S3",e}()}},hr={form:i(62175).Z},ur={form:i(48352).Z},dr={form:i(35353).Z},fr=i(82656),pr=i(11970),gr={form:fr.Z,html:pr.Z},mr=i(1752),vr=i(55066),yr={form:mr.Z,html:vr.Z},_r={form:i(13782).Z},br={sketchpad:hr,tagpad:ur,codereader:dr,dynamicWizard:gr,datatable:yr,signrequestsignature:_r},wr={form:i(76005).Z},xr={form:i(432).Z},kr={form:i(10333).Z},Sr=i(43290),Rr=i(60469),Cr={form:Sr.Z,html:Rr.Z},Or=i(52209),Er=i(80339),Ar={bootstrap:br,bootstrap3:{tagpad:wr,sketchpad:xr,codereader:kr,dynamicWizard:Cr,datatable:{form:Or.Z,html:Er.Z},signrequestsignature:_r},semantic:{}},Mr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tr={components:$i,providers:cr,templates:Ar,displays:{wizard:function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Mr(n,e),n.prototype.emitWizardPageSelected=function(t){this.setChangingMode(),this.emit("wizardPageSelected",this.pages[t],t)},n.prototype.emitNextPage=function(){this.setChangingMode(),this.emit("nextPage",{page:this.page,submission:this.submission})},n.prototype.emitPrevPage=function(){this.setChangingMode(),this.emit("prevPage",{page:this.page,submission:this.submission})},n.prototype.focusOnComponent=function(t){var n=e.prototype.focusOnComponent.call(this,t),i=this.hasDynamicWizard();if(i){var r=this.getComponent(t);i.switchToStep(r)}else this.element&&this.element.classList.contains("dynamicWizard-changingMode")&&this.element.classList.remove("dynamicWizard-changingMode");return n},n.prototype.hasButton=function(e,n){void 0===n&&(n=this.getNextPage());var i=t.Utils._.get(this.currentPage,"component.buttonSettings",{}),r=i.previous,o=void 0===r?this.options.buttonSettings.showPrevious:r,s=i.cancel,a=void 0===s?this.options.buttonSettings.showCancel:s,l=i.submit,c=void 0===l?this.options.buttonSettings.showSubmit:l,h=i.next,u=void 0===h?this.options.buttonSettings.showNext:h,d=this.hasDynamicWizard(),f=!(null==d?void 0:d.isChangingMode)||!d.hasComponents,p=f||this.options.readOnly;switch(e){case"previous":return o&&this.getPreviousPage()>-1&&p;case"next":return u&&null!==n&&-1!==n&&p;case"cancel":return a&&!this.options.readOnly&&p;case"submit":return c&&!this.options.readOnly&&(null===n||this.page===this.pages.length-1)&&f;default:return!0}},n.prototype.setEditMode=function(t){if(!this.editMode&&t._id&&!this.options.readOnly){this.editMode=!0;var e=this.hasDynamicWizard();e&&(e.shouldUpdate=!1,e.isChangingMode=!1),this.redraw()}},n.prototype.setChangingMode=function(){if(!this.options.readOnly){var e=this.hasDynamicWizard();if(e&&!this.editMode&&e.hasComponents){if(e.shouldUpdate&&(e.addRow(),e.shouldUpdate=!1,e.secondRender=!0),this.element&&!this.element.classList.contains("dynamicWizard-changingMode")){if((null==e?void 0:e.editRows.length)===t.Utils._.get(null==e?void 0:e.component,"validate.maxLength")&&!e.isOpen(e.editRows[e.changingRowIndex]))return;this.element.classList.add("dynamicWizard-changingMode"),this.redraw()}}else this.element&&((null==e?void 0:e.isChangingMode)&&e.hasComponents&&(e.isChangingMode=!1,this.redraw()),this.element.classList.contains("dynamicWizard-changingMode")&&this.element.classList.remove("dynamicWizard-changingMode"))}},n.prototype.hasDynamicWizard=function(){var t;return null===(t=this.currentPage)||void 0===t?void 0:t.components.find((function(t){return"dynamicWizard"===t.component.type&&t._parentVisible&&t._visible&&!t._disabled}))},n.prototype.updatePages=function(){this.pages=this.allPages;var t=this.hasDynamicWizard();this.element&&this.element.classList.contains("dynamicWizard-changingMode")&&!t&&this.element.classList.remove("dynamicWizard-changingMode")},n}(t.Displays.displays.wizard)}}}(),r.default}()}));